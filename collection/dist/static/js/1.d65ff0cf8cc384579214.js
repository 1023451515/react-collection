webpackJsonp([1],{"+/7Z":function(e,t){},"1Aa/":function(e,t,a){var i=a("adiS"),o=a("biYF")("iterator"),n=a("ZVlJ");e.exports=a("AKd3").isIterable=function(e){var t=Object(e);return void 0!==t[o]||"@@iterator"in t||n.hasOwnProperty(i(t))}},"1AiY":function(e,t){},"24og":function(e,t){},"27tL":function(e,t,a){var i=a("8Nvm");e.exports=function(e,t){if(!i(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},"2Koi":function(e,t,a){"use strict";var i=a("HzJ8"),o=a.n(i),n={name:"information",data:function(){return{phoneCode:"",phoneInfo:{},qqCode:{},wechatCode:{},expressive:"expressive",empty:"empty",normal:"normal",error:!1}},props:{userInfoBean:{type:Object},debtInfoBeans:{type:Object},caseInfoBeans:{type:Object},moreInfo:"",disabledBtn:{},qqUniqId:{},wechatUniqId:{},phoneUniqId:{}},filters:{filterStatus:function(e){var t;switch(e){case"1":t="新案件";break;case"2":t="已还款";break;case"3":t="部分还款";break;case"4":t="已撤案";break;case"5":t="外访中";break;case"6":t="跟进中";break;default:t=""}return t},empty:function(e){return null===e||""===e?" 空":e}},methods:{clearPhone:function(){this.phoneInfo={uniqueId:-1}},callPhone:function(){if(!this.phoneInfo.phone)return this.$alert("请选择呼叫对象！","提示",{confirmButtonText:"确定",type:"warning"}),!1;this.$emit("callPhone",this.phoneInfo)},smsSend:function(){this.$emit("smsSend",this.phoneInfo)},toMoreInfo:function(){this.$emit("toMoreInfo")},qqSend:function(){this.$emit("qqSend",this.qqCode)},wechatSend:function(){this.$emit("wechatSend",this.wechatCode)},optionChange:function(e){this.error=1==e.isStop,this.$emit("chooseConcat",e)},mount:function(e,t,a,i){if(e.contactPhone){var n=!0,s=!1,l=void 0;try{for(var r,c=o()(e.contactPhone);!(n=(r=c.next()).done);n=!0){(_=r.value).uniqueId==t&&(this.phoneInfo=_,this.error=1==_.isStop)}}catch(e){s=!0,l=e}finally{try{!n&&c.return&&c.return()}finally{if(s)throw l}}}if(e.contactWechat){var d=!0,m=!1,p=void 0;try{for(var u,f=o()(e.contactWechat);!(d=(u=f.next()).done);d=!0){(_=u.value).uniqueId==i&&(this.wechatCode=_)}}catch(e){m=!0,p=e}finally{try{!d&&f.return&&f.return()}finally{if(m)throw p}}}if(e.contactQq){var h=!0,b=!1,v=void 0;try{for(var g,y=o()(e.contactQq);!(h=(g=y.next()).done);h=!0){var _;(_=g.value).uniqueId==a&&(this.qqCode=_)}}catch(e){b=!0,v=e}finally{try{!h&&y.return&&y.return()}finally{if(b)throw v}}}!t&&(this.phoneInfo={}),!a&&(this.qqCode={}),!i&&(this.wechatCode={})}},mounted:function(){if(this.userInfoBean.contactPhone){var e=!0,t=!1,a=void 0;try{for(var i,n=o()(this.userInfoBean.contactPhone);!(e=(i=n.next()).done);e=!0){(b=i.value).uniqueId==this.phoneUniqId&&(this.phoneInfo=b,this.error=1==b.isStop)}}catch(e){t=!0,a=e}finally{try{!e&&n.return&&n.return()}finally{if(t)throw a}}}if(this.userInfoBean.contactWechat){var s=!0,l=!1,r=void 0;try{for(var c,d=o()(this.userInfoBean.contactWechat);!(s=(c=d.next()).done);s=!0){(b=c.value).uniqueId==this.wechatUniqId&&(this.wechatCode=b)}}catch(e){l=!0,r=e}finally{try{!s&&d.return&&d.return()}finally{if(l)throw r}}}if(this.userInfoBean.contactQq){var m=!0,p=!1,u=void 0;try{for(var f,h=o()(this.userInfoBean.contactQq);!(m=(f=h.next()).done);m=!0){var b;(b=f.value).uniqueId==this.qqUniqId&&(this.qqCode=b)}}catch(e){p=!0,u=e}finally{try{!m&&h.return&&h.return()}finally{if(p)throw u}}}},created:function(){}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"infos"},[a("div",{staticClass:"info"},[a("h6",[e._v("案件信息")]),e._v(" "),a("el-form",{staticClass:"form-detail condition-form",attrs:{inline:"","label-position":"right"}},[a("el-form-item",{class:e.caseInfoBeans.caseCode?"normal":"empty",attrs:{label:"案件编号："}},[a("span",[e._v(e._s(e._f("empty")(e.caseInfoBeans.caseCode)))])]),e._v(" "),a("el-form-item",{class:e.caseInfoBeans.batchCode?"normal":"empty",attrs:{label:"案件批次："}},[a("span",[e._v(e._s(e._f("empty")(e.caseInfoBeans.batchCode)))])]),e._v(" "),a("el-form-item",{class:e.caseInfoBeans.borrowerAccount?"normal":"empty",attrs:{label:"账号："}},[a("span",[e._v(e._s(e._f("empty")(e.caseInfoBeans.borrowerAccount)))])]),e._v(" "),a("el-form-item",{class:e.caseInfoBeans.borrowerCard?"normal":"empty",attrs:{label:"卡号："}},[a("span",[e._v(e._s(e._f("empty")(e.caseInfoBeans.borrowerCard)))])]),e._v(" "),a("el-form-item",{class:e.caseInfoBeans.bankCode?"normal":"empty",attrs:{label:"开户行："}},[a("span",[e._v(e._s(e._f("empty")(e.caseInfoBeans.bankCode)))])]),e._v(" "),a("el-form-item",{class:e.caseInfoBeans.currency?"normal":"empty",attrs:{label:"币种："}},[a("span",[e._v(e._s(e._f("empty")(e.caseInfoBeans.currency)))])]),e._v(" "),a("el-form-item",{class:e.caseInfoBeans.activateCardDate?"normal":"empty",attrs:{label:"开卡日期："}},[a("span",[e._v(e._s(e._f("empty")(e.caseInfoBeans.activateCardDate)))])]),e._v(" "),a("el-form-item",{class:e.caseInfoBeans.caseStatusName?"normal":"empty",attrs:{label:"案件状态："}},[a("span",[e._v(e._s(e._f("empty")(e.caseInfoBeans.caseStatusName)))])]),e._v(" "),a("el-form-item",{class:e.caseInfoBeans.commitDate?"normal":"empty",attrs:{label:"委案日期："}},[a("span",[e._v(e._s(e._f("empty")(e.caseInfoBeans.commitDate)))])]),e._v(" "),a("el-form-item",{class:e.caseInfoBeans.allocateDate?"normal":"empty",attrs:{label:"分案时间："}},[a("span",[e._v(e._s(e._f("empty")(e.caseInfoBeans.allocateDate)))])]),e._v(" "),a("el-form-item",{class:e.caseInfoBeans.limitDate?"normal":"empty",attrs:{label:"退案时间："}},[a("span",[e._v(e._s(e._f("empty")(e.caseInfoBeans.limitDate)))])]),e._v(" "),a("el-form-item",{class:e.caseInfoBeans.remark?"normal":"empty",staticStyle:{width:"100%"},attrs:{label:"案件备注："}},[a("span",[e._v(e._s(e._f("empty")(e.caseInfoBeans.remark)))])])],1)],1),e._v(" "),a("div",{staticClass:"info"},[a("h6",[e._v("欠款信息")]),e._v(" "),a("el-form",{staticClass:"form-detail condition-form",attrs:{inline:"","label-position":"right"}},[a("el-form-item",{class:e.debtInfoBeans.loanInstitution?"normal":"empty",attrs:{label:"贷款机构："}},[a("span",[e._v(e._s(e._f("empty")(e.debtInfoBeans.loanInstitution)))])]),e._v(" "),a("el-form-item",{class:e.debtInfoBeans.principal?"normal":"empty",attrs:{label:"本金："}},[a("span",[e._v(e._s(e._f("empty")(e.debtInfoBeans.principal)))])]),e._v(" "),a("el-form-item",{class:e.debtInfoBeans.interest?"normal":"empty",attrs:{label:"利息："}},[a("span",[e._v(e._s(e._f("empty")(e.debtInfoBeans.interest)))])]),e._v(" "),a("el-form-item",{class:e.debtInfoBeans.serviceMoney?"normal":"empty",attrs:{label:"违约金："}},[a("span",[e._v(e._s(e._f("empty")(e.debtInfoBeans.penalty)))])]),e._v(" "),a("el-form-item",{class:e.debtInfoBeans.serviceMoney?"normal":"empty",attrs:{label:"服务费："}},[a("span",[e._v(e._s(e._f("empty")(e.debtInfoBeans.serviceMoney)))])]),e._v(" "),a("el-form-item",{class:e.debtInfoBeans.overLimitMoney?"normal":"empty",attrs:{label:"超限费："}},[a("span",[e._v(e._s(e._f("empty")(e.debtInfoBeans.overLimitMoney)))])]),e._v(" "),a("el-form-item",{class:e.debtInfoBeans.commitMoney?"normal":"empty",attrs:{label:"委案金额："}},[a("span",[e._v(e._s(e._f("empty")(e.debtInfoBeans.commitMoney)))])]),e._v(" "),a("el-form-item",{class:e.debtInfoBeans.latestDebtMoney?"normal":"empty",attrs:{label:"最新欠款金额："}},[a("span",[e._v(e._s(e._f("empty")(e.debtInfoBeans.latestDebtMoney)))])]),e._v(" "),a("el-form-item",{class:e.debtInfoBeans.minRepayment?"normal":"empty",attrs:{label:"最低还款："}},[a("span",[e._v(e._s(e._f("empty")(e.debtInfoBeans.minRepayment)))])]),e._v(" "),a("el-form-item",{class:e.debtInfoBeans.appointMinRepayment?"normal":"empty",attrs:{label:"委案最低还款："}},[a("span",[e._v(e._s(e._f("empty")(e.debtInfoBeans.appointMinRepayment)))])]),e._v(" "),a("el-form-item",{class:e.debtInfoBeans.overdueDay?"normal":"empty",attrs:{label:"逾期天数："}},[a("span",[e._v(e._s(e._f("empty")(e.debtInfoBeans.overdueDay)))])]),e._v(" "),a("el-form-item",{class:e.debtInfoBeans.receivableAge?"normal":"empty",attrs:{label:"目前账龄："}},[a("span",[e._v(e._s(e._f("empty")(e.debtInfoBeans.receivableAge)))])]),e._v(" "),a("el-form-item",{class:e.debtInfoBeans.followDate?"normal":"empty",attrs:{label:"最近催收日期："}},[a("span",[e._v(e._s(e._f("empty")(e.debtInfoBeans.followDate)))])]),e._v(" "),a("el-form-item",{class:e.debtInfoBeans.lastPayDate?"normal":"empty",attrs:{label:"委前最后付款日："}},[a("span",[e._v(e._s(e._f("empty")(e.debtInfoBeans.lastPayDate)))])]),e._v(" "),a("el-form-item",{class:e.debtInfoBeans.lastPayMoney?"normal":"empty",attrs:{label:"委前最后付款额："}},[a("span",[e._v(e._s(e._f("empty")(e.debtInfoBeans.lastPayMoney)))])]),e._v(" "),a("el-form-item",{class:e.debtInfoBeans.isInstalment?"normal":"empty",attrs:{label:"是否分期："}},[a("span",[e._v(e._s(e._f("empty")(e.debtInfoBeans.isInstalment)))])]),e._v(" "),a("el-form-item",{class:e.debtInfoBeans.billStage?"normal":"empty",attrs:{label:"账单期别："}},[a("span",[e._v(e._s(e._f("empty")(e.debtInfoBeans.billStage)))])]),e._v(" "),a("el-form-item",{class:e.debtInfoBeans.billDays?"normal":"empty",attrs:{label:"账单日："}},[a("span",[e._v(e._s(e._f("empty")(e.debtInfoBeans.billDays)))])]),e._v(" "),a("el-form-item",{class:e.debtInfoBeans.productName?"normal":"empty",attrs:{label:"产品名称："}},[a("span",[e._v(e._s(e._f("empty")(e.debtInfoBeans.productName)))])]),e._v(" "),a("el-form-item",{class:e.debtInfoBeans.totalRepayMoney?"normal":"empty",attrs:{label:"已还款总金额："}},[a("span",[e._v(e._s(e._f("empty")(e.debtInfoBeans.totalRepayMoney)))])])],1)],1),e._v(" "),a("div",{staticClass:"info"},[a("h6",[e._v("用户信息")]),e._v(" "),a("el-form",{staticClass:"form-detail condition-form",attrs:{inline:"","label-position":"right"}},[a("el-form-item",{class:e.userInfoBean.borrowerName?"expressive":"empty",attrs:{label:"姓名："}},[a("span",[e._v(e._s(e._f("empty")(e.userInfoBean.borrowerName)))])]),e._v(" "),a("el-form-item",{class:e.userInfoBean.borrowerAge?"normal":"empty",attrs:{label:"年龄："}},[a("span",[e._v(e._s(e._f("empty")(e.userInfoBean.borrowerAge)))])]),e._v(" "),a("el-form-item",{class:e.userInfoBean.borrowerIdnumber?"normal":"empty",attrs:{label:"身份证号码："}},[a("span",[e._v(e._s(e._f("empty")(e.userInfoBean.borrowerIdnumber)))])]),e._v(" "),a("el-form-item",{staticClass:"row-option"},[a("el-row",[a("el-col",{staticClass:"right i-icon"},[e.disabledBtn?e._e():a("i",{staticClass:"icon-qq iconfont case-info-icon",on:{click:e.qqSend}}),e._v(" "),e.disabledBtn?a("i",{staticClass:"icon-qq iconfont case-info-icon"}):e._e(),e._v(" "),a("b",[e._v(":")])]),e._v(" "),a("el-col",{attrs:{span:14}},[a("el-select",{attrs:{size:"mini","value-key":"uniqueId"},model:{value:e.qqCode,callback:function(t){e.qqCode=t},expression:"qqCode"}},e._l(e.userInfoBean.contactQq,function(e){return a("el-option",{key:e.uniqueId,attrs:{label:e.code+" ("+e.relation+") ",value:e}})}))],1)],1)],1),e._v(" "),a("el-form-item",{staticClass:"row-option"},[a("el-row",[a("el-col",{staticClass:"right i-icon",attrs:{size:"mini"}},[e.disabledBtn?e._e():a("i",{staticClass:"icon-gongzhonghao iconfont case-info-icon",on:{click:e.wechatSend}}),e._v(" "),e.disabledBtn?a("i",{staticClass:"icon-gongzhonghao iconfont case-info-icon"}):e._e(),e._v(" "),a("b",[e._v(":")])]),e._v(" "),a("el-col",{attrs:{span:14}},[a("el-select",{ref:"phone",attrs:{"value-key":"uniqueId",placeholder:"请选择",size:"mini"},on:{change:e.optionChange},model:{value:e.wechatCode,callback:function(t){e.wechatCode=t},expression:"wechatCode"}},e._l(e.userInfoBean.contactWechat,function(e){return a("el-option",{key:e.uniqueId,attrs:{label:e.code+" ("+e.relation+") ",value:e}})}))],1)],1)],1),e._v(" "),a("el-form-item",{class:e.userInfoBean.email?"normal":"empty",attrs:{label:"邮箱："}},[a("span",[e._v(e._s(e._f("empty")(e.userInfoBean.email)))])]),e._v(" "),a("el-form-item",{staticStyle:{overflow:"visible"}},[a("el-row",[a("el-col",{staticClass:"right i-icon"},[e.disabledBtn?e._e():a("i",{staticClass:"icon-dianhua iconfont case-info-icon",on:{click:e.callPhone}}),e._v(" "),e.disabledBtn?e._e():a("i",{staticClass:"icon-duanxin iconfont case-info-icon",on:{click:e.smsSend}}),e._v(" "),e.disabledBtn?a("i",{staticClass:"icon-dianhua iconfont case-info-icon"}):e._e(),e._v(" "),a("b",[e._v(":")])]),e._v(" "),a("el-col",{attrs:{span:14}},[a("el-select",{ref:"phone",attrs:{"value-key":"uniqueId",placeholder:"请选择",size:"mini",error:e.error},on:{change:e.optionChange},model:{value:e.phoneInfo,callback:function(t){e.phoneInfo=t},expression:"phoneInfo"}},e._l(this.userInfoBean.contactPhone,function(e){return a("el-option",{key:e.uniqueId,attrs:{label:e.name+" ("+e.relation+")"+e.phone,value:e}})}))],1)],1),e._v(" "),e.error?a("div",{staticClass:"el-form-item__error",staticStyle:{right:"0",left:"unset","margin-top":"-2px"}},[e._v("\n            此号码已停催\n          ")]):e._e()],1),e._v(" "),a("el-form-item",{class:e.userInfoBean.homeAddress?"normal":"empty",attrs:{label:"家庭地址："}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.userInfoBean.homeAddress,placement:"top-start"}},[a("p",[e._v(e._s(e._f("empty")(e.userInfoBean.homeAddress)))])])],1),e._v(" "),a("el-form-item",{class:e.userInfoBean.homeTel?"normal":"empty",attrs:{label:"家庭电话："}},[a("span",[e._v(e._s(e._f("empty")(e.userInfoBean.homeTel)))])]),e._v(" "),a("el-form-item",{class:e.userInfoBean.usualAddress?"normal":"empty",attrs:{label:"常用地址："}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e._f("empty")(e.userInfoBean.usualAddress),placement:"top-start"}},[a("p",[e._v(e._s(e._f("empty")(e.userInfoBean.usualAddress)))])])],1),e._v(" "),a("el-form-item",{class:e.userInfoBean.billAddress?"normal":"empty",attrs:{label:"账单地址："}},[a("p",[e._v(e._s(e._f("empty")(e.userInfoBean.billAddress)))])]),e._v(" "),a("el-form-item",{class:e.userInfoBean.companyName?"normal":"empty",attrs:{label:"公司："}},[a("span",[e._v(e._s(e._f("empty")(e.userInfoBean.companyName)))])]),e._v(" "),a("el-form-item",{class:e.userInfoBean.companyAddress?"normal":"empty",attrs:{label:"公司地址："}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e._f("empty")(e.userInfoBean.companyAddress),placement:"top-start"}},[a("p",[e._v(e._s(e._f("empty")(e.userInfoBean.companyAddress)))])])],1),e._v(" "),a("el-form-item",{class:e.userInfoBean.companyTel?"normal":"empty",attrs:{label:"公司电话："}},[a("span",[e._v(e._s(e._f("empty")(e.userInfoBean.companyTel)))])]),e._v(" "),a("el-form-item",{class:e.userInfoBean.otherAddress?"normal":"empty",attrs:{label:"其他地址："}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e._f("empty")(e.userInfoBean.otherAddress),placement:"top-start"}},[a("p",[e._v(e._s(e._f("empty")(e.userInfoBean.otherAddress)))])])],1),e._v(" "),a("el-form-item",{staticClass:"moreInfo",attrs:{label:""}},[a("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){return t.preventDefault(),e.toMoreInfo(t)}}},[e._v(e._s(e.moreInfo))])])],1)],1)])},staticRenderFns:[]};var l=a("vSla")(n,s,!1,function(e){a("rhx1")},null,null);t.a=l.exports},"2us7":function(e,t){},"4BpY":function(e,t,a){"use strict";var i=a("C02x"),o=a("AKd3"),n=a("lIiZ"),s=a("sjnA"),l=a("biYF")("species");e.exports=function(e){var t="function"==typeof o[e]?o[e]:i[e];s&&t&&!t[l]&&n.f(t,l,{configurable:!0,get:function(){return this}})}},"4HpA":function(e,t,a){"use strict";var i=a("C02x"),o=a("FITv"),n=a("DVkV"),s=a("BRDz"),l=a("bHZz"),r=a("bodH"),c=a("k/7E"),d=a("t8DS"),m=a("8Nvm"),p=a("XAI7"),u=a("lIiZ").f,f=a("A+MN")(0),h=a("sjnA");e.exports=function(e,t,a,b,v,g){var y=i[e],_=y,w=v?"set":"add",I=_&&_.prototype,C={};return h&&"function"==typeof _&&(g||I.forEach&&!s(function(){(new _).entries().next()}))?(_=t(function(t,a){d(t,_,e,"_c"),t._c=new y,void 0!=a&&c(a,v,t[w],t)}),f("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var t="add"==e||"set"==e;e in I&&(!g||"clear"!=e)&&l(_.prototype,e,function(a,i){if(d(this,_,e),!t&&g&&!m(a))return"get"==e&&void 0;var o=this._c[e](0===a?0:a,i);return t?this:o})}),g||u(_.prototype,"size",{get:function(){return this._c.size}})):(_=b.getConstructor(t,e,v,w),r(_.prototype,a),n.NEED=!0),p(_,e),C[e]=_,o(o.G+o.W+o.F,C),g||b.setStrong(_,e,v),_}},"8SsP":function(e,t,a){var i=a("FITv");i(i.P+i.R,"Map",{toJSON:a("Oyrx")("Map")})},"A+MN":function(e,t,a){var i=a("WwGG"),o=a("mEMm"),n=a("OXaN"),s=a("CFGK"),l=a("dC2g");e.exports=function(e,t){var a=1==e,r=2==e,c=3==e,d=4==e,m=6==e,p=5==e||m,u=t||l;return function(t,l,f){for(var h,b,v=n(t),g=o(v),y=i(l,f,3),_=s(g.length),w=0,I=a?u(t,_):r?u(t,0):void 0;_>w;w++)if((p||w in g)&&(b=y(h=g[w],w,v),e))if(a)I[w]=b;else if(b)switch(e){case 3:return!0;case 5:return h;case 6:return w;case 2:I.push(h)}else if(d)return!1;return m?-1:c||d?d:I}}},"Cl/E":function(e,t,a){var i=a("5pnV"),o=a("/r4/"),n=a("XvZ9").f;e.exports=function(e){return function(t){for(var a,s=o(t),l=i(s),r=l.length,c=0,d=[];r>c;)n.call(s,a=l[c++])&&d.push(e?[a,s[a]]:s[a]);return d}}},"G/71":function(e,t,a){a("Gquc"),a("IsPG"),a("A1pn"),a("uhis"),a("8SsP"),a("bJpG"),a("stem"),e.exports=a("AKd3").Map},G0FK:function(e,t){},KH7x:function(e,t,a){"use strict";t.__esModule=!0;var i=n(a("MGgt")),o=n(a("HzJ8"));function n(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return function(e,t){if(Array.isArray(e))return e;if((0,i.default)(Object(e)))return function(e,t){var a=[],i=!0,n=!1,s=void 0;try{for(var l,r=(0,o.default)(e);!(i=(l=r.next()).done)&&(a.push(l.value),!t||a.length!==t);i=!0);}catch(e){n=!0,s=e}finally{try{!i&&r.return&&r.return()}finally{if(n)throw s}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},KTOJ:function(e,t){},Ld6B:function(e,t){},MGgt:function(e,t,a){e.exports={default:a("hWTF"),__esModule:!0}},MgeX:function(e,t,a){e.exports={default:a("XEbU"),__esModule:!0}},MxwP:function(e,t,a){"use strict";var i=a("lIiZ").f,o=a("c1o2"),n=a("bodH"),s=a("WwGG"),l=a("t8DS"),r=a("k/7E"),c=a("uH+j"),d=a("z7iO"),m=a("4BpY"),p=a("sjnA"),u=a("DVkV").fastKey,f=a("27tL"),h=p?"_s":"size",b=function(e,t){var a,i=u(t);if("F"!==i)return e._i[i];for(a=e._f;a;a=a.n)if(a.k==t)return a};e.exports={getConstructor:function(e,t,a,c){var d=e(function(e,i){l(e,d,t,"_i"),e._t=t,e._i=o(null),e._f=void 0,e._l=void 0,e[h]=0,void 0!=i&&r(i,a,e[c],e)});return n(d.prototype,{clear:function(){for(var e=f(this,t),a=e._i,i=e._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete a[i.i];e._f=e._l=void 0,e[h]=0},delete:function(e){var a=f(this,t),i=b(a,e);if(i){var o=i.n,n=i.p;delete a._i[i.i],i.r=!0,n&&(n.n=o),o&&(o.p=n),a._f==i&&(a._f=o),a._l==i&&(a._l=n),a[h]--}return!!i},forEach:function(e){f(this,t);for(var a,i=s(e,arguments.length>1?arguments[1]:void 0,3);a=a?a.n:this._f;)for(i(a.v,a.k,this);a&&a.r;)a=a.p},has:function(e){return!!b(f(this,t),e)}}),p&&i(d.prototype,"size",{get:function(){return f(this,t)[h]}}),d},def:function(e,t,a){var i,o,n=b(e,t);return n?n.v=a:(e._l=n={i:o=u(t,!0),k:t,v:a,p:i=e._l,n:void 0,r:!1},e._f||(e._f=n),i&&(i.n=n),e[h]++,"F"!==o&&(e._i[o]=n)),e},getEntry:b,setStrong:function(e,t,a){c(e,t,function(e,a){this._t=f(e,t),this._k=a,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?d(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,d(1))},a?"entries":"values",!a,!0),m(t)}}},NWpI:function(e,t,a){var i=a("FITv"),o=a("Cl/E")(!1);i(i.S,"Object",{values:function(e){return o(e)}})},Nuzt:function(e,t){},O46a:function(e,t){},Oyrx:function(e,t,a){var i=a("adiS"),o=a("vhYp");e.exports=function(e){return function(){if(i(this)!=e)throw TypeError(e+"#toJSON isn't generic");return o(this)}}},"P/wp":function(e,t){e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAMCAgICAgMCAgIDAwMDBAYEBAQEBAgGBgUGCQgKCgkICQkKDA8MCgsOCwkJDRENDg8QEBEQCgwSExIQEw8QEBD/2wBDAQMDAwQDBAgEBAgQCwkLEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBD/wAARCADIAMgDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD9O6KKKACiiigAooooAKKK4L41/GnwT8BvAd5498cXpjtof3Vrax4M97cEEpDEp6scHnoACTgA00ruyA6zxD4j0Dwno914h8Ua1ZaTplknmXF5eTrDDEvqzMQB6fWvij4y/wDBUvwJ4cmn0f4NeFpvFNzGSg1TUC1rYg+qR482UfXy/Ymvh79ob9p34lftG+I21LxZqDWmjW8hbTdDtpD9ls16AkceZJjrIwycnG1cKPIq64YdLWQrn0P46/b5/aj8cyyA/ER9AtXzi10K3S0VM+koBm/OQ147rfxM+I/iV2k8R/EDxJqrv95r3VZ5yfrvc1zVFdCjFbIklF3dLL5y3Mok/vhzu/Ouz8J/HL4y+Bp0n8JfFLxRpewg+XBqkwibHZoyxRh7EEVw9FNpPcD70/Z//wCCn/i3S9RtPD3x+sYNY0uVhG2vWNuIbu3z/HLCgCSqO+xUYDJw54P6TaPq+l+INKs9c0S/gvtP1CBLm1uYHDxzROoZXVhwQQQQa/nlrvvAnx9+NXwyEEfgX4n+ItJtrf8A1dnHfO9oOc/8e7kxH8VrnqYdS1joO5+9FFfnN+z9/wAFRL03tt4b/aE0mBreVhGPEWmQFGiJ/iuLdeGHq0WCAOENfoZo2s6T4h0q013QdSttQ06/hW4tbq2kEkU0bDKsrDggjvXLOEoOzKLtFFFQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQBHc3NvZ28t3dzxwwQI0kskjBVRAMliTwAAMk1+KX7YX7Ruo/tE/FW71S1uZV8K6K8lloFqcgCAH5rhl/vykBj3C7F/hr9EP+CinxYm+Gv7O1/o+mXJi1PxpcLocRVsMtuyl7lvoY1MZ/66ivx6rrw0PtMTCiiiuokKKKKACiiigAooooAK+yv+Cev7Vd98MvGdp8HfGeps/hDxJciGxeZ/l0u/c4UqT92KVjtYdAxV+Pnz8a0qsysGViCDkEHkGpnFTVmM/olorxz9kb4ty/Gn4A+F/GOoXHnatFAdN1Vicsbu3Ox3b3cBJP+2lex15rVnZlBRRRSAKKKKACiiigAooooAKKKKACiiigD8xf+CsXi6W9+JfgrwOspMOk6JLqbKDx5lzOU599tqPz96+E6+qP+Cld7Jd/tTapA7ZFnpGnwJ7AxeZ/OQ18r16NJWgiWFFFFaCCiiigAooooAKKKKACiiigD9IP+CS3jGSXR/iB8P55Tstbmz1i2TPeVXimP/kKD86/Qavyq/4JU6o9t8ffEGlk/u77wpcNj/bjurYj9Gev1Vrgrq02UgooorEYUUUUAFFFFABRRRQAUUUUAFFFFAH5A/8ABSyye1/am1Sd1IF5pGnzL7gRbP5oa+V6+4f+Cr/ht7L4veEPFax7Y9V8PGyzjhpLe4kZj9dtwg/AV8PV6VJ3giWFFFFWIKKKKACiiigAooooAKKKKAPr/wD4JcRu/wC0neMucR+F71m+nnW4/mRX6z1+X3/BJ3Q5Lj4s+M/EgTMdh4dSxLY6NPcxuB+Vufyr9Qa4cR8ZSCiiisBhRRRQAUUUUAFFFFABRRRQAUUUUAfBH/BWSTwlN4K8DwT6zbL4ntNTnktrDJMzWMsWJpeB8qiSKAc4yc4ztOPzQr3r9ujxRqvin9qXxzJqczsul3aaXaxseIoIY1UBR2Bbc/1cnvXgtejSjywSJYUUUVoIKKKKACiiigAooooAKKKKAP0p/wCCTVz4Oh8K+OrOHWYD4qu7+3luLAgiQafFHiKUZGGXzJpgcZ2/LnG4Z+/a/FL9hnxLqnhn9qXwJLpkrqNRvX0y5RTxLBNEysGHcA7X+qA9q/a2uHERtO/cpBRRRWAwooooAKKKKACiiigAooooAKKKKAPx1/4KMeCLnwh+1DrupmBktPFFpaavbNjg5iEMnPr5sMh/4EK+Y6/aP9sf9laz/aZ8E2sWl3tvpvizQGkl0m8nB8qRXA8y3lIBIRtqkMASrKDggsD+Q3xO+GfjH4P+Nb/4f+PNNSx1nTfLM0STJMhWRFdGV0JUgqyn1HQ4IIrvozUo26ks5WiiithBRRRQAUUUUAFFFFABRRXX/Cj4WeL/AI0eOtP+Hfga2gm1bUhK0f2iYRRIkcbO7Ox6AKp9STgAEmhu2rA9y/4JxeBbnxf+09o2riAvZ+FbK71a5bHyg+WYIhn18yZWA/2T6Gv2FrwX9kT9lrSv2ZPA9xp9xfQ6p4o1t0m1jUIlIj+QHy4IsgHy03NyQCxZiQOFX3qvPrTU5XRSCiiishhRRRQAUUUUAFFFFABRRRQAUUUUAFfnD/wVT+DF3Hqnh/466RaM9rPCuh6yUH+rkUs1vK3swZ0J6DZGOrV+j1YPjzwP4b+JPg/VvAvi/T1vdI1q2a1uojwdp6Mp/hdWAZW6hlB7VdOfJK4H8+9Feo/tF/ALxZ+zt8RrzwV4hiknsZC0+kakExHf2mflcdg44Dr/AAt6gqT5dXpJpq6ICiiigAooooAKKKKACv0T/wCCV3wSu4n134861aMkMsTaJom8f6wbg1zMPYFUjBHfzR2r5N/Zg/Zx8T/tIfESDwzpiTWuh2TJPrmqBfltLbP3VJ4Mr4Kovrkn5VYj9rvCXhTQPAvhnTPB/hXTY7DSdItktLS3j6JGowOepJ6knkkknJNc+IqWXKhpGvRRRXEUFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFAHnfxz+BXgT9oHwRP4K8c2JK5MtjfQgC4sJ8YEsTH8ip4YcHtj8a/wBof4B+Kv2cviJJ4A8VXlnetLarqFheWrfJc2jySIkhU8xtuicFD0K8EjDH92K/Kn/gqyP+MhPDp/6ky1/9Lr2unDyfNy9BM+L6KKK7CQooooAK9W/Zq/Z+179pL4lJ4A0TVrXS47e0fU9QvJwW8m0SSON2RB9990qALkDnkgAmvKa+0P8AglKP+MhPEZ/6k26/9LrKoqScYtoZ+j/we+Dvgb4G+CLTwJ4B0wW1lb/vJ5nw095OQA00z4G5zgegAAAAAAHb0UV5zd9WUFFFFIAooooAKKKKACiiigAooooAKKKKACiiigAooooAK/KH/gqlcrP+0Xo0Sn/j38IWcZ9ibu7b+TCv1bmmit4nuLiVIoo1Lu7sFVVAySSegA71+J37aPxg0f42ftA694q8NyLLotmsWk6dOOlxDACDKP8AZdy7L/slc85row6vO4meG0UUV2khRRRQAV9kf8ErrlYP2jNZiY4Nx4QvIx7kXdo38lNfG9e2/scfGPS/gf8AHzQPGHiA7NFuRJpepy4JMEE42+bx2Rwjnr8qtgZxUVFeDSGftzRUVtc217bRXlncRz286LLFLE4ZJEYZVlI4IIIIIqWvNKCiiigAooooAKKKKACiiigAooooAKKKKACis3xD4l8O+EdKm13xVr2n6PptuMy3d/cpBCn1dyAPzr5S+K3/AAU1+BXghprDwJa6j451GPIDWi/ZbIMOxnkG4/VI2B9aqMJS2QH1/XB/FT46fCf4K6YdS+JHjXT9JJQvDaM/mXdx/wBc4EzI/PGQMDuRX5cfFT/gox+0X8RPOstC1i18FaZJlRDokZW4K9t1y+ZA3vHs+lfM2p6pqetX82qaxqNzf3ty2+a5uZmllkb1Z2JJPuTXRHDN/ExXPrP9q3/goF4q+Ntld+AvhzZ3XhnwbPmO6eRwL7U4/wC7KVJEUZ7xqTu/iYg7a+QqKK6oxUFZCCiiimIKKKKACiiigD6t/ZX/AG+PGvwHtbbwT4ys5/FHgqI7YYPMAvNOXPIt3bhk/wCmTkD+6yc5/S74RftH/Bn44WaTfDzxvY3l4U3yaZO3kX0PHO6B8MQP7y5X0Jr8JKkt7i4tJ47q0nkhmhYPHJGxVkYcggjkEetYzoRnqtGO5/RFRX4yfC39vn9pP4YeTaHxkPFGmxYH2PxChu+PQTZEw46fOQPSvr/4V/8ABU34VeIzDYfFPwtqfhG6bCteWxN/ZZ7k7VEqfQI+PWuaVCcfMdz7cornPA/xG8B/ErSRrngDxdpWv2RxulsLlZfLJ/hdQco3+ywB9q6OsdhhRRRQAUUUUAFFFRXV1bWNtNe3txHBb28bSyyysFSNFGWZieAAASSaAC6urWxtZr29uYre3t0aWWaVwiRooyzMx4AABJJr4T/aN/4KbaB4ZnuvCfwDsbbXr+MmKXX7tSbGJuh8iMYM5HZyQmQCA4NeAftrftraz8b9Zu/h78PtQnsfh/YymNmjJR9adT/rZO4hBGUjPXhm5wE+Sa66VBbzE2db8Rvix8SPi3rB174jeMdS127yTH9pl/dQg9RFEMJEvsigVyVFFdSVtiQooooAKKKKACiiigAooooAKKKKACiiigAooooA2fCfjLxZ4E1mHxF4L8R6jompwfcurC5eGQDuCVIyp7g8HuK+7v2dv+Cn2o209r4X/aHsVurZiI18SafAFlj/ANq4t0GHHq0QBGPuMea/PiionTjPcZ/Qr4f8Q6F4r0Wz8R+GdXtNU0u/iE1rd2kokilQ91YcH/HitGvxg/ZF/a58Ufs4eKY9P1Ce41LwNqc4/tTTN24wE4BubcH7sgHVeA4GDztZf2Q0DXtH8U6JYeJPD2ow3+manbx3dpdQtlJonUMrA+hBFcNSm6bGi/RRRWYwr4f/AOCnPx+ufBfgiw+Cvhu9MOp+Lo2udWeN8PFpittEfHI85wwPqsUinhq+4K/EH9sf4iTfEz9pHxvrv2jzbSy1F9IscHKiC1/cgr7MyM/1c1tQjzSu+gmeL0UUV3khRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABX6Qf8Etfjtc6hZav8A/EF6XOnxtq+gmRuRCWAuIFz2DMsigc/PKegr8369S/Zd8ezfDT9oLwJ4tSfyoYdZgtbts8fZbg+RNn1xHIx+oFRVjzxaGj91KKKK80op6zqMej6RfatLjZZW0tw2fRFLH+Vfz13t5caheT393IZJ7mVppXPVnYkk/maKK68L1EyGiiiuokKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKfFLJBKk0LlJI2DKw6gjkGiigD+hTQNR/tjQdN1fj/TrSG546fOgb+tFFFeUyz//2Q=="},SMmX:function(e,t,a){"use strict";var i=a("FITv"),o=a("7p3N"),n=a("WwGG"),s=a("k/7E");e.exports=function(e){i(i.S,e,{from:function(e){var t,a,i,l,r=arguments[1];return o(this),(t=void 0!==r)&&o(r),void 0==e?new this:(a=[],t?(i=0,l=n(r,arguments[2],2),s(e,!1,function(e){a.push(l(e,i++))})):s(e,!1,a.push,a),new this(a))}})}},V2W7:function(e,t,a){var i=a("ZVlJ"),o=a("biYF")("iterator"),n=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||n[o]===e)}},XEbU:function(e,t,a){a("NWpI"),e.exports=a("AKd3").Object.values},b4tm:function(e,t,a){var i=a("8Nvm"),o=a("JBI7"),n=a("biYF")("species");e.exports=function(e){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)||(t=void 0),i(t)&&null===(t=t[n])&&(t=void 0)),void 0===t?Array:t}},bJpG:function(e,t,a){a("vyS5")("Map")},bodH:function(e,t,a){var i=a("bHZz");e.exports=function(e,t,a){for(var o in t)a&&e[o]?e[o]=t[o]:i(e,o,t[o]);return e}},cUn4:function(e,t,a){e.exports={default:a("G/71"),__esModule:!0}},"cc+1":function(e,t){},dC2g:function(e,t,a){var i=a("b4tm");e.exports=function(e,t){return new(i(e))(t)}},eTuR:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=a("a3Yh"),n=a.n(o),s=a("MDzk"),l=a("XBA1"),r=a("2Koi"),c=[{key:"id",label:"编号",width:"auto",id:"0"},{key:"userName",label:"通话时间",width:"150",id:"2"},{key:"userAccount",label:"通话时长",width:"150",id:"3"},{key:"telephone",label:"催收员",width:"150",id:"4"},{key:"email",label:"催收对象姓名",width:"150",id:"5"},{key:"postionName",label:"关系",width:"150",id:"6"},{key:"seniority",label:"电话",width:"auto",id:"7"},{key:"status",label:"电话状态",width:"auto",id:"9"},{key:"sex",label:"案件状态",width:"auto",id:"10"},{key:"education",label:"催收建议",width:"auto",id:"11"},{key:"companySign",label:"催记详情",width:"150",id:"12"}],d=(i={components:{information:r.a},data:function(){return{caseInfoBeans:{},debtInfoBeans:{},userInfoBean:{},labels:{},phoneCode:"",moreInfo:"",tb:{data:[],fields:c},caseCode:"",caseId:"",caseManageId:"",caseStatus:"",total:0,pageSize:15,currentPage:1,loading:!1}}},n()(i,"components",{tableComponent:s.a,pagination:l.a,information:r.a}),n()(i,"methods",{getList:function(){var e=this;this.$axios.post("/api/assignee/collectionManage/queryIntelligentCaseDetails",{caseDetailBean:[{caseCode:this.caseCode,caseId:Number(this.caseId),caseManageId:Number(this.caseManageId)}]}).then(function(t){if(0==t.data.code){var a=t.data.data[0];e.debtInfoBeans=a.debtInfoBean,e.userInfoBean=a.userInfoBean,e.caseInfoBeans=a.caseInfoBean,e.labels=a.label}else e.$util.failCallback(t.data,e)}).catch(function(e){})},changePage:function(e){this.currentPage=e},choose:function(e){},handleSelectionChange:function(){}}),n()(i,"created",function(){this.caseCode=this.$util.decrypt(this.$route.query.caseCode,"case"),this.caseId=this.$util.decrypt(this.$route.query.id,"case"),this.caseManageId=this.$util.decrypt(this.$route.query.mId,"case"),this.getList()}),i),m={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"content-body"},[e._m(0),e._v(" "),i("div",{staticClass:"bd-main"},[i("div",{staticClass:"case-detail"},[i("el-row",[i("img",{staticClass:"borrower-avatar",attrs:{src:a("P/wp"),alt:"",width:"80px",height:"80px"}}),e._v(" "),i("div",{staticClass:"borrower-tags"},[e._l(e.labels,function(t){return[i("el-button",{attrs:{size:"mini",type:"primary",round:""}},[e._v(e._s(t))])]})],2)])],1),e._v(" "),i("information",{attrs:{debtInfoBeans:e.debtInfoBeans,caseInfoBeans:e.caseInfoBeans,userInfoBean:e.userInfoBean,showPhone:!0,disabledBtn:!0}})],1)]),e._v(" "),i("div",{staticClass:"content-body"},[e._m(1),e._v(" "),i("div",{staticClass:"bd-main"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",attrs:{data:e.tb.data,"tooltip-effect":"dark","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","empty-text":"暂无数据"}},e._l(e.tb.fields,function(e){return i("el-table-column",{key:e.id,attrs:{align:"left",prop:e.key,label:e.label,width:e.width}})})),e._v(" "),i("pagination",{attrs:{total:e.total,pageSize:e.pageSize,currentPage:e.currentPage,moreInfo:e.moreInfo},on:{changePage:e.changePage}})],1)])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"bd-top"},[t("div",{staticClass:"md clearfix"},[t("div",{staticClass:"md-left"},[t("h5",[this._v("案件详情")])]),this._v(" "),t("div",{staticClass:"md-right"})])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"bd-top"},[t("div",{staticClass:"md clearfix"},[t("div",{staticClass:"md-left"},[t("h5",[this._v("催记")])]),this._v(" "),t("div",{staticClass:"md-right"})])])}]};var p=a("vSla")(d,m,!1,function(e){a("G0FK")},null,null);t.default=p.exports},fP0r:function(e,t){},fVzQ:function(e,t){},h8Fy:function(e,t){},hWTF:function(e,t,a){a("A1pn"),a("IsPG"),e.exports=a("1Aa/")},"i//K":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),o=a.n(i),n=a("cUn4"),s=a.n(n),l=a("KH7x"),r=a.n(l),c=a("HzJ8"),d=a.n(c),m=a("aA9S"),p=a.n(m),u=a("a3Yh"),f=a.n(u),h=a("MDzk"),b=a("XBA1"),v=a("2Koi"),g={props:{wechatAddVisible:{type:Boolean},onLineData:{type:Object},wechatCode:{type:String},mywechatAccount:{type:String}},data:function(){return{templateName:"",template:"",templateNameArr:[],templateArr:[]}},methods:{handleClose:function(e){this.$emit("addwechatclose")},getList:function(){var e=this;this.$axios.post("/api/assignee/sms/weChat/addFriend/info",{borrowerName:this.onLineData.borrowerName,latestDebtMoney:this.onLineData.latestDebtMoney,loanInstitution:this.onLineData.loanInstitution,name:this.onLineData.borrowerName,productName:this.onLineData.productName}).then(function(t){if(0==t.data.code){var a=!0,i=!1,o=void 0;try{for(var n,s=d()(t.data.data.smsTemplates);!(a=(n=s.next()).done);a=!0){var l=n.value;e.templateNameArr.push(l.templateName),e.templateArr.push(l.template)}}catch(e){i=!0,o=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw o}}}else e.$util.failCallback(t.data,e)}).catch(function(e){})},submit:function(){var e=this;this.$axios.post("/api/assignee/sms/addWechat",{account:this.mywechatAccount,caseId:this.onLineData.caseId,phone:this.onLineData.phone,wechatCode:this.wechatCode,template:this.template}).then(function(t){0==t.data.code?(e.$message.success("正在发送"),e.handleClose()):e.$util.failCallback(t.data,e)}).catch(function(e){})},changeOption:function(e){var t=this.templateNameArr.indexOf(e);this.template=this.templateArr[t]}},created:function(){this.getList()}},y={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"qq out_visit_form"},[a("el-dialog",{attrs:{title:"添加微信联系人",visible:e.wechatAddVisible,width:"30%","before-close":e.handleClose,"close-on-click-modal":!1,"show-close":!0},on:{"update:visible":function(t){e.wechatAddVisible=t}}},[a("el-form",{ref:"form"},[a("el-form-item",{attrs:{label:"微信："}},[e._v("\n        "+e._s(e.wechatCode+" / "+e.onLineData.borrowerName)+"\n      ")]),e._v(" "),a("h5",[e._v("验证消息模板：")]),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-select",{attrs:{size:"mini",clearable:""},on:{change:e.changeOption},model:{value:e.templateName,callback:function(t){e.templateName=t},expression:"templateName"}},e._l(e.templateNameArr,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1),e._v(" "),a("h5",[e._v("模板内容：")]),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{type:"textarea",rows:6,disabled:"",size:"mini"},model:{value:e.template,callback:function(t){e.template=t},expression:"template"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog_footer"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.submit}},[e._v("发送")])],1)],1)],1)},staticRenderFns:[]};var _=a("vSla")(g,y,!1,function(e){a("2us7")},"data-v-2d214746",null).exports,w={props:{wechatSendVisible:{type:Boolean},onLineData:{type:Object},wechatCode:{type:String},mywechatAccount:{type:String},mywechatAddAccount:{type:String}},data:function(){return{templateName:"",template:"",templateNameArr:[],templateArr:[],latestSms:""}},methods:{handleClose:function(e){this.$emit("sendwechatclose")},getList:function(){var e=this;this.$axios.post("/api/assignee/sms/getWeChatInfo",{borrowerName:this.onLineData.borrowerName,latestDebtMoney:this.onLineData.latestDebtMoney,loanInstitution:this.onLineData.loanInstitution,name:this.onLineData.borrowerName,account:this.mywechatAccount,productName:this.onLineData.productName}).then(function(t){if(0==t.data.code){e.latestSms=t.data.data.latestSms;var a=!0,i=!1,o=void 0;try{for(var n,s=d()(t.data.data.smsTemplates);!(a=(n=s.next()).done);a=!0){var l=n.value;e.templateNameArr.push(l.templateName),e.templateArr.push(l.template)}}catch(e){i=!0,o=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw o}}}else e.$util.failCallback(t.data,e)}).catch(function(e){})},submit:function(){var e=this;if(!this.template.length)return this.$alert("未选择发送消息！","提示",{confirmButtonText:"确定",type:"warning"}),!1;this.$axios.post("/api/assignee/sms/sendWechat",{account:this.mywechatAccount,caseId:this.onLineData.caseId,phone:this.onLineData.phone,wechatCode:this.wechatCode,template:this.template,addAccount:this.mywechatAddAccount}).then(function(t){0==t.data.code?(e.$message.success("正在发送"),e.handleClose()):e.$util.failCallback(t.data,e)}).catch(function(e){})},changeOption:function(e){var t=this.templateNameArr.indexOf(e);this.template=this.templateArr[t]}},created:function(){this.getList()}},I={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"qq out_visit_form"},[a("el-dialog",{attrs:{title:e.borrowerName,visible:e.wechatSendVisible,width:"30%","before-close":e.handleClose,"close-on-click-modal":!1,"show-close":!0},on:{"update:visible":function(t){e.wechatSendVisible=t}}},[a("h5",{staticClass:"msgWidth"},[e._v("消息记录：")]),e._v(" "),a("div",{staticClass:"msg msgWidth"},[a("p",[a("el-tag",{attrs:{type:"info"}},[e._v(e._s(e.latestSms))])],1)]),e._v(" "),a("el-form",{ref:"form"},[a("h5",[e._v("消息模板：")]),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-select",{attrs:{size:"mini",clearable:""},on:{change:e.changeOption},model:{value:e.templateName,callback:function(t){e.templateName=t},expression:"templateName"}},e._l(e.templateNameArr,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1),e._v(" "),a("h5",[e._v("模板内容：")]),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{type:"textarea",rows:6,disabled:"",size:"mini"},model:{value:e.template,callback:function(t){e.template=t},expression:"template"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog_footer"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.submit}},[e._v("发送")])],1)],1)],1)},staticRenderFns:[]};var C=a("vSla")(w,I,!1,function(e){a("w3WQ")},"data-v-fe39edc4",null).exports,A={props:{qqAddVisible:{type:Boolean},onLineData:{type:Object},qqCode:{type:String},myQQAccount:{type:String}},data:function(){return{templateName:"",template:"",templateNameArr:[],templateArr:[]}},methods:{handleClose:function(e){this.$emit("addQQclose")},getList:function(){var e=this;this.$axios.post("/api/assignee/sms/qq/addFriend/info",{borrowerName:this.onLineData.borrowerName,latestDebtMoney:this.onLineData.latestDebtMoney,loanInstitution:this.onLineData.loanInstitution,name:this.onLineData.borrowerName}).then(function(t){if(0==t.data.code){var a=!0,i=!1,o=void 0;try{for(var n,s=d()(t.data.data.smsTemplates);!(a=(n=s.next()).done);a=!0){var l=n.value;e.templateNameArr.push(l.templateName),e.templateArr.push(l.template)}}catch(e){i=!0,o=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw o}}}else e.$util.failCallback(t.data,e)}).catch(function(e){})},submit:function(){var e=this;this.$axios.post("/api/assignee/sms/addQQ",{account:this.myQQAccount,caseId:this.onLineData.caseId,phone:this.onLineData.phone,qqCode:this.qqCode,template:this.template}).then(function(t){0==t.data.code?(e.$message.success("正在发送"),e.handleClose()):e.$util.failCallback(t.data,e)}).catch(function(e){})},changeOption:function(e){var t=this.templateNameArr.indexOf(e);this.template=this.templateArr[t]}},created:function(){this.getList()}},k={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"qq out_visit_form"},[a("el-dialog",{attrs:{title:"添加QQ联系人",visible:e.qqAddVisible,width:"30%","before-close":e.handleClose,"close-on-click-modal":!1,"show-close":!0},on:{"update:visible":function(t){e.qqAddVisible=t}}},[a("el-form",{ref:"form"},[a("el-form-item",{attrs:{label:"QQ："}},[e._v("\n        "+e._s(e.qqCode+" / "+e.onLineData.borrowerName)+"\n      ")]),e._v(" "),a("h5",[e._v("验证消息模板：")]),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-select",{attrs:{size:"mini",clearable:""},on:{change:e.changeOption},model:{value:e.templateName,callback:function(t){e.templateName=t},expression:"templateName"}},e._l(e.templateNameArr,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1),e._v(" "),a("h5",[e._v("模板内容：")]),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{type:"textarea",rows:6,disabled:"",size:"mini",clearable:""},model:{value:e.template,callback:function(t){e.template=t},expression:"template"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog_footer"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.submit}},[e._v("发送")])],1)],1)],1)},staticRenderFns:[]};var D=a("vSla")(A,k,!1,function(e){a("KTOJ")},"data-v-14672238",null).exports,x={props:{qqSendVisible:{type:Boolean},onLineData:{type:Object},qqCode:{type:String},myQQAccount:{type:String},myQQAddAccount:{type:String}},data:function(){return{templateName:"",template:"",templateNameArr:[],templateArr:[],latestSms:""}},methods:{handleClose:function(e){this.$emit("sendQQclose")},getList:function(){var e=this;this.$axios.post("/api/assignee/sms/getQQInfo",{borrowerName:this.onLineData.borrowerName,latestDebtMoney:this.onLineData.latestDebtMoney,loanInstitution:this.onLineData.loanInstitution,name:this.onLineData.borrowerName,account:this.myQQAccount,productName:this.onLineData.productName}).then(function(t){if(0==t.data.code){e.latestSms=t.data.data.latestSms;var a=!0,i=!1,o=void 0;try{for(var n,s=d()(t.data.data.smsTemplates);!(a=(n=s.next()).done);a=!0){var l=n.value;e.templateNameArr.push(l.templateName),e.templateArr.push(l.template)}}catch(e){i=!0,o=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw o}}}else e.$util.failCallback(t.data,e)}).catch(function(e){})},submit:function(){var e=this;if(!this.template.length)return this.$alert("未选择发送消息！","提示",{confirmButtonText:"确定",type:"warning"}),!1;this.$axios.post("/api/assignee/sms/sendQQ",{account:this.myQQAccount,caseId:this.onLineData.caseId,phone:this.onLineData.phone,qqCode:this.qqCode,template:this.template,addAccount:this.myQQAddAccount}).then(function(t){0==t.data.code?(e.$message.success("正在发送"),e.handleClose()):e.$util.failCallback(t.data,e)}).catch(function(e){})},changeOption:function(e){var t=this.templateNameArr.indexOf(e);this.template=this.templateArr[t]}},created:function(){this.getList()}},F={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"qq out_visit_form"},[a("el-dialog",{attrs:{title:e.onLineData.borrowerName,visible:e.qqSendVisible,width:"30%","before-close":e.handleClose,"close-on-click-modal":!1,"show-close":!0},on:{"update:visible":function(t){e.qqSendVisible=t}}},[a("h5",{staticClass:"msgWidth"},[e._v("消息记录：")]),e._v(" "),a("div",{staticClass:"msg msgWidth"},[a("p",[a("el-tag",{attrs:{type:"info"}},[e._v(e._s(e.latestSms))])],1)]),e._v(" "),a("el-form",{ref:"form"},[a("h5",[e._v("消息模板：")]),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-select",{attrs:{size:"mini",clearable:""},on:{change:e.changeOption},model:{value:e.templateName,callback:function(t){e.templateName=t},expression:"templateName"}},e._l(e.templateNameArr,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1),e._v(" "),a("h5",[e._v("模板内容：")]),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{type:"textarea",rows:6,disabled:"",size:"mini",clearable:""},model:{value:e.template,callback:function(t){e.template=t},expression:"template"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog_footer"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.submit}},[e._v("发送")])],1)],1)],1)},staticRenderFns:[]};var B=a("vSla")(x,F,!1,function(e){a("z0b9")},"data-v-3d197dd8",null).exports,$={props:{smsVisible:{type:Boolean},onLineData:{type:Object},phoneInfo:{type:Object}},components:{},data:function(){return{template:"",templateType:"",smsTemplates:[],latestSms:"",templateName:""}},created:function(){this.getSmsInfo()},computed:{},methods:{getSmsInfo:function(){var e=this;this.$axios.post("/api/assignee/sms/getSmsInfo",{borrowerName:this.onLineData.borrowerName,latestDebtMoney:this.onLineData.latestDebtMoney,loanInstitution:this.onLineData.loanInstitution,caseId:this.onLineData.caseId,productName:this.onLineData.productName,name:this.phoneInfo.name,origin:this.phoneInfo.origin,originId:this.phoneInfo.originId}).then(function(t){0==t.data.code?(e.latestSms=t.data.data.latestSms,e.smsTemplates=t.data.data.smsTemplates):e.$util.failCallback(t.data,e)}).catch(function(e){})},templateChange:function(e){this.templateType=e.templateType,this.template=e.template},sendSms:function(){var e=this;""==this.template?this.$alert("请选择短信模板进行操作","提示",{confirmButtonText:"确定",callback:function(e){}}):this.$axios.post("/api/assignee/sms/sendSms",{caseId:this.onLineData.caseId,name:this.phoneInfo.name,phone:this.phoneInfo.phone,relation:this.phoneInfo.relation,template:this.template,templateType:this.templateType}).then(function(t){0==t.data.code?(e.$message.success("短信发送成功"),e.template="",e.handleClose()):e.$util.failCallback(t.data,e)}).catch(function(t){e.template=""})},handleClose:function(){this.$emit("smsClose")}}},R={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sms"},[a("el-dialog",{attrs:{title:"( "+this.phoneInfo.relation+" )"+this.phoneInfo.phone,visible:e.smsVisible,"close-on-click-modal":!1,"before-close":e.handleClose},on:{"update:visible":function(t){e.smsVisible=t},open:e.getSmsInfo}},[e.latestSms?a("div",{staticClass:"latestSms"},[a("p",[e._v(e._s(e.latestSms))])]):e._e(),e._v(" "),a("el-form",{attrs:{"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:"短信模板"}},[a("el-select",{staticClass:"selection",attrs:{"value-key":"templateName",placeholder:"请选择",size:"mini",clearable:""},on:{change:e.templateChange},model:{value:e.templateName,callback:function(t){e.templateName=t},expression:"templateName"}},e._l(e.smsTemplates,function(e){return a("el-option",{key:e.templateName,attrs:{label:e.templateName,value:e}})}))],1)],1),e._v(" "),a("el-form",{attrs:{"label-width":"80px","label-position":"top"}},[a("el-form-item",{attrs:{label:"短信内容",prop:"template"}},[a("el-input",{attrs:{type:"textarea",rows:6,placeholder:"请输入",disabled:""},model:{value:e.template,callback:function(t){e.template=t},expression:"template"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.sendSms}},[e._v("发送")])],1)],1)],1)},staticRenderFns:[]};var S=a("vSla")($,R,!1,function(e){a("fVzQ")},null,null).exports,q={props:{smsVisible:{type:Boolean},onLineData:{type:Object},phoneInfo:{type:Object}},components:{},data:function(){return{template:"",templateType:"",smsTemplates:[],latestSms:"",templateName:""}},created:function(){this.getSmsInfo()},computed:{},methods:{getSmsInfo:function(){var e=this;this.$axios.post("/api/assignee/sms/contact/getSmsInfo",{borrowerName:this.onLineData.borrowerName,latestDebtMoney:this.onLineData.latestDebtMoney,loanInstitution:this.onLineData.loanInstitution,caseId:this.onLineData.caseId,productName:this.onLineData.productName,name:this.phoneInfo.name,source:this.phoneInfo.source,id:this.phoneInfo.id}).then(function(t){0==t.data.code?(e.latestSms=t.data.data.latestSms,e.smsTemplates=t.data.data.smsTemplates):e.$util.failCallback(t.data,e)}).catch(function(e){})},templateChange:function(e){this.templateType=e.templateType,this.template=e.template},sendSms:function(){var e=this;""==this.template?this.$alert("请选择短信模板进行操作","提示",{confirmButtonText:"确定",callback:function(e){}}):this.$axios.post("/api/assignee/sms/contact/sendSms",{caseId:this.onLineData.caseId,name:this.phoneInfo.name,relation:this.phoneInfo.relation,template:this.template,templateType:this.templateType,source:this.phoneInfo.source,id:this.phoneInfo.id}).then(function(t){0==t.data.code?(e.$message.success("短信发送成功"),e.template="",e.handleClose()):e.$util.failCallback(t.data,e)}).catch(function(t){e.template=""})},handleClose:function(){this.$emit("smsClose")}}},T={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sms"},[a("el-dialog",{attrs:{title:"( "+this.phoneInfo.relation+" )"+this.phoneInfo.phone,visible:e.smsVisible,"close-on-click-modal":!1,"before-close":e.handleClose},on:{"update:visible":function(t){e.smsVisible=t},open:e.getSmsInfo}},[e.latestSms?a("div",{staticClass:"latestSms"},[a("p",[e._v(e._s(e.latestSms))])]):e._e(),e._v(" "),a("el-form",{attrs:{"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:"短信模板"}},[a("el-select",{staticClass:"selection",attrs:{"value-key":"templateName",placeholder:"请选择",size:"mini",clearable:""},on:{change:e.templateChange},model:{value:e.templateName,callback:function(t){e.templateName=t},expression:"templateName"}},e._l(e.smsTemplates,function(e){return a("el-option",{key:e.templateName,attrs:{label:e.templateName,value:e}})}))],1)],1),e._v(" "),a("el-form",{attrs:{"label-width":"80px","label-position":"top"}},[a("el-form-item",{attrs:{label:"短信内容",prop:"template"}},[a("el-input",{attrs:{type:"textarea",rows:6,placeholder:"请输入",disabled:""},model:{value:e.template,callback:function(t){e.template=t},expression:"template"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.sendSms}},[e._v("发送")])],1)],1)],1)},staticRenderFns:[]};var L=a("vSla")(q,T,!1,function(e){a("lxIA")},null,null).exports,N=a("azh2"),V=a("MgeX"),M=a.n(V),P=[{key:"callTime",label:"提交时间",width:"150"},{key:"collector",label:"催收员",width:"auto"},{key:"callName",label:"催收对象姓名",width:"auto"},{key:"relation",label:"关系",width:"auto"},{key:"callPhone",label:"电话",width:"120"},{key:"phoneStatus",label:"电话状态",width:"auto"},{key:"phoneAnswerStatus",label:"接听状态",width:"auto"},{key:"caseStatus",label:"案件状态",width:"auto"}],Q={name:"collectionRecord",props:{caseCode:{},caseId:{},caseManageId:{}},data:function(){return{tb:{data:[],fields:P},expansionDataArr:[],expansioncloneArr:[],expandAll:!0,loading:!1,getRowKeys:function(e){return e.collectionMarkId},toggleExpansionText:"一键折叠"}},methods:{getList:function(e,t,a){var i=this;this.toggleExpansionText="一键折叠",this.loading=!0,this.$axios.post("/api/assignee/collectionManage/queryCollectionMark",{caseId:Number(t)||this.caseId,caseManageId:Number(a)||this.caseManageId,caseCode:e||this.caseCode}).then(function(e){0==e.data.code?(i.tb.data=e.data.data,e.data.data.forEach(function(e){i.expansionDataArr.push(e.collectionMarkId),i.expansioncloneArr=M()(i.expansionDataArr)})):i.$util.failCallback(e.data,i),i.loading=!1}).catch(function(e){})},toggleRowExpansion:function(){0!=this.expansioncloneArr.length?(this.expansioncloneArr=[],this.toggleExpansionText="一键展开"):(this.expansioncloneArr=M()(this.expansionDataArr),this.toggleExpansionText="一键折叠")},renderHeader:function(e,t){t._self;return e("span",[e("el-button",{attrs:{type:"primary",size:"mini"},on:{click:this.toggleRowExpansion}},[this.toggleExpansionText])])}},created:function(){this.getList()}},E={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"md"},[a("div",{staticClass:"md-right"}),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"extension",staticStyle:{width:"100%"},attrs:{data:e.tb.data,"default-expand-all":e.expandAll,"row-key":e.getRowKeys,"show-overflow-tooltip":"","expand-row-keys":e.expansioncloneArr,stripe:!0}},[a("el-table-column",{attrs:{type:"index"}}),e._v(" "),e._l(e.tb.fields,function(e){return a("el-table-column",{key:e.key,attrs:{align:"center",prop:e.key,label:e.label,width:e.width}})}),e._v(" "),a("el-table-column",{attrs:{"render-header":e.renderHeader}},[a("el-table-column",{staticClass:"extend",attrs:{type:"expand",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:4}},[a("label",[e._v("联系人：")]),e._v(e._s(t.row.markDetail.callName))]),e._v(" "),a("el-col",{attrs:{span:4}},[a("label",[e._v("电话：   ")]),e._v("  "+e._s(t.row.markDetail.callPhone))]),e._v(" "),a("el-col",{attrs:{span:4}},[a("label",[e._v("呼叫时间： ")]),e._v(e._s(t.row.markDetail.createTime))]),e._v(" "),a("el-col",{attrs:{span:12}},[a("label",[e._v("催收反馈： ")]),e._l(t.row.markDetail.label,function(t){return a("el-tag",{key:t.id,attrs:{size:"mini"}},[e._v(e._s(t))])})],2)],1)],1),e._v(" "),a("div"),e._v(" "),a("div",[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:4}},[a("label",[e._v("承诺还款金额：")]),e._v(e._s(t.row.markDetail.promiseAmount))]),e._v(" "),a("el-col",{attrs:{span:4}},[a("label",[e._v("承诺还款时间：   ")]),e._v("  "+e._s(t.row.markDetail.promiseRepaymentTime))]),e._v(" "),a("el-col",{attrs:{span:4}},[a("label",[e._v("申请减免金额： ")]),e._v(e._s(t.row.markDetail.reliefAmount))])],1)],1),e._v(" "),a("div",[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:24}},[a("label",[e._v("催收记录： ")]),e._v(e._s(t.row.markDetail.collectionRemark))])],1)],1)]}}])})],1)],2)],1)},staticRenderFns:[]};var z=a("vSla")(Q,E,!1,function(e){a("+/7Z"),a("mQtc")},"data-v-196d10e8",null).exports,K=[{key:"name",label:"姓名",width:"auto"},{key:"relation",label:"关系",width:"auto"},{key:"comment",label:"关系备注",width:"auto"},{key:"phone",label:"电话",width:"auto"},{key:"statusName",label:"电话状态",width:"auto"}],U={name:"repaireConnection",props:{caseManageId:{type:Number},caseDisable:{type:Boolean}},data:function(){return{tb:{data:[],fields:K},loading:!1}},methods:{call:function(e){if(this.caseDisable)return this.$message.warning("案件已结案，不能再进行操作"),!1;this.$emit("repiareCall",{name:e.row.name,source:e.row.source,strongId:e.row.id,relation:e.row.relation,phone:e.row.phone,isFromStrong:!0})},smsSend:function(e){if(this.caseDisable)return this.$message.warning("案件已结案，不能再进行操作"),!1;this.$emit("smsSend",{name:e.row.name,source:e.row.source,id:e.row.id,relation:e.row.relation,phone:e.row.phone})},getList:function(){var e=this;this.loading=!0,this.$axios.post("/api/assignee/relevancy/getContactPhoneInfo",{caseManageId:this.caseManageId}).then(function(t){0==t.data.code?e.tb.data=t.data.data:1==t.data.code||e.$util.failCallback(t.data,e),e.loading=!1}).catch(function(e){})}},created:function(){this.getList()}},j={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",attrs:{data:e.tb.data,"tooltip-effect":"dark","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","empty-text":"暂无数据","show-overflow-tooltip":""}},[a("el-table-column",{attrs:{type:"index"}}),e._v(" "),e._l(e.tb.fields,function(e){return a("el-table-column",{key:e.id,attrs:{align:"center",prop:e.key,label:e.label,width:e.width}})}),e._v(" "),a("el-table-column",{attrs:{label:"拨打电话"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[a("i",{staticClass:"el-icon-phone",on:{click:function(a){a.preventDefault(),e.call(t)}}})])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"发送短信"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[a("i",{staticClass:"el-icon-message",on:{click:function(a){a.preventDefault(),e.smsSend(t)}}})])]}}])})],2)],1)},staticRenderFns:[]};var O=a("vSla")(U,j,!1,function(e){a("cc+1")},"data-v-be000556",null).exports,J=[{key:"reliefDate",label:"申请时间",width:"",type:"0"},{key:"collector",label:"催收员",width:"",type:"0"},{key:"planRepayTime",label:"承诺还款时间",width:"",type:"0"},{key:"planRepayAmount",label:"承诺还款金额",width:"",type:"0"},{key:"reliefAmount",label:"申请减免金额",width:"",type:"0"},{key:"promisee",label:"承诺还款人",width:"",type:"0"},{key:"certificationUrl",label:"凭证",width:"",type:"2"},{key:"approveStatus",label:"状态",width:"",type:"3"}],H={name:"",props:{caseId:{},caseCode:{},caseManageId:{},caseDisable:{type:Boolean}},data:function(){return{tb:{data:[],fields:J},applyderateTb:[],dialogVisible:!1,dialogForm:{planRepayAmount:"",planRepayTime:"",reliefAmount:"",promisee:"",id:"",uFile:[]},rules:{},uFile:"",fileList:[],postData:{depreciationId:""},result:"",loading:!1,formData:{},template:[],depreciationNeed:"",refuseForm:{},dialogFormVisible:!1,visibleBtn:!0}},created:function(){this.formData=new FormData,this.getTemplateList(),this.getapplyderateList()},methods:{getapplyderateList:function(){var e=this;this.$axios.post("/api/assignee/collectionManage/queryDepreciationApply",{caseCode:this.caseCode,caseId:this.caseId,caseManageId:this.caseManageId}).then(function(t){0==t.data.code?(e.applyderateTb=t.data.data,e.applyderateTb.length?e.applyderateTb[0].isFile?e.visibleBtn=!1:e.visibleBtn=!0:e.visibleBtn=!1):e.$util.failCallback(t.data,e)}).catch(function(e){})},getTemplateList:function(){var e=this;this.$axios.post("/api/assignee/collectionApply/queryDepTemplate",{caseId:this.caseId}).then(function(t){0==t.data.code?(e.depreciationNeed=t.data.data.depreciationNeed,e.template=t.data.data.template):e.$util.failCallback(t.data,e)}).catch(function(e){})},downLoad:function(e){this.$axios({method:"post",url:"/api/assignee/collectionApply/downloadApplyFile",data:{name:e.name,url:e.url},responseType:"blob"}).then(function(e){var t=e.data,a=new Blob([t]),i=decodeURI(e.headers["content-disposition"].split("=")[1]);if("download"in document.createElement("a")){var o=document.createElement("a");o.download=i,o.style.display="none",o.href=URL.createObjectURL(a),document.body.appendChild(o),o.click(),URL.revokeObjectURL(o.href),document.body.removeChild(o)}else navigator.msSaveBlob(a,i)})},downLoadFile:function(e){this.$axios({method:"post",url:"/api/assignee/collectionManage/downloadDepreciationVoucher",data:{id:e.row.id},responseType:"blob"}).then(function(e){var t=e.data,a=new Blob([t]),i=decodeURI(e.headers["content-disposition"].split("=")[1]);if("download"in document.createElement("a")){var o=document.createElement("a");o.download=i,o.style.display="none",o.href=URL.createObjectURL(a),document.body.appendChild(o),o.click(),URL.revokeObjectURL(o.href),document.body.removeChild(o)}else navigator.msSaveBlob(a,i)})},openDialog:function(){return this.caseDisable?(this.$message.warning("案件已结案，不能再进行操作"),!1):0==this.applyderateTb.length?(this.$alert("暂无申请减免，无法添加减免凭证","提示",{confirmButtonText:"确定",type:"warning"}),!1):this.applyderateTb[0].isFile?(this.$alert("已有凭证","提示",{confirmButtonText:"确定",type:"warning"}),!1):(this.postData.depreciationId=this.applyderateTb[0].id,this.dialogVisible=!0,this.dialogForm=this.applyderateTb[0],this.dialogForm.uFile=[],void(this.postData.depreciationId=this.applyderateTb[0].id))},handleSuccess_importCase:function(e){0==e.code?(this.$message({type:"success",message:e.msg}),this.closeDialog(dialogForm)):this.result=e.msg+"!"},handleRemove:function(e,t){this.result=""},handlePreview:function(e){},handleChange:function(e,t){"ready"==e.status&&(this.fileList[0]=t)},closeDialog:function(e){this.fileList=[],this.dialogVisible=!1,this.formData=new formData,this.$emit("getapplyderateList")},submitDialog:function(e){var t=this;this.$refs.dialogForm.validate(function(e){if(e){if(t.fileList.length>5)return t.$message.warning("文件数量最多为5"),!1;t.formData.append("depreciationId",t.applyderateTb[0].id),t.$axios.post("/api/assignee/collectionApply/upDepreciationCertification",t.formData).then(function(e){0==e.data.code?(t.$message({type:"success",message:"保存成功"}),t.getapplyderateList(),t.closeDialog()):t.$util.failCallback(e.data,t)}).catch(function(e){})}})},uploadImg:function(){var e=document.getElementById("logo_img").files;if(e&&e.length){var t=!0,a=!1,i=void 0;try{for(var o,n=d()(e);!(t=(o=n.next()).done);t=!0){var s=o.value;if(s.size/1024/1024>10)return this.$message.error("文件不能大于10M"),!1;this.fileList.push(s.name),this.dialogForm.uFile.push(s),this.formData.append("uFile",s)}}catch(e){a=!0,i=e}finally{try{!t&&n.return&&n.return()}finally{if(a)throw i}}}},deleteFile:function(e){this.fileList.splice(e,1),this.dialogForm.uFile.splice(e,1),this.formData=new FormData;var t=!0,a=!1,i=void 0;try{for(var o,n=d()(this.dialogForm.uFile);!(t=(o=n.next()).done);t=!0){var s=o.value;this.formData.append("uFile",s)}}catch(e){a=!0,i=e}finally{try{!t&&n.return&&n.return()}finally{if(a)throw i}}},checkDetail:function(e){var t=this;this.$axios.post("/api/assignee/collectionManage/queryDepreciationReject",{id:e.row.id}).then(function(e){0==e.data.code?(t.refuseForm=e.data.data,t.dialogFormVisible=!0):t.$util.failCallback(e.data,t)}).catch(function(e){})},dialogClose:function(){this.dialogFormVisible=!1}}},W={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"md"},[a("div",{staticClass:"md-right"},[e.visibleBtn?a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.openDialog}},[e._v("添加减免凭证")]):e._e()],1)]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",attrs:{data:e.applyderateTb,"tooltip-effect":"dark","element-loading-text":"拼命加载中","show-overflow-tooltip":"","element-loading-spinner":"el-icon-loading"}},[a("el-table-column",{attrs:{type:"index"}}),e._v(" "),e._l(e.tb.fields,function(t){return a("el-table-column",{key:t.id,attrs:{align:"left",prop:t.key,label:t.label,width:t.width},scopedSlots:e._u([{key:"default",fn:function(i){return["0"==t.type?[e._v("\n          "+e._s(i.row[i.column.property])+"\n        ")]:e._e(),e._v(" "),"1"==t.type?[a("el-button",{attrs:{type:"text",size:"mini"}},[e._v("\n            "+e._s(i.row[i.column.property])+"\n          ")])]:e._e(),e._v(" "),"2"==t.type?[a("a",{staticClass:"el-button--text el-button--small",staticStyle:{"text-decoration":"underline"},attrs:{href:"javascript:void(0)"},on:{click:function(t){e.downLoadFile(i)}}},[e._v(e._s("0"==i.row.isFile?"":"附件可下载"))])]:e._e(),e._v(" "),"3"==t.type?["已驳回"!=i.row.approveStatus?a("span",[e._v(e._s(i.row.approveStatus))]):a("span",[a("span",[e._v(e._s(i.row.approveStatus)+" |")]),e._v(" "),a("a",{staticClass:"rejectDetail",on:{click:function(t){t.preventDefault(),e.checkDetail(i)}}},[e._v("查看详情")])])]:e._e()]}}])})})],2),e._v(" "),a("el-dialog",{attrs:{title:"添加减免凭证","close-on-click-modal":!1,"show-close":!0,visible:e.dialogVisible,center:!0},on:{"update:visible":function(t){e.dialogVisible=t},close:function(t){e.closeDialog(e.dialogForm)}}},[a("el-form",{ref:"dialogForm",attrs:{rules:e.rules,"label-width":"100px",model:e.dialogForm,inline:!0,size:"mini"}},[a("el-form-item",{attrs:{label:"承诺还款金额",prop:"planRepayAmount"}},[a("el-input",{attrs:{disabled:"",clearable:""},model:{value:e.dialogForm.planRepayAmount,callback:function(t){e.$set(e.dialogForm,"planRepayAmount",t)},expression:"dialogForm.planRepayAmount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"承诺还款时间",prop:"planRepayTime"}},[a("el-input",{attrs:{disabled:"",clearable:""},model:{value:e.dialogForm.planRepayTime,callback:function(t){e.$set(e.dialogForm,"planRepayTime",t)},expression:"dialogForm.planRepayTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"申请减免金额",prop:"reliefAmount"}},[a("el-input",{attrs:{disabled:""},model:{value:e.dialogForm.reliefAmount,callback:function(t){e.$set(e.dialogForm,"reliefAmount",t)},expression:"dialogForm.reliefAmount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"承诺还款人",prop:"promisee"}},[a("el-input",{attrs:{disabled:""},model:{value:e.dialogForm.promisee,callback:function(t){e.$set(e.dialogForm,"promisee",t)},expression:"dialogForm.promisee"}})],1),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"上传附件",prop:"uFile",rules:[{required:!0,message:"必填项",trigger:"change,blur"}]}},[a("a",{staticClass:"a-upload",attrs:{href:"javascript:;"}},[a("input",{attrs:{type:"file",name:"uFile",id:"logo_img",title:" ",multiple:"",clearable:""},on:{change:e.uploadImg}}),e._v("上传附件\n        ")]),e._v(" "),a("ul",{attrs:{id:"fileName"}},e._l(e.fileList,function(t,i){return a("li",{key:t.id,staticClass:"fileName el-upload-list__item is-finished",attrs:{index:i}},[e._v(e._s(t)+"\n            "),a("i",{staticClass:"el-icon-close",on:{click:function(t){e.deleteFile(i)}}})])})),e._v(" "),a("el-input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],model:{value:e.dialogForm.uFile[0],callback:function(t){e.$set(e.dialogForm.uFile,0,t)},expression:"dialogForm.uFile[0]"}})],1),e._v(" "),e.postData.depreciationId?a("el-form-item",{attrs:{label:"减免要求"}},[e._v("\n        "+e._s(e.depreciationNeed)+"\n      ")]):e._e(),e._v(" "),a("el-form-item",e._l(e.template,function(t){return a("el-button",{key:t,attrs:{type:"text"},on:{click:function(a){e.downLoad(t)}}},[e._v(e._s(t.name))])}))],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"small"},nativeOn:{click:function(t){t.preventDefault(),e.submitDialog(e.dialogForm)}}},[e._v("确 定")]),e._v(" "),a("el-button",{attrs:{size:"small"},nativeOn:{click:function(t){t.preventDefault(),e.closeDialog(e.dialogForm)}}},[e._v("取 消")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"拒绝详情",visible:e.dialogFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.dialogClose}},[a("el-form",{ref:"refuseForm",attrs:{model:e.refuseForm,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"拒绝原因",prop:"refuseReason"}},[a("el-input",{attrs:{type:"textarea",autosize:"","auto-complete":"off",disabled:""},model:{value:e.refuseForm.refuseReason,callback:function(t){e.$set(e.refuseForm,"refuseReason",t)},expression:"refuseForm.refuseReason"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"最高减免金额",prop:"maxReliefAmount"}},[a("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:e.refuseForm.maxReliefAmount,callback:function(t){e.$set(e.refuseForm,"maxReliefAmount",t)},expression:"refuseForm.maxReliefAmount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"操作日期"}},[a("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:e.refuseForm.operateDate,callback:function(t){e.$set(e.refuseForm,"operateDate",t)},expression:"refuseForm.operateDate"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(t){return t.preventDefault(),e.dialogClose(t)}}},[e._v("关闭")])],1)],1)],1)},staticRenderFns:[]};var Z,G=a("vSla")(H,W,!1,function(e){a("zgf7")},"data-v-163d6dea",null).exports,X=a("ZLEe"),Y=a.n(X),ee=(a("6iV/"),{name:"outVisitRecode",props:{title:{type:String},recodeVisible:{type:Boolean},isAdd:{type:Boolean},id:{},applyItem:{type:Object}},data:function(){return{conditionForm:{visitTime:"",visitAddress:"",visitSituation:"",caseDevelopment:"",visitApplyId:"",uFile:[]},dropDownData:{situation:[]},names:[],fileName:"",rules:{visitSituation:[{required:!0,message:"必填项",trigger:"blur,change"}],caseDevelopment:[{required:!0,message:"必填项",trigger:"blur,change"}]},fileList:[],error:!1,downId:"",formData:{}}},methods:(Z={getDropDown:function(){var e=this;this.$axios.post("/api/assignee/collectionManage/getVisitSituations",{}).then(function(t){0==t.data.code?e.dropDownData.situation=t.data.data:e.$util.failCallback(t.data,e)}).catch(function(e){})},reset:function(){this.close()},close:function(){this.$refs.conditionForm.resetFields(),this.$emit("recodeClose")},handleRemove:function(){},getList:function(){var e=this;this.$axios.post("/api/assignee/collectionManage/queryVisitDetails",{id:this.id}).then(function(t){if(0==t.data.code){e.names=[],e.conditionForm=t.data.data,e.conditionForm.visitSituation=t.data.data.visitSituationName,e.downId=t.data.data.id;var a=!0,i=!1,o=void 0;try{for(var n,s=d()(t.data.data.certification);!(a=(n=s.next()).done);a=!0){var l=n.value;e.names.push(l.name)}}catch(e){i=!0,o=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw o}}}else e.$util.failCallback(t.data,e)}).catch(function(e){})},download:function(){var e=this;if(0==this.names.length)return!1;this.$axios({method:"post",url:"/api/assignee/collectionManage/downloadVisitFile",data:{id:this.downId},responseType:"blob"}).then(function(t){if("application/json"!=t.data.type){var a=t.headers["content-disposition"].split("."),i=a[a.length-1],o=t.data,n=new Blob([o]),s="外访记录."+i;if("download"in document.createElement("a")){var l=document.createElement("a");l.download=s,l.style.display="none",l.href=URL.createObjectURL(n),document.body.appendChild(l),l.click(),URL.revokeObjectURL(l.href),document.body.removeChild(l)}else navigator.msSaveBlob(n,s)}else e.$message.error("下载失败")})},submit:function(){var e=this;this.$refs.conditionForm.validate(function(t){if(t){if(e.fileList.length>5)return e.$message.warning("文件数量最多为5"),!1;e.formData.append("visitSituation",e.conditionForm.visitSituation),e.formData.append("caseDevelopment",e.conditionForm.caseDevelopment),e.formData.append("visitApplyId",e.conditionForm.visitApplyId),e.$axios.post("/api/assignee/collectionManage/addVisitRecord",e.formData).then(function(t){0==t.data.code?(e.$message({type:"success",message:"保存成功"}),e.close()):e.$util.failCallback(t.data,e)}).catch(function(e){})}})}},f()(Z,"handleRemove",function(e,t){}),f()(Z,"handleSuccess",function(e){0==e.code?(this.$message({type:"success",message:e.msg}),this.close()):this.$message.error(e.msg)}),f()(Z,"handleChange",function(e,t){var a=this.beforeUpload(e);"ready"==e.status&&a&&(this.fileList[0]=e,this.error=!1)}),f()(Z,"beforeUpload",function(e){var t=e.size/1024/1024<2;return t||(this.$message.error("上传文件大小不能超过 2MB!"),this.$refs.upload.clearFiles()),t}),f()(Z,"overAmount",function(){this.$message.error("请先删除上一个文件")}),f()(Z,"uploadImg",function(){var e=document.getElementById("logo_img").files;if(e&&e.length){var t=!0,a=!1,i=void 0;try{for(var o,n=d()(e);!(t=(o=n.next()).done);t=!0){var s=o.value;if(s.size/1024/1024>2)return this.$message.error("文件不能大于2M"),!1;this.fileList.push(s.name),this.conditionForm.uFile.push(s),this.formData.append("uFile",s)}}catch(e){a=!0,i=e}finally{try{!t&&n.return&&n.return()}finally{if(a)throw i}}}}),f()(Z,"deleteFile",function(e){this.fileList.splice(e,1),this.conditionForm.uFile.splice(e,1),this.formData=new FormData;var t=!0,a=!1,i=void 0;try{for(var o,n=d()(this.conditionForm.uFile);!(t=(o=n.next()).done);t=!0){var s=o.value;this.formData.append("uFile",s)}}catch(e){a=!0,i=e}finally{try{!t&&n.return&&n.return()}finally{if(a)throw i}}}),Z),created:function(){this.formData=new FormData,this.getDropDown(),this.conditionForm.visitTime=this.applyItem.visitTime,this.conditionForm.visitAddress=this.applyItem.visitAddress,this.conditionForm.visitApplyId=this.applyItem.id}}),te={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{"close-on-click-modal":!1,"show-close":!0,visible:e.recodeVisible,center:!0,title:e.title},on:{"update:visible":function(t){e.recodeVisible=t},close:e.close}},[a("el-form",{ref:"conditionForm",staticClass:"outvisit_record",attrs:{"label-width":"100px",model:e.conditionForm}},[a("el-form-item",{attrs:{label:"外访时间：",prop:"visitTime"}},[a("el-date-picker",{attrs:{placeholder:"请选择外访时间","value-format":"yyyy-MM-dd",size:"mini",disabled:""},model:{value:e.conditionForm.visitTime,callback:function(t){e.$set(e.conditionForm,"visitTime",t)},expression:"conditionForm.visitTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"外访地址：",prop:"visitAddress"}},[a("el-input",{attrs:{placeholder:"请输入外访地址",size:"mini",maxlength:100,disabled:""},model:{value:e.conditionForm.visitAddress,callback:function(t){e.$set(e.conditionForm,"visitAddress",t)},expression:"conditionForm.visitAddress"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"外访情况：",prop:"visitSituation"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择外访情况",size:"mini",disabled:!!e.id},model:{value:e.conditionForm.visitSituation,callback:function(t){e.$set(e.conditionForm,"visitSituation",t)},expression:"conditionForm.visitSituation"}},e._l(e.dropDownData.situation,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.code}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"外访催记：",prop:"caseDevelopment"}},[a("el-input",{attrs:{type:"textarea",rows:6,placeholder:"请输入案件进展",size:"mini",disabled:!!e.id,maxlength:300,clearable:""},model:{value:e.conditionForm.caseDevelopment,callback:function(t){e.$set(e.conditionForm,"caseDevelopment",t)},expression:"conditionForm.caseDevelopment"}})],1),e._v(" "),this.id?a("el-form-item",{attrs:{label:"附件：",prop:"uFile"}},[e._l(e.names,function(t){return a("el-tag",{key:t,attrs:{type:"info"}},[e._v(e._s(t))])}),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.download}},[e._v("下载")])],2):a("el-form-item",{attrs:{label:"上传附件：",prop:"uFile",rules:[{required:!0,message:"必填项",trigger:"change,blur"}]}},[a("a",{staticClass:"a-upload",attrs:{href:"javascript:;"}},[a("input",{attrs:{type:"file",name:"uFile",id:"logo_img",title:" ",multiple:"",clearable:""},on:{change:e.uploadImg}}),e._v("上传附件\n        ")]),e._v(" "),a("ul",{attrs:{id:"fileName"}},e._l(e.fileList,function(t,i){return a("li",{key:t.id,staticClass:"fileName el-upload-list__item is-finished",attrs:{index:i}},[e._v(e._s(t)+"\n            "),a("i",{staticClass:"el-icon-close",on:{click:function(t){e.deleteFile(i)}}})])})),e._v(" "),a("el-input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],model:{value:e.conditionForm.uFile[0],callback:function(t){e.$set(e.conditionForm.uFile,0,t)},expression:"conditionForm.uFile[0]"}})],1),e._v(" "),this.id?e._e():a("div",{staticClass:"dialog-footer"},[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(t){e.submit(e.conditionForm)}}},[e._v("提 交")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(t){e.reset(e.conditionForm)}}},[e._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var ae=a("vSla")(ee,te,!1,function(e){a("h8Fy")},"data-v-165f61fd",null).exports,ie={name:"visitRecode",props:{title:{type:String},recodeDetailVisible:{type:Boolean},isAdd:{type:Boolean},id:{},applyItem:{type:Object},outVisitData:{type:Object}},data:function(){return{}},methods:{close:function(){this.$emit("recodeDetailClose")},download:function(e){var t=this;this.$axios({method:"post",url:"api/assignee/collectionApply/downloadApplyFile",data:{url:e.url,name:e.name},responseType:"blob"}).then(function(e){if("application/json"!=e.data.type){var a=e.data,i=new Blob([a]),o=decodeURI(e.headers["content-disposition"].split("=")[1]);if("download"in document.createElement("a")){var n=document.createElement("a");n.download=o,n.style.display="none",n.href=URL.createObjectURL(i),document.body.appendChild(n),n.click(),URL.revokeObjectURL(n.href),document.body.removeChild(n)}else navigator.msSaveBlob(i,o)}else t.$message({type:"error",message:"下载失败"})}).catch(function(e){})}},created:function(){}},oe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{staticClass:"dialogDetail",attrs:{"close-on-click-modal":!1,"show-close":!0,visible:e.recodeDetailVisible,center:!0,title:"外访详情"},on:{"update:visible":function(t){e.recodeDetailVisible=t},close:e.close}},[a("el-form",{ref:"dialogForm",staticClass:"outvisit_record",staticStyle:{"margin-top":"20px"},attrs:{"label-width":"110px",size:"mini","label-color":"#99a9bf"}},[a("el-form-item",{attrs:{label:"外访时间："}},[e._v("\n         "+e._s(e.outVisitData.visitTimeStr)+"\n      ")]),e._v(" "),a("el-form-item",{attrs:{label:"结束时间："}},[e._v("\n         "+e._s(e.outVisitData.endTimeStr)+"\n      ")]),e._v(" "),a("el-form-item",{attrs:{label:"协助专员："}},[e._v("\n         "+e._s(e.outVisitData.assistCommissioner)+"\n      ")]),e._v(" "),a("el-form-item",{attrs:{label:"地址类型："}},[e._v("\n         "+e._s(e.outVisitData.addressType)+"\n      ")]),e._v(" "),a("el-form-item",{attrs:{label:"外访情况："}},[e._v("\n         "+e._s(e.outVisitData.visitSituationName)+"\n      ")]),e._v(" "),a("el-form-item",{attrs:{label:"外访地址类型："}},[e._v("\n         "+e._s(e.outVisitData.visitAddressType)+"\n      ")]),e._v(" "),a("el-form-item",{attrs:{label:"外访地址："}},[e._v("\n         "+e._s(e.outVisitData.visitAddress)+"\n      ")]),e._v(" "),a("el-form-item",{attrs:{label:"新联系方式："}},[e._v("\n         "+e._s(e.outVisitData.newContact)+"\n      ")]),e._v(" "),a("el-form-item",{attrs:{label:"新联系地址："}},[e._v("\n         "+e._s(e.outVisitData.newAddress)+"\n      ")]),e._v(" "),a("el-form-item",{attrs:{label:"外访催记："}},[e._v("\n         "+e._s(e.outVisitData.visitMark)+"\n      ")]),e._v(" "),a("el-form-item",{attrs:{label:"交通工具："}},[e._v("\n         "+e._s(e.outVisitData.vehicle)+"\n      ")]),e._v(" "),a("el-form-item",{attrs:{label:"交通费用："}},[e._v("\n         "+e._s(e.outVisitData.vehicleFee)+"\n      ")]),e._v(" "),a("el-form-item",{attrs:{label:"外访房屋："}},[e._v("\n         "+e._s(e.outVisitData.visitHouseName)+"\n      ")]),e._v(" "),a("el-form-item",{attrs:{label:"室内装修："}},[e._v("\n         "+e._s(e.outVisitData.innerDecorationName)+"\n      ")]),e._v(" "),a("el-form-item",{attrs:{label:"家用电器："}},[e._v("\n         "+e._s(e.outVisitData.houseAppliance)+"\n      ")]),e._v(" "),a("el-form-item",{attrs:{label:"居住情况："}},[e._v("\n         "+e._s(e.outVisitData.livingSituationName)+"\n      ")]),e._v(" "),a("el-form-item",{attrs:{label:"信箱情况："}},[e._v("\n         "+e._s(e.outVisitData.emailSituation)+"\n      ")]),e._v(" "),a("el-form-item",{attrs:{label:"还款能力："}},[e._v("\n         "+e._s(e.outVisitData.repayPowerName)+"\n      ")]),e._v(" "),a("el-form-item",{attrs:{label:"邻居描述："}},[e._v("\n         "+e._s(e.outVisitData.description)+"\n      ")]),e._v(" "),a("el-form-item",{attrs:{label:"下一步措施："}},[e._v("\n         "+e._s(e.outVisitData.nextStep)+"\n      ")]),e._v(" "),a("el-form-item",{attrs:{label:"附件："}},e._l(e.outVisitData.file,function(t){return a("el-tag",{key:t,attrs:{type:"info"},nativeOn:{click:function(a){e.download(t)}}},[e._v(e._s(t.name))])}))],1)],1)],1)},staticRenderFns:[]};var ne,se=a("vSla")(ie,oe,!1,function(e){a("mk6i")},"data-v-534626b1",null).exports,le=[{key:"applyTime",label:"外访申请时间",width:"auto"},{key:"visitTime",label:"计划外访时间",width:"100"},{key:"visitName",label:"被访人姓名",width:"auto"},{key:"visitRelation",label:"关系",width:"auto"},{key:"visitPhone",label:"手机号",width:"auto"},{key:"addressType",label:"地址类型",width:"auto"},{key:"visitAddress",label:"地址",width:"auto"},{key:"templateName",label:"外访函件模板",width:"auto"},{key:"approveStatus",label:"状态",width:"auto"},{key:"applicantName",label:"催收员",width:"auto"},{key:"partnerName",label:"协助外访人",width:"auto"}],re=[{key:"name",label:"姓名",width:""},{key:"relation",label:"关系",width:""},{key:"phone",label:"电话",width:"100"},{key:"addressType",label:"地址类型",width:""},{key:"address",label:"地址",width:"200"}],ce={name:"",props:{caseCode:{},caseId:{},caseManageId:{},caseDisable:{type:Boolean}},components:{outVisitRecode:ae,visitRecode:se},data:function(){var e;return e={tb:{data:[],fields:le},tb2:{data:[],fields:re},dialogForm:{caseId:this.caseId,caseCode:this.caseCode,caseManageId:this.caseManageId,approver:{},partner:{},visitDate:"",isSelf:"0",isJustice:"0",branchHelp:"0",templateId:"",visitInfo:{},staffId:""},dropdownData:{},partner:[],rules:{},loading:!1,dialogVisible:!1,recodeVisible:!1,title:"",outvisitTb:[],listData:[],selected:{},isAdd:!1,pageSize:5,currentPage:1,total:0,approver:""},f()(e,"partner",""),f()(e,"id",""),f()(e,"downId",""),f()(e,"applyItem",{}),f()(e,"rules",{staffId:[{required:!0,message:"审批人为必填项",trigger:"blur,change"}],visitDate:[{required:!0,message:"外访时间为必填项",trigger:"blur,change"}],"visitInfo.address":[{required:!0,message:"地址为必填项",trigger:"blur,change"}],"visitInfo.addressType":[{required:!0,message:"地址类型为必填项",trigger:"blur,change"}],"visitInfo.name":[{required:!0,message:"被访人为必填项",trigger:"blur,change"}],"visitInfo.relation":[{required:!0,message:"关系为必填项",trigger:"blur,change"}],"visitInfo.phone":[{required:!0,message:"电话为必填项",trigger:"blur,change"}]}),f()(e,"self",!1),f()(e,"templateSelected",!0),f()(e,"endDateOpt",{disabledDate:function(e){return e.getTime()<Date.now()-864e5}}),f()(e,"toggleExpansionText","外访详情"),f()(e,"getRowKeys",function(e){return e.id}),f()(e,"expansionArr",[]),f()(e,"recodeDetailVisible",!1),f()(e,"outVisitData",{}),f()(e,"templates",[]),f()(e,"templateId",""),f()(e,"justiceName",""),f()(e,"addRecodeBtn",!0),e},created:function(){this.getList(),this.getDropdownData()},methods:(ne={close:function(e){this.$refs.dialogForm.resetFields(),this.dialogVisible=!1,this.partner="",this.approver="",this.dialogForm.isSelf="0",this.dialogForm.isJustice="0",this.dialogForm.branchHelp="0",this.templates=[],this.partner="",this.dialogForm.templateId="",e&&this.getList()},handleCurrentChange:function(e){},submitApplyOutVisit:function(){var e=this;this.$refs.dialogForm.validate(function(t){t&&e.$axios.post("/api/assignee/collectionApply/saveVisitApply",e.dialogForm).then(function(t){0==t.data.code?(e.$message.success("提交成功"),e.close(!0)):e.$util.failCallback(t.data,e)}).catch(function(e){})})},addRecode:function(){return this.caseDisable?(this.$message.warning("案件已结案，不能再进行操作"),!1):this.applyItem?(this.recodeVisible=!0,this.isAdd=!0,this.title="添加外访记录",void(this.id="")):(this.$message.warning("暂无申请外访,不能添加外访记录"),!1)},recodeClose:function(){this.recodeVisible=!1,this.id=""},applyoutvisit:function(){var e=this;if(this.caseDisable)return this.$message.warning("案件已结案，不能再进行操作"),!1;this.$axios.post("/api/assignee/collectionApply/judgeVisitApply",{caseId:this.caseId}).then(function(t){0==t.data.code?t.data.data.allow?e.dialogVisible=!0:e.$message.error("当前案件无法再申请案件"):e.$util.failCallback(t.data,e)}).catch(function(e){})},getList:function(){var e=this;this.$axios.post("/api/assignee/collectionManage/queryVisitApply",{caseCode:this.caseCode,caseId:this.caseId,caseManageId:this.caseManageId}).then(function(t){0==t.data.code?(e.tb.data=t.data.data,e.tb.data.forEach(function(e){e.outRecord={}}),e.applyItem=t.data.data[0],0==e.tb.data.length?e.addRecodeBtn=!1:e.addRecodeBtn=!0):e.$util.failCallback(t.data,e)}).catch(function(e){})},getDropdownData:function(){var e=this;this.$axios.post("/api/assignee/collectionApply/visitApplyInitParam",{caseCode:this.caseCode,caseId:this.caseId,caseManageId:this.caseManageId}).then(function(t){if(0==t.data.code){for(var a in e.listData=t.data.data.visitInfo,e.tb2.data=e.listData.slice(0,e.pageSize),e.tb2.data)e.tb2.data[a].index=a;e.dropdownData.approver=t.data.data.approver,e.dropdownData.approver.length&&(e.dialogForm.staffId=e.dropdownData.approver[0].staffId,e.dialogForm.approver=e.dropdownData.approver[0]),e.dropdownData.partner=t.data.data.partner,e.dropdownData.template=t.data.data.template,e.total=e.listData.length}else e.$util.failCallback(t.data,e)}).catch(function(e){})},showDetail:function(e){this.id=e.row.id,this.recodeDetailVisible=!0,this.outVisitData=e.row.outRecord},disabledDate:function(e){return e.getTime()>=Date.now()}},f()(ne,"handleCurrentChange",function(e){var t=this.pageSize*(e-1),a=this.pageSize*e;this.tb2.data=this.listData.slice(t,a),this.currentPage=e}),f()(ne,"rowClick",function(e){var t=this.dialogForm.isSelf,a=this.dialogForm.isJustice,i=this.dialogForm.branchHelp;this.dialogForm.visitInfo=p()({},e),this.$refs.applyoutvisitTable.clearSelection(),this.$refs.applyoutvisitTable.toggleRowSelection(e),this.dialogForm.isSelf=t,this.dialogForm.isJustice=a,this.dialogForm.branchHelp=i}),f()(ne,"chooseVisiter",function(e,t){var a=this.dialogForm.isSelf,i=this.dialogForm.isJustice,o=this.dialogForm.branchHelp;this.dialogForm.visitInfo=p()({},t),this.$refs.applyoutvisitTable.clearSelection(),this.$refs.applyoutvisitTable.toggleRowSelection(t),this.dialogForm.isSelf=a,this.dialogForm.isJustice=i,this.dialogForm.branchHelp=o}),f()(ne,"approverChange",function(e){var t=!0,a=!1,i=void 0;try{for(var o,n=d()(this.dropdownData.approver);!(t=(o=n.next()).done);t=!0){var s=o.value;if(s.staffId==e)return void(this.dialogForm.approver=s)}}catch(e){a=!0,i=e}finally{try{!t&&n.return&&n.return()}finally{if(a)throw i}}}),f()(ne,"partnerChange",function(e){var t=!0,a=!1,i=void 0;try{for(var o,n=d()(this.dropdownData.partner);!(t=(o=n.next()).done);t=!0){var s=o.value;if(s.staffId==e)return void(this.dialogForm.partner=s)}}catch(e){a=!0,i=e}finally{try{!t&&n.return&&n.return()}finally{if(a)throw i}}}),f()(ne,"refresh",function(){this.getList()}),f()(ne,"isLetters",function(e){this.templateSelected=!1}),f()(ne,"noLetters",function(e){this.templateSelected=!0,this.dialogForm.templateId="",this.templates=[]}),f()(ne,"downTemplate",function(e){this.$axios({method:"post",url:"/api/assignee/collectionApply/downloadApplyFile",data:{templateId:this.templateId,justiceName:this.justiceName,name:e.name,url:e.url},responseType:"blob"}).then(function(e){var t=e.data,a=new Blob([t]),i=decodeURI(e.headers["content-disposition"].split("=")[1]);if("download"in document.createElement("a")){var o=document.createElement("a");o.download=i,o.style.display="none",o.href=URL.createObjectURL(a),document.body.appendChild(o),o.click(),URL.revokeObjectURL(o.href),document.body.removeChild(o)}else navigator.msSaveBlob(a,i)})}),f()(ne,"selfVisit",function(){this.self=!0}),f()(ne,"NotSelf",function(){this.self=!1,this.partner=""}),f()(ne,"renderHeader",function(e,t){t._self;return e("span",[e("span",{attrs:{type:"primary",size:"mini"},on:{click:this.toggleRowExpansion}},[this.toggleExpansionText])])}),f()(ne,"toggleRowExpansion",function(){}),f()(ne,"recodeDetailClose",function(){this.recodeDetailVisible=!1}),f()(ne,"getVisitDetail",function(e){var t=this;if(0!=Y()(e.outRecord).length||"待审批"==e.approveStatus||e.outRecord.visited)return!1;this.$axios.post("/api/assignee/collectionManage/queryVisitDetails",{id:e.id}).then(function(a){if(0==a.data.code){if(!a.data.data)return e.outRecord={},void(e.outRecord.visited=fasle);e.outRecord=a.data.data,e.outRecord.visited=!0}else t.$util.failCallback(a.data,t)}).catch(function(e){})}),f()(ne,"expandChange",function(e,t){var a=Y()(e.outRecord);"待审批"!=e.approveStatus&&"已驳回"!=e.approveStatus&&0!=a.length||t.indexOf(e.id)&&t.splice(t.length-1)}),f()(ne,"chooseTemplate",function(e){var t=this;this.dropdownData.template.forEach(function(a){e==a.templateId&&(t.templates=a.templates,t.templateId=a.templateId,t.justiceName=a.justiceName)})}),ne)},de={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"md"},[a("div",{staticClass:"md-right"},[e.addRecodeBtn?a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.addRecode}},[e._v("添加外访记录")]):e._e(),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.applyoutvisit}},[e._v("申请外访")])],1)]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",attrs:{data:e.tb.data,"tooltip-effect":"dark","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading",stripe:!0,"empty-text":"暂无数据","row-key":e.getRowKeys,"expand-row-keys":e.expansionArr},on:{"cell-mouse-enter":e.getVisitDetail,"expand-change":e.expandChange}},[a("el-table-column",{attrs:{type:"index",width:"40"}}),e._v(" "),e._l(e.tb.fields,function(e){return a("el-table-column",{key:e.id,attrs:{align:"center",prop:e.key,label:e.label,width:e.width}})}),e._v(" "),a("el-table-column",{attrs:{"render-header":e.renderHeader}},[a("el-table-column",{staticClass:"extend",attrs:{type:"expand",width:"70"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:6}},[a("label",[e._v("外访时间：")]),e._v(e._s(t.row.outRecord.visitTimeStr))]),e._v(" "),a("el-col",{attrs:{span:6}},[a("label",[e._v("外访情况：   ")]),e._v("  "+e._s(t.row.outRecord.visitSituationName))]),e._v(" "),a("el-col",{attrs:{span:6}},[a("label",[e._v("外访状态： ")]),e._v(e._s(t.row.outRecord.visitStatusName))]),e._v(" "),a("el-col",{attrs:{span:6}},[a("label",[e._v("外访地址类型：")]),e._v(e._s(t.row.outRecord.visitAddressType))])],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"5px"},attrs:{gutter:10}},[a("el-col",{attrs:{span:6}},[a("label",[e._v("外访地址：   ")]),e._v("  "+e._s(t.row.outRecord.visitAddress))]),e._v(" "),a("el-col",{attrs:{span:6}},[a("label",[e._v("外访催记： ")]),e._v(e._s(t.row.outRecord.visitMark))]),e._v(" "),a("el-col",{attrs:{span:6}},[a("a",{staticClass:"detail",attrs:{type:"text",size:"mini"},on:{click:function(a){e.showDetail(t)}}},[e._v("详情")])])],1)]}}])})],1)],2),e._v(" "),e.dialogVisible?a("el-dialog",{attrs:{title:"申请外访","close-on-click-modal":!1,"show-close":!0,visible:e.dialogVisible,center:!0},on:{"update:visible":function(t){e.dialogVisible=t},close:e.close}},[a("el-table",{ref:"applyoutvisitTable",staticClass:"out_visit_table",staticStyle:{width:"100%"},attrs:{data:e.tb2.data,"highlight-current-row":""},on:{"row-click":e.rowClick,select:e.chooseVisiter}},[a("el-table-column",{attrs:{type:"selection",disabled:"",width:"50",fixed:"left"}}),e._v(" "),e._l(e.tb2.fields,function(e,t){return a("el-table-column",{key:t,attrs:{align:"center",prop:e.key,label:e.label,width:e.width}})})],2),e._v(" "),a("div",{staticClass:"outTable"},[a("el-pagination",{attrs:{align:"center","current-page":e.currentPage,"page-size":e.pageSize,layout:"total , prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-form",{ref:"dialogForm",staticClass:"out_visit_form",staticStyle:{"margin-top":"20px"},attrs:{"label-width":"100px",model:e.dialogForm,size:"mini",rules:e.rules}},[a("el-form-item",{attrs:{label:"地址类型",prop:"visitInfo.addressType"}},[a("el-input",{attrs:{disabled:""},model:{value:e.dialogForm.visitInfo.addressType,callback:function(t){e.$set(e.dialogForm.visitInfo,"addressType",t)},expression:"dialogForm.visitInfo.addressType"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"关系",prop:"visitInfo.relation"}},[a("el-input",{attrs:{disabled:""},model:{value:e.dialogForm.visitInfo.relation,callback:function(t){e.$set(e.dialogForm.visitInfo,"relation",t)},expression:"dialogForm.visitInfo.relation"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"被访人",prop:"visitInfo.name"}},[a("el-input",{attrs:{disabled:""},model:{value:e.dialogForm.visitInfo.name,callback:function(t){e.$set(e.dialogForm.visitInfo,"name",t)},expression:"dialogForm.visitInfo.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系电话",prop:"visitInfo.phone"}},[a("el-input",{model:{value:e.dialogForm.visitInfo.phone,callback:function(t){e.$set(e.dialogForm.visitInfo,"phone",t)},expression:"dialogForm.visitInfo.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"外访时间",prop:"visitDate",clearable:""}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期","picker-options":e.endDateOpt},model:{value:e.dialogForm.visitDate,callback:function(t){e.$set(e.dialogForm,"visitDate",t)},expression:"dialogForm.visitDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"外访地址",prop:"visitInfo.address"}},[a("el-input",{model:{value:e.dialogForm.visitInfo.address,callback:function(t){e.$set(e.dialogForm.visitInfo,"address",t)},expression:"dialogForm.visitInfo.address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"本人外访"}},[a("el-radio",{attrs:{label:"1",size:"small"},on:{change:e.selfVisit},model:{value:e.dialogForm.isSelf,callback:function(t){e.$set(e.dialogForm,"isSelf",t)},expression:"dialogForm.isSelf"}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:"0",size:"small"},on:{change:e.NotSelf},model:{value:e.dialogForm.isSelf,callback:function(t){e.$set(e.dialogForm,"isSelf",t)},expression:"dialogForm.isSelf"}},[e._v("否")])],1),e._v(" "),a("el-form-item",{attrs:{label:"陪同人",prop:"partner"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择",disabled:!e.self},on:{change:e.partnerChange},model:{value:e.partner,callback:function(t){e.partner=t},expression:"partner"}},e._l(e.dropdownData.partner,function(e){return a("el-option",{key:e.id,attrs:{label:e.staffName,value:e.staffId}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"分公司协助"}},[a("el-radio",{attrs:{label:"1"},model:{value:e.dialogForm.branchHelp,callback:function(t){e.$set(e.dialogForm,"branchHelp",t)},expression:"dialogForm.branchHelp"}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:"0"},model:{value:e.dialogForm.branchHelp,callback:function(t){e.$set(e.dialogForm,"branchHelp",t)},expression:"dialogForm.branchHelp"}},[e._v("否")])],1),e._v(" "),a("el-form-item",{attrs:{label:"申请外访函件"}},[a("el-radio",{attrs:{label:"1"},on:{change:e.isLetters},model:{value:e.dialogForm.isJustice,callback:function(t){e.$set(e.dialogForm,"isJustice",t)},expression:"dialogForm.isJustice"}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:"0"},on:{change:e.noLetters},model:{value:e.dialogForm.isJustice,callback:function(t){e.$set(e.dialogForm,"isJustice",t)},expression:"dialogForm.isJustice"}},[e._v("否")])],1),e._v(" "),a("el-form-item",{attrs:{label:"函件模板"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择",disabled:e.templateSelected},on:{change:e.chooseTemplate},model:{value:e.dialogForm.templateId,callback:function(t){e.$set(e.dialogForm,"templateId",t)},expression:"dialogForm.templateId"}},e._l(e.dropdownData.template,function(e){return a("el-option",{key:e.id,attrs:{label:e.justiceName,value:e.templateId}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"审批人",prop:"staffId"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.approverChange},model:{value:e.dialogForm.staffId,callback:function(t){e.$set(e.dialogForm,"staffId",t)},expression:"dialogForm.staffId"}},e._l(e.dropdownData.approver,function(e){return a("el-option",{key:e.id,attrs:{label:e.staffName,value:e.staffId}})}))],1),e._v(" "),a("div",{staticClass:"template"},e._l(e.templates,function(t){return a("a",{key:t.id,attrs:{href:"javascript:void(0)"}},[a("span",{on:{click:function(a){e.downTemplate(t)}}},[e._v(e._s(t.name))])])}))],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.submitApplyOutVisit(e.dialogForm)}}},[e._v("提 交")])],1)],1):e._e(),e._v(" "),e.recodeVisible?a("outVisitRecode",{attrs:{title:e.title,recodeVisible:e.recodeVisible,isAdd:e.isAdd,id:e.id,applyItem:e.applyItem},on:{refresh:e.refresh,recodeClose:e.recodeClose}}):e._e(),e._v(" "),e.recodeDetailVisible?a("visitRecode",{attrs:{recodeDetailVisible:e.recodeDetailVisible,outVisitData:e.outVisitData},on:{recodeDetailClose:e.recodeDetailClose}}):e._e()],1)},staticRenderFns:[]};var me=a("vSla")(ce,de,!1,function(e){a("w/oZ")},"data-v-09195bd9",null).exports,pe=[{key:"applyTime",label:"记录时间",width:""},{key:"applicantName",label:"催收员",width:""},{key:"borrowerName",label:"发函对象姓名",width:""},{key:"applyReason",label:"申请原因",width:""},{key:"approveStatus",label:"状态",width:""}],ue=[{key:"name",label:"姓名",width:""},{key:"relation",label:"关系",width:""},{key:"phone",label:"电话",width:"100"},{key:"addressType",label:"地址类型",width:""},{key:"address",label:"地址",width:"200"}],fe={name:"",props:{justiceTb:Array,juscticeParam:Object,caseDisable:{type:Boolean}},data:function(){return{tb2:{data:[],fields:ue},tb:{data:[],fields:pe},dialogVisible:!1,dialogForm:{applyReason:"",approver:{},borrowerName:"",justiceInfo:{},template:{},templateId:""},rules:{},loading:!1,dropdownData:{}}},computed:{},created:function(){},methods:{rowClick:function(e){this.dialogForm.justiceInfo=p()({},e)},chooseVisiter:function(e,t){this.dialogForm.justiceInfo=p()({},t)},beforeOpenDialog:function(){var e=this;if(this.caseDisable)return this.$message.warning("案件已结案，不能再进行操作"),!1;this.$axios.post("/api/assignee/collectionApply/judgeJusticeApply",{caseId:this.juscticeParam.caseId}).then(function(t){0==t.data.code?1==t.data.data.allow?e.openDialog():e.$message.error("当前催收状态，无法进行申请"):e.$util.failCallback(t.data,e)}).catch(function(e){})},openDialog:function(){void 0!==this.$refs.dialogForm&&this.$refs.dialogForm.resetFields(),this.dialogForm.template={},this.getdropdownData(),this.dialogVisible=!0},closeDialog:function(e){this.dialogVisible=!1},submitDialog:function(){var e=this;this.$refs.dialogForm.validate(function(t){if(t){var a=p()({},e.dialogForm,e.juscticeParam);e.$axios.post("/api/assignee/collectionApply/saveJusticeApply",a).then(function(t){0==t.data.code?(e.dialogVisible=!1,e.$emit("getjusticeList"),e.$message({type:"success",message:t.data.msg})):e.$util.failCallback(t.data,e)}).catch(function(e){})}})},getdropdownData:function(){var e=this;this.$axios.post("/api/assignee/collectionApply/justiceApplyInitParam",this.juscticeParam).then(function(t){0==t.data.code?(e.tb2.data=t.data.data.addressBean,e.dropdownData.approver=t.data.data.approver,e.dropdownData.template=t.data.data.template):e.$util.failCallback(t.data,e)}).catch(function(e){})},approverChange:function(e){},downTemplate:function(e){this.$axios({method:"post",url:"/api/assignee/collectionApply/downloadApplyFile",data:{templateId:this.dialogForm.templateId,name:e.name,url:e.url},responseType:"blob"}).then(function(e){var t=e.data,a=new Blob([t]),i=decodeURI(e.headers["content-disposition"].split("=")[1]);if("download"in document.createElement("a")){var o=document.createElement("a");o.download=i,o.style.display="none",o.href=URL.createObjectURL(a),document.body.appendChild(o),o.click(),URL.revokeObjectURL(o.href),document.body.removeChild(o)}else navigator.msSaveBlob(a,i)})},templateChange:function(e){this.dialogForm.templateId=e.templateId}}},he={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"md"},[a("div",{staticClass:"md-right"},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.beforeOpenDialog}},[e._v("申请函件")])],1)]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",attrs:{data:e.justiceTb,"tooltip-effect":"dark","show-overflow-tooltip":"","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","empty-text":"暂无数据"}},[a("el-table-column",{attrs:{type:"index"}}),e._v(" "),e._l(e.tb.fields,function(e){return a("el-table-column",{key:e.id,attrs:{align:"left",prop:e.key,label:e.label,width:e.width}})})],2),e._v(" "),a("el-dialog",{attrs:{title:"函件申请","close-on-click-modal":!1,"show-close":!0,visible:e.dialogVisible,center:!0},on:{"update:visible":function(t){e.dialogVisible=t},close:e.closeDialog}},[a("el-table",{ref:"applyoutvisitTable",staticClass:"out_visit_table",staticStyle:{width:"100%"},attrs:{data:e.tb2.data,"highlight-current-row":""},on:{"row-click":e.rowClick,select:e.chooseVisiter}},[a("el-table-column",{attrs:{type:"selection",disabled:"",width:"50",fixed:"left"}}),e._v(" "),e._l(e.tb2.fields,function(e,t){return a("el-table-column",{key:t,attrs:{align:"center",prop:e.key,label:e.label,width:e.width}})})],2),e._v(" "),a("div",{staticClass:"outTable"}),e._v(" "),a("el-form",{ref:"dialogForm",staticClass:"out_visit_form",staticStyle:{"margin-top":"20px"},attrs:{"label-width":"100px",model:e.dialogForm,size:"mini",rules:e.rules}},[a("el-form-item",{attrs:{label:"地址类型",prop:"justiceInfo.addressType"}},[a("el-input",{attrs:{disabled:""},model:{value:e.dialogForm.justiceInfo.addressType,callback:function(t){e.$set(e.dialogForm.justiceInfo,"addressType",t)},expression:"dialogForm.justiceInfo.addressType"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"关系",prop:"justiceInfo.relation"}},[a("el-input",{attrs:{disabled:""},model:{value:e.dialogForm.justiceInfo.relation,callback:function(t){e.$set(e.dialogForm.justiceInfo,"relation",t)},expression:"dialogForm.justiceInfo.relation"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"发函对象",prop:"justiceInfo.name"}},[a("el-input",{attrs:{disabled:""},model:{value:e.dialogForm.justiceInfo.name,callback:function(t){e.$set(e.dialogForm.justiceInfo,"name",t)},expression:"dialogForm.justiceInfo.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系电话",prop:"justiceInfo.phone"}},[a("el-input",{model:{value:e.dialogForm.justiceInfo.phone,callback:function(t){e.$set(e.dialogForm.justiceInfo,"phone",t)},expression:"dialogForm.justiceInfo.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"发函地址",prop:"justiceInfo.address"}},[a("el-input",{model:{value:e.dialogForm.justiceInfo.address,callback:function(t){e.$set(e.dialogForm.justiceInfo,"address",t)},expression:"dialogForm.justiceInfo.address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:""}}),e._v(" "),a("el-form-item",{attrs:{label:"选择函件模板"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择","value-key":"templateId"},on:{change:e.templateChange},model:{value:e.dialogForm.template,callback:function(t){e.$set(e.dialogForm,"template",t)},expression:"dialogForm.template"}},e._l(e.dropdownData.template,function(e){return a("el-option",{key:e.id,attrs:{label:e.justiceName,value:e}})}))],1),e._v(" "),a("el-form-item",{staticClass:"template"},e._l(e.dialogForm.template.templates,function(t){return a("el-button",{key:t.id,attrs:{type:"text"},on:{click:function(a){e.downTemplate(t)}}},[e._v("\n            "+e._s(t.name)+"\n          ")])})),e._v(" "),a("el-form-item",{attrs:{label:"申请原因",prop:"applyReason"}},[a("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入",clearable:""},model:{value:e.dialogForm.applyReason,callback:function(t){e.$set(e.dialogForm,"applyReason",t)},expression:"dialogForm.applyReason"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"审批人",prop:"approver"}},[a("el-select",{attrs:{placeholder:"请选择","value-key":"staffId"},on:{change:e.approverChange},model:{value:e.dialogForm.approver,callback:function(t){e.$set(e.dialogForm,"approver",t)},expression:"dialogForm.approver"}},e._l(e.dropdownData.approver,function(e){return a("el-option",{key:e.id,attrs:{label:e.staffName,value:e}})}))],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){return t.preventDefault(),e.closeDialog(t)}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){t.preventDefault(),e.submitDialog()}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var be=a("vSla")(fe,he,!1,function(e){a("Nuzt")},"data-v-7a52df54",null).exports,ve=[{key:"applyTime",label:"记录时间",width:""},{key:"applicantName",label:"催收员",width:""},{key:"borrowerName",label:"起诉对象姓名",width:""},{key:"applyReason",label:"申请原因",width:""},{key:"approveStatus",label:"状态",width:""}],ge={name:"",props:{policeTb:Array,policeParam:Object,caseDisable:{type:Boolean}},data:function(){return{tb:{data:[],fields:ve},dialogVisible:!1,dialogForm:{applyReason:"",approver:"",borrowerName:""},rules:{},loading:!1,dropdownData:{}}},computed:{},created:function(){},methods:{beforeOpenDialog:function(){var e=this;if(this.caseDisable)return this.$message.warning("案件已结案，不能再进行操作"),!1;this.$axios.post("/api/assignee/collectionApply/judgePoliceApply",{caseId:this.policeParam.caseId}).then(function(t){0==t.data.code?1==t.data.data.allow?e.openDialog():e.$message.error("当前催收状态，无法进行申请"):e.$util.failCallback(t.data,e)}).catch(function(e){})},openDialog:function(){void 0!==this.$refs.dialogForm&&this.$refs.dialogForm.resetFields(),this.getdropdownData(),this.dialogVisible=!0},closeDialog:function(e){this.dialogVisible=!1},submitDialog:function(){var e=this;this.$refs.dialogForm.validate(function(t){if(t){var a=p()({},e.dialogForm,e.policeParam);e.$axios.post("/api/assignee/collectionApply/savePoliceApply",a).then(function(t){0==t.data.code?(e.dialogVisible=!1,e.$emit("getpoliceList"),e.$message({type:"success",message:t.data.msg})):e.$util.failCallback(t.data,e)}).catch(function(e){})}})},getdropdownData:function(){var e=this;this.$axios.post("/api/assignee/collectionApply/policeApplyInitParam",this.policeParam).then(function(t){0==t.data.code?e.dropdownData=t.data.data:e.$util.failCallback(t.data,e)}).catch(function(e){})}}},ye={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"md"},[a("div",{staticClass:"md-right"},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.beforeOpenDialog}},[e._v("申请公安协催")])],1)]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",attrs:{data:e.policeTb,"tooltip-effect":"dark","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","empty-text":"暂无数据","show-overflow-tooltip":""}},[a("el-table-column",{attrs:{type:"index"}}),e._v(" "),e._l(e.tb.fields,function(e){return a("el-table-column",{key:e.id,attrs:{align:"left",prop:e.key,label:e.label,width:e.width}})})],2),e._v(" "),a("el-dialog",{attrs:{title:"公安协催申请","close-on-click-modal":!1,"show-close":!0,visible:e.dialogVisible,center:!0},on:{"update:visible":function(t){e.dialogVisible=t},close:e.closeDialog}},[a("el-form",{ref:"dialogForm",attrs:{rules:e.rules,"label-width":"100px",model:e.dialogForm,size:"mini"}},[a("el-form-item",{attrs:{label:"欠款人姓名",prop:"borrowerName"}},[a("el-input",{attrs:{clearable:""},model:{value:e.dialogForm.borrowerName,callback:function(t){e.$set(e.dialogForm,"borrowerName",t)},expression:"dialogForm.borrowerName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"申请原因",prop:"applyReason"}},[a("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入",clearable:""},model:{value:e.dialogForm.applyReason,callback:function(t){e.$set(e.dialogForm,"applyReason",t)},expression:"dialogForm.applyReason"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"审批人",prop:"approver"}},[a("el-select",{attrs:{placeholder:"请选择","value-key":"staffId",clearable:""},model:{value:e.dialogForm.approver,callback:function(t){e.$set(e.dialogForm,"approver",t)},expression:"dialogForm.approver"}},e._l(e.dropdownData.approver,function(e){return a("el-option",{key:e.staffId,attrs:{label:e.staffName,value:e}})}))],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.closeDialog()}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){t.preventDefault(),e.submitDialog()}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var _e=a("vSla")(ge,ye,!1,function(e){a("uaKe")},"data-v-01500de6",null).exports,we=[{key:"applyTime",label:"申请时间",width:""},{key:"checkTime",label:"反馈时间",width:""},{key:"applicantName",label:"催收员",width:""},{key:"latestDebtMoney",label:"最新欠款金额",width:""},{key:"statementAmount",label:"声明欠款金额",width:""},{key:"checkAmount",label:"对账欠款金额",width:""},{key:"checkStatusName",label:"状态",width:""}],Ie={name:"",props:{accountCheckingTb:Array,accountCheckingParam:Object,caseDisable:{type:Boolean}},data:function(){return{tb:{data:[],fields:we},dialogVisible:!1,dialogForm:{applyReason:"",latestDebtMoney:"",statementAmount:""},rules:{statementAmount:[{validator:function(e,t,a){t?/^[1-9][0-9]{0,9}([.][0-9]{0,2})?$/.test(t)?a():a(new Error("最多10位整数和2位小数")):a()},trigger:"blur",type:"number"}]},loading:!1,dropdownData:{}}},computed:{},created:function(){},methods:{beforeOpenDialog:function(){if(this.caseDisable)return this.$message.warning("案件已结案，不能再进行操作"),!1;this.accountCheckingTb[0]&&0==this.accountCheckingTb[0].checkStatus?this.$message.error("对账已有申请，不可再次申请"):this.openDialog()},openDialog:function(){void 0!==this.$refs.dialogForm&&this.$refs.dialogForm.resetFields(),this.getdropdownData(),this.dialogVisible=!0},closeDialog:function(e){this.dialogVisible=!1},submitDialog:function(){var e=this;this.$refs.dialogForm.validate(function(t){if(t){var a=p()({},e.dialogForm,e.accountCheckingParam);e.$axios.post("/api/assignee/collectionApply/saveCheckBillApply",a).then(function(t){0==t.data.code?(e.dialogVisible=!1,e.$emit("getaccountCheckingList"),e.$message({type:"success",message:t.data.msg})):e.$util.failCallback(t.data,e)}).catch(function(e){})}})},getdropdownData:function(){var e=this;this.$axios.post("/api/assignee/collectionApply/checkBillApplyInitParam",this.accountCheckingParam).then(function(t){0==t.data.code?(e.dropdownData=t.data.data,e.dialogForm.latestDebtMoney=t.data.data.latestDebtMoney):e.$util.failCallback(t.data,e)}).catch(function(e){})}}},Ce={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"md"},[a("div",{staticClass:"md-right"},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.beforeOpenDialog}},[e._v("申请对账")])],1)]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",attrs:{data:e.accountCheckingTb,"tooltip-effect":"dark","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","empty-text":"暂无数据","show-overflow-tooltip":""}},[a("el-table-column",{attrs:{type:"index"}}),e._v(" "),e._l(e.tb.fields,function(e){return a("el-table-column",{key:e.id,attrs:{align:"left",prop:e.key,label:e.label,width:e.width}})})],2),e._v(" "),a("el-dialog",{attrs:{title:"对账申请","close-on-click-modal":!1,"show-close":!0,visible:e.dialogVisible,center:!0},on:{"update:visible":function(t){e.dialogVisible=t},close:e.closeDialog}},[a("el-form",{ref:"dialogForm",attrs:{rules:e.rules,"label-width":"150px",model:e.dialogForm,size:"mini"}},[a("el-form-item",{attrs:{label:"最新欠款金额",prop:"latestDebtMoney"}},[a("el-input",{attrs:{disabled:!0,clearable:""},model:{value:e.dropdownData.latestDebtMoney,callback:function(t){e.$set(e.dropdownData,"latestDebtMoney",t)},expression:"dropdownData.latestDebtMoney"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"客户声明欠款金额",prop:"statementAmount"}},[a("el-input",{attrs:{clearable:""},model:{value:e.dialogForm.statementAmount,callback:function(t){e.$set(e.dialogForm,"statementAmount",t)},expression:"dialogForm.statementAmount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"申请原因",prop:"applyReason"}},[a("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入",clearable:""},model:{value:e.dialogForm.applyReason,callback:function(t){e.$set(e.dialogForm,"applyReason",t)},expression:"dialogForm.applyReason"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.closeDialog()}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){t.preventDefault(),e.submitDialog()}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var Ae=a("vSla")(Ie,Ce,!1,function(e){a("O46a")},"data-v-7a10d809",null).exports,ke=[{key:"applyTime",label:"申请时间",width:""},{key:"checkTime",label:"反馈时间",width:""},{key:"applicantName",label:"催收员",width:""},{key:"latestRepayMoney",label:"最新还款金额",width:""},{key:"latestRepayTime",label:"最新还款时间",width:""},{key:"statementRepayMoney",label:"声明最新还款金额",width:""},{key:"statementRepayTime",label:"声明最新还款时间",width:""},{key:"checkStatusName",label:"状态",width:""}],De={name:"",props:{accountLookingTb:Array,accountLookingParam:Object,caseDisable:{type:Boolean}},data:function(){return{pickerOptions0:{disabledDate:function(e){return e.getTime()>Date.now()}},tb:{data:[],fields:ke},dialogVisible:!1,dialogForm:{applyReason:"",latestRepayMoney:"",latestRepayTime:"",statementRepayMoney:"",statementRepayTime:""},rules:{statementAmount:[{validator:function(e,t,a){t?/^[1-9][0-9]{0,9}([.][0-9]{0,2})?$/.test(t)?a():a(new Error("最多10位整数和2位小数")):a()},trigger:"blur",type:"number"}]},loading:!1,dropdownData:{}}},computed:{},created:function(){},methods:{beforeOpenDialog:function(){if(this.caseDisable)return this.$message.warning("案件已结案，不能再进行操作"),!1;this.accountLookingTb[0]&&0==this.accountLookingTb[0].checkStatus?this.$message.error("查账已有申请，不可再次申请"):this.openDialog()},openDialog:function(){void 0!==this.$refs.dialogForm&&this.$refs.dialogForm.resetFields(),this.getdropdownData(),this.dialogVisible=!0},closeDialog:function(e){this.dialogVisible=!1},submitDialog:function(){var e=this;this.$refs.dialogForm.validate(function(t){if(t){var a=p()({},e.dialogForm,e.accountLookingParam);e.$axios.post("/api/assignee/collectionApply/saveLookBillApply",a).then(function(t){0==t.data.code?(e.dialogVisible=!1,e.$emit("getaccountLookingList"),e.$message({type:"success",message:t.data.msg})):e.$util.failCallback(t.data,e)}).catch(function(e){})}})},getdropdownData:function(){var e=this;this.$axios.post("/api/assignee/collectionApply/lookBillApplyInitParam",this.accountLookingParam).then(function(t){0==t.data.code?(e.dropdownData=t.data.data,e.dialogForm.latestRepayMoney=t.data.data.latestRepayMoney,e.dialogForm.latestRepayTime=t.data.data.latestRepayTime):e.$util.failCallback(t.data,e)}).catch(function(e){})}}},xe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"md"},[a("div",{staticClass:"md-right"},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.beforeOpenDialog}},[e._v("申请查账")])],1)]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",attrs:{data:e.accountLookingTb,"tooltip-effect":"dark","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","empty-text":"暂无数据","show-overflow-tooltip":""}},[a("el-table-column",{attrs:{type:"index"}}),e._v(" "),e._l(e.tb.fields,function(e){return a("el-table-column",{key:e.id,attrs:{align:"left",prop:e.key,label:e.label,width:e.width}})})],2),e._v(" "),a("el-dialog",{attrs:{title:"查账申请","close-on-click-modal":!1,"show-close":!0,visible:e.dialogVisible,center:!0},on:{"update:visible":function(t){e.dialogVisible=t},close:e.closeDialog}},[a("el-form",{ref:"dialogForm",attrs:{rules:e.rules,"label-width":"150px",model:e.dialogForm,size:"mini"}},[a("el-form-item",{attrs:{label:"最新还款金额",prop:"latestRepayMoney"}},[a("el-input",{attrs:{disabled:!0,clearable:""},model:{value:e.dropdownData.latestRepayMoney,callback:function(t){e.$set(e.dropdownData,"latestRepayMoney",t)},expression:"dropdownData.latestRepayMoney"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"最新还款时间",prop:"latestRepayTime"}},[a("el-input",{attrs:{disabled:!0,clearable:""},model:{value:e.dropdownData.latestRepayTime,callback:function(t){e.$set(e.dropdownData,"latestRepayTime",t)},expression:"dropdownData.latestRepayTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"声明最新还款金额",prop:"statementRepayMoney"}},[a("el-input",{attrs:{clearable:""},model:{value:e.dialogForm.statementRepayMoney,callback:function(t){e.$set(e.dialogForm,"statementRepayMoney",t)},expression:"dialogForm.statementRepayMoney"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"声明最新还款时间",prop:"statementRepayTime"}},[a("el-date-picker",{attrs:{"picker-options":e.pickerOptions0,type:"datetime",placeholder:"选择","value-format":"yyyy-MM-dd HH:mm:ss",format:"yyyy/MM/dd HH:mm:ss",clearable:""},model:{value:e.dialogForm.statementRepayTime,callback:function(t){e.$set(e.dialogForm,"statementRepayTime",t)},expression:"dialogForm.statementRepayTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"申请原因",prop:"applyReason"}},[a("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入",clearable:""},model:{value:e.dialogForm.applyReason,callback:function(t){e.$set(e.dialogForm,"applyReason",t)},expression:"dialogForm.applyReason"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(t){t.preventDefault(),e.closeDialog()}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){t.preventDefault(),e.submitDialog()}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var Fe=a("vSla")(De,xe,!1,function(e){a("Ld6B")},"data-v-f02d807c",null).exports,Be={name:"complain",props:{complainVisible:{type:Boolean},onLineData:{type:Object}},data:function(){return{complainForm:{caseId:this.onLineData.caseId,complaintName:"",reportPhone:"",complaintReason:""},rules:{complaintName:[this.$util.formRule.userName],reportPhone:[this.$util.formRule.phone],textarea:{}}}},computed:{},created:function(){},methods:{submitComplain:function(){var e=this;this.$axios.post("/api/assignee/complaintPrewarning/add",this.complainForm).then(function(t){0==t.data.code?(e.$message.success("添加投诉预警成功"),e.$emit("complainClose"),e.reset(complainForm)):e.$util.failCallback(t.data,e)}).catch(function(e){})},reset:function(e){this.$refs.complainForm.resetFields(),this.$emit("complainClose")},close:function(e){this.$emit("complainClose"),this.reset(e)}}},$e={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form"},[a("el-dialog",{attrs:{"close-on-click-modal":!1,"show-close":!0,visible:e.complainVisible,center:!0,title:"添加投诉"},on:{"update:visible":function(t){e.complainVisible=t},close:function(t){e.close("complainForm")}}},[a("el-form",{ref:"complainForm",attrs:{rules:e.rules,"label-width":"100px",model:e.complainForm}},[a("el-form-item",{staticClass:"item",attrs:{label:"投诉人姓名：",prop:"complaintName"}},[a("el-input",{attrs:{size:"mini",clearable:""},model:{value:e.complainForm.complaintName,callback:function(t){e.$set(e.complainForm,"complaintName",t)},expression:"complainForm.complaintName"}})],1),e._v(" "),a("el-form-item",{staticClass:"item",attrs:{label:"投诉号码：",prop:"reportPhone"}},[a("el-input",{attrs:{size:"mini",clearable:""},model:{value:e.complainForm.reportPhone,callback:function(t){e.$set(e.complainForm,"reportPhone",t)},expression:"complainForm.reportPhone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"投诉内容：",prop:""}},[a("el-input",{attrs:{placeholder:"请输入投诉内容",type:"textarea",rows:6,maxlength:200,size:"mini",clearable:""},model:{value:e.complainForm.complaintReason,callback:function(t){e.$set(e.complainForm,"complaintReason",t)},expression:"complainForm.complaintReason"}})],1),e._v(" "),a("div",{staticClass:"dialog-footer footer"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.submitComplain("complainForm")}}},[e._v("提 交")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.reset("complainForm")}}},[e._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var Re=a("vSla")(Be,$e,!1,function(e){a("fP0r")},"data-v-d30128ee",null).exports,Se={name:"note",props:{noteVisible:{type:Boolean,default:!1},noteParam:Object},data:function(){return{pickerOptions0:{disabledDate:function(e){return e.getTime()<Date.now()-864e5}},dropdownData:[],noteForm:{content:"",remindDate:"",repetitionWay:"",title:"",memoType:1,addType:0},rules:{}}},computed:{},created:function(){this.getdropdownData()},methods:{submitnote:function(){var e=this,t=p()({},this.noteForm,this.noteParam);this.$axios.post("/api/assignee/memo/addMemo",t).then(function(t){0==t.data.code?(e.$message.success("添加成功"),e.$refs.noteForm.resetFields(),e.$emit("noteClose")):e.$util.failCallback(t.data,e)}).catch(function(e){})},reset:function(e){this.$refs.noteForm.resetFields(),this.$emit("noteClose")},close:function(e){this.$refs.noteForm.resetFields(),this.$emit("noteClose")},getdropdownData:function(){var e=this;this.$axios.post("/api/assignee/memo/getRepetitionWay",{}).then(function(t){0==t.data.code?e.dropdownData=t.data.data:e.$util.failCallback(t.data,e)}).catch(function(e){})}}},qe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form"},[a("el-dialog",{attrs:{"close-on-click-modal":!1,"show-close":!0,visible:e.noteVisible,center:!0,title:"添加备忘"},on:{"update:visible":function(t){e.noteVisible=t},close:e.close}},[a("el-form",{ref:"noteForm",attrs:{rules:e.rules,"label-width":"100px",model:e.noteForm}},[a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.noteForm.title,callback:function(t){e.$set(e.noteForm,"title",t)},expression:"noteForm.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"提醒时间",prop:"remindDate"}},[a("el-date-picker",{attrs:{"picker-options":e.pickerOptions0,type:"datetime",placeholder:"选择","value-format":"yyyy-MM-dd HH:mm",format:"yyyy/MM/dd HH:mm",clearable:""},model:{value:e.noteForm.remindDate,callback:function(t){e.$set(e.noteForm,"remindDate",t)},expression:"noteForm.remindDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"重复",prop:"repetitionWay"}},[a("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.noteForm.repetitionWay,callback:function(t){e.$set(e.noteForm,"repetitionWay",t)},expression:"noteForm.repetitionWay"}},e._l(e.dropdownData,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.code}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"content"}},[a("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入",clearable:""},model:{value:e.noteForm.content,callback:function(t){e.$set(e.noteForm,"content",t)},expression:"noteForm.content"}})],1),e._v(" "),a("div",{staticClass:"dialog-footer footer"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.submitnote("noteForm")}}},[e._v("提 交")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.reset("noteForm")}}},[e._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var Te=a("vSla")(Se,qe,!1,function(e){a("24og")},"data-v-52bad2c2",null).exports,Le={name:"addContacts",data:function(){return{dialogForm:{caseCode:"",companyAddress:"",companyName:"",contactIdnumber:"",contactName:"",contactQqCode:"",contactRelation:"",contactTel:"",contactWechatCode:"",email:"",homeAddress:"",usualAddress:""},relations:["本人","直系亲属","其它"]}},props:{addContactsVisible:Boolean,caseCode:String},methods:{close:function(){this.cancelForm()},submitForm:function(){var e=this;this.$refs.dialogForm.validate(function(t){t&&e.$axios.post("/api/assignee/collectionMark/saveCollectionContact",e.dialogForm).then(function(t){0==t.data.code?(e.$message.success("联系人保存成功"),e.cancelForm()):e.$util.failCallback(t.data,e)})})},cancelForm:function(){this.$refs.dialogForm.resetFields(),this.$emit("closeDialog")}},created:function(){this.dialogForm.caseCode=this.caseCode}},Ne={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form"},[a("el-dialog",{attrs:{"close-on-click-modal":!1,"show-close":!0,title:"添加联系人详情",visible:e.addContactsVisible,center:!0,id:"dialog"},on:{"update:visible":function(t){e.addContactsVisible=t},close:e.close}},[a("el-form",{ref:"dialogForm",staticClass:"dialog-main",attrs:{"label-width":"100px",size:"small",model:e.dialogForm}},[a("el-form-item",{attrs:{label:"关系",prop:"contactRelation",clearable:"",rules:[{required:!0,message:"必选项",trigger:"change"}]}},[a("el-select",{attrs:{placeholder:"请选择关系"},model:{value:e.dialogForm.contactRelation,callback:function(t){e.$set(e.dialogForm,"contactRelation",t)},expression:"dialogForm.contactRelation"}},e._l(this.relations,function(e){return a("el-option",{key:e,attrs:{name:e,value:e}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名",prop:"contactName",clearable:"",rules:[{required:!0,message:"必填项",trigger:"blur"}]}},[a("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.dialogForm.contactName,callback:function(t){e.$set(e.dialogForm,"contactName",t)},expression:"dialogForm.contactName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号",prop:"contactTel",clearable:""}},[a("el-input",{attrs:{placeholder:"请输入手机号"},model:{value:e.dialogForm.contactTel,callback:function(t){e.$set(e.dialogForm,"contactTel",t)},expression:"dialogForm.contactTel"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"微信",prop:"contactWechatCode",clearable:""}},[a("el-input",{attrs:{placeholder:"请输入微信"},model:{value:e.dialogForm.contactWechatCode,callback:function(t){e.$set(e.dialogForm,"contactWechatCode",t)},expression:"dialogForm.contactWechatCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"QQ",prop:"contactQqCode",clearable:""}},[a("el-input",{attrs:{placeholder:"请输入QQ"},model:{value:e.dialogForm.contactQqCode,callback:function(t){e.$set(e.dialogForm,"contactQqCode",t)},expression:"dialogForm.contactQqCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱",prop:"email",clearable:""}},[a("el-input",{attrs:{placeholder:"请输入邮箱"},model:{value:e.dialogForm.email,callback:function(t){e.$set(e.dialogForm,"email",t)},expression:"dialogForm.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"身份证",prop:"contactIdnumber",clearable:""}},[a("el-input",{attrs:{placeholder:"请输入身份证"},model:{value:e.dialogForm.contactIdnumber,callback:function(t){e.$set(e.dialogForm,"contactIdnumber",t)},expression:"dialogForm.contactIdnumber"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"常用地址",prop:"usualAddress",clearable:""}},[a("el-input",{attrs:{placeholder:"请输入常用地址"},model:{value:e.dialogForm.usualAddress,callback:function(t){e.$set(e.dialogForm,"usualAddress",t)},expression:"dialogForm.usualAddress"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"公司名称",prop:"companyName",clearable:""}},[a("el-input",{attrs:{placeholder:"请输入公司名称"},model:{value:e.dialogForm.companyName,callback:function(t){e.$set(e.dialogForm,"companyName",t)},expression:"dialogForm.companyName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"公司地址",prop:"companyAddress",clearable:""}},[a("el-input",{attrs:{placeholder:"请输入公司地址"},model:{value:e.dialogForm.companyAddress,callback:function(t){e.$set(e.dialogForm,"companyAddress",t)},expression:"dialogForm.companyAddress"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog_submit"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return t.preventDefault(),e.submitForm(t)}}},[e._v("提交")]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:e.cancelForm}},[e._v("取消")])],1)],1)],1)},staticRenderFns:[]};var Ve=a("vSla")(Le,Ne,!1,function(e){a("nUkB")},"data-v-942ce776",null).exports,Me=(a("9rMa"),{components:{addWeChat:_,sendWeChat:C,sms:S,sms2:L,tableComponent:h.a,pagination:b.a,information:v.a,MyTabs:N.a,applyDerate:G,outVisit:me,justice:be,police:_e,accountChecking:Ae,accountLooking:Fe,complain:Re,note:Te,qqAdd:D,qqSend:B,collectionRecord:z,repaireConnection:O,addContacts:Ve},data:function(){var e,t=this;return e={addweChatShow:!0,tabIndex:-1,componentIndex:-1,fixShow:"hide",stopError:"",personLength:1,mapCaseCode:"",phoneUniqId:"",wechatUniqId:"",qqUniqId:"",infoShow:!1,tabList:[{index:0,name:"催收记录",method:""},{index:1,name:"失联修复",method:""},{index:2,name:"外访",method:""},{index:3,name:"申请减免",method:""},{index:4,name:"申请函件",method:this.getjusticeList},{index:5,name:"申请公安协催",method:this.getpoliceList},{index:6,name:"申请对账",method:this.getaccountCheckingList},{index:7,name:"申请查账",method:this.getaccountLookingList}],tbData:[],caseInfoBeans:{},debtInfoBeans:{},userInfoBean:{},phoneCode:"",moreInfo:"更多信息 >>",caseCodeArr:[],caseObjArr:[],dropdownData:[],promiseInfoShow:!1,callData:{callName:"",callPhone:"",caseId:"",caseCode:"",caseManageId:"",contactRelation:"本人",phoneStatus:"",phoneLabel:"",repaymentIntention:[],contactAttitude:[],promiseRepaymentTime:null,promiseAmount:null,reliefAmount:null,addContact:[],collectionRemark:"",phoneAnswerStatus:1,strongId:"",source:"",isRelevancy:0,caseLabel:""},addContact:{companyAddress:"",companyName:"",contactIdnumber:"",contactName:"",contactRelation:"本人",usualAddress:"",contactQqCode:"",contactWechatCode:"",email:"",caseCode:""},justiceTb:[],policeTb:[],accountCheckingTb:[],accountLookingTb:[],params:{}},f()(e,"caseInfoBeans",{}),f()(e,"debtInfoBeans",{}),f()(e,"userInfoBean",{}),f()(e,"labels",{}),f()(e,"phoneCode",""),f()(e,"moreInfo","更多信息 >>"),f()(e,"caseCode",""),f()(e,"caseId",""),f()(e,"caseManageId",""),f()(e,"collectionMarkId",""),f()(e,"caseStatus",""),f()(e,"total",0),f()(e,"pageSize",15),f()(e,"currentPage",1),f()(e,"fixPhone",""),f()(e,"fixName",""),f()(e,"arrowBtn","el-icon-d-arrow-left fixedBtn"),f()(e,"bg","bgHide"),f()(e,"paddingBtm","content-hide"),f()(e,"rules",{promiseAmount:[{validator:function(e,a,i){a?/^[1-9][0-9]{0,9}([.][0-9]{0,2})?$/.test(a)?t.callData.promiseRepaymentTime?i():i(new Error("承诺还款时间需填")):i(new Error("最多10位整数和2位小数")):i()},trigger:"blur,change",type:"number"}],reliefAmount:[{validator:function(e,a,i){a?/^[1-9][0-9]{0,9}([.][0-9]{0,2})?$/.test(a)?t.callData.reliefAmount&&t.callData.promiseRepaymentTime?i():i(new Error("承诺还款金额和时间需填")):i(new Error("最多10位整数和2位小数")):i()},trigger:"blur,change",type:"number"}]}),f()(e,"complainVisible",!1),f()(e,"noteVisible",!1),f()(e,"assignData",{}),f()(e,"applyderateTb",[]),f()(e,"isWechatfriend",!1),f()(e,"wechatAddVisible",!1),f()(e,"mywechatAccount",""),f()(e,"mywechatAddAccount",""),f()(e,"wechatSendVisible",!1),f()(e,"qqAddVisible",!1),f()(e,"qqSendVisible",!1),f()(e,"isQQfriend",!1),f()(e,"myQQAccount",""),f()(e,"myQQAddAccount",""),f()(e,"onLineData",{}),f()(e,"smsVisible",!1),f()(e,"phoneInfo",null),f()(e,"smsVisible2",!1),f()(e,"phoneInfo2",null),f()(e,"disabledBtn",!1),f()(e,"cancelBtn",!0),f()(e,"caseIndex",0),f()(e,"isLast",!1),f()(e,"callSrc",""),f()(e,"extension",""),f()(e,"phoneType",0),f()(e,"encodePhone",""),f()(e,"phoneBtnText"," 拨打"),f()(e,"repaireDisBtn",!1),f()(e,"caseLabels",[]),f()(e,"qqCode",""),f()(e,"wechatCode",""),f()(e,"phoneCity",""),f()(e,"phoneCompany",""),f()(e,"isStop",""),f()(e,"caseDisable",!1),f()(e,"loadingAllPage",!0),f()(e,"addContactsVisible",!1),e},created:function(){var e=this.$util.decrypt(this.$route.query.id,"caseDetail").split("__");this.personLength=e.length;var t=e[0].split("_");this.caseCode=t[0],this.caseId=Number(t[1]),this.caseManageId=Number(t[2]),this.callData.caseId=this.caseId,this.callData.caseManageId=this.caseManageId,this.callData.caseCode=this.caseCode;var a=!0,i=!1,o=void 0;try{for(var n,s=d()(e);!(a=(n=s.next()).done);a=!0){var l=n.value.split("_");this.caseCodeArr.push(l[0]),this.caseObjArr.push(l)}}catch(e){i=!0,o=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw o}}this.getdropdownData(),this.getList(),this.getLabel(),this.assignData=p()({},this.callData),this.caseIndex=0,this.mapCaseCode=this.caseCode,this.params={caseId:this.caseId,caseManageId:Number(this.caseManageId),caseCode:Number(this.caseCode)},window.addEventListener("message",function(e){var t=this;if(e.data&&"string"==typeof e.data){var a=e.data,i=e.data.match(/\"call_id\"\:\"([0-9.]{0,})/);if(null!=i){var o=i[1];this.$axios.post("/api/assignee/call/addCallRecord",{answering:this.callData.callName,callId:o,caseId:this.caseId,phoneType:this.phoneType,relation:this.callData.contactRelation}).then(function(){}).catch(function(e){})}else{var n=JSON.parse(a);if(n.status_notify)switch(n.status_notify){case"空闲":this.disabledBtn=!1,this.cancelBtn=!0,this.phoneBtnText=" 拨号";break;case"呼叫中":this.phoneBtnText="呼叫中",this.disabledBtn=!0,this.cancelBtn=!1;break;case"通话中":this.phoneBtnText="通话中...",this.disabledBtn=!0,this.cancelBtn=!1;break;case"无设备":this.$message.error("无通讯设备连接")}else if(n.status)switch(n.status){case"Success":n.event&&"loginReturn"==n.event?this.$message.success("呼叫系统"+n.msg):this.$message.success(n.msg);break;case"Error":if(n.event&&"loginReturn"==n.event)"Error"!=n.msg&&this.$message.error("呼叫系统"+n.msg);else if(1006==n.status){var s={event:"logout",extension:this.extension};this.$confirm("呼叫账号重复登录，是否重新登录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.SendJson(s)})}else this.$message.error(n.msg)}}}}.bind(this),!1)},methods:{getList:function(){var e=this;this.loadingAllPage=!0,this.infoShow=!1,this.$axios.post("/api/assignee/collectionManage/queryManualCaseDetails",{caseDetailBean:[{caseCode:this.caseCode,caseId:Number(this.caseId),caseManageId:Number(this.caseManageId)}]}).then(function(t){if(0==t.data.code){var a=t.data.data[0];e.debtInfoBeans=a.debtInfoBean,e.userInfoBean=a.userInfoBean,e.caseInfoBeans=a.caseInfoBean,e.caseDisable=2==e.caseInfoBeans.caseStatus||4==e.caseInfoBeans.caseStatus||11==e.caseInfoBeans.caseStatus,e.caseCode=e.caseCode,e.caseId=Number(e.caseId),e.caseManageId=Number(e.caseManageId),e.callData.caseCode=e.caseCode,e.callData.caseId=parseInt(e.caseId),e.callData.caseManageId=parseInt(e.caseManageId),e.callData.callName=e.userInfoBean.borrowerName,e.callData.callPhone=e.userInfoBean.borrowerPhone,e.callData.contactRelation="本人",e.tabIndex=0,e.componentIndex=0,e.infoShow=!0,e.onLineData={borrowerName:e.userInfoBean.borrowerName,latestDebtMoney:e.debtInfoBeans.latestDebtMoney,loanInstitution:e.debtInfoBeans.loanInstitution,caseId:e.caseId,phone:e.userInfoBean.borrowerPhone,productName:e.debtInfoBeans.productName},e.params={caseId:e.caseId,caseManageId:Number(e.caseManageId),caseCode:Number(e.caseCode)},e.caseLabels=a.caseLabel,e.qqUniqId=e.userInfoBean.contactQq[0]?e.userInfoBean.contactQq[0].uniqueId:"",e.wechatUniqId=e.userInfoBean.contactWechat[0]?e.userInfoBean.contactWechat[0].uniqueId:"",e.phoneUniqId=e.userInfoBean.contactPhone[0]?e.userInfoBean.contactPhone[0].uniqueId:"",e.disabledBtn=e.isStop=!!(e.userInfoBean.contactPhone&&e.userInfoBean.contactPhone[0]&&e.userInfoBean.contactPhone[0].isStop),e.infoShow=!0,e.getPhoneAddress(e.callData.callPhone),e.callData.phoneStatus="",e.$refs.phoneLabel.resetFields(),e.$refs.repaymentIntention.resetFields(),e.$refs.contactAttitude.resetFields(),e.$refs.collectionRemark.resetFields(),e.$refs.collectionTips.resetFields(),e.callData.promiseAmount&&e.$refs.promise.resetFields(),e.callData.addContact=[],setTimeout(function(){e.$refs.information.mount(e.userInfoBean,e.phoneUniqId,e.qqUniqId,e.wechatUniqId)},0)}else e.$util.failCallback(t.data,e);e.loadingAllPage=!1}).catch(function(e){})},getdropdownData:function(){var e=this;this.$axios.post("/api/assignee/collectionManage/initCaseDetails",{caseCode:this.caseCodeArr}).then(function(t){0==t.data.code?e.dropdownData=t.data.data.caseCodeBean:e.$util.failCallback(t.data,e)}).catch(function(e){})},getPhoneAddress:function(e){var t=this;this.$axios.post("/api/assignee/relevancy/getPhoneArea",{phone:e}).then(function(e){0==e.data.code?(t.phoneCity=e.data.data.province+e.data.data.city,t.phoneCompany=e.data.data.operator):t.$util.failCallback(e.data,t)}).catch(function(e){})},getTime:function(e){this.callData.promiseRepaymentTime=e;var t=/^[1-9][0-9]{0,9}([.][0-9]{0,2})?$/;t.test(this.callData.promiseAmount)&&e&&(this.$children[2].$parent.$refs.promiseAmount.clearValidate(),t.test(this.callData.reliefAmount)&&this.$children[2].$parent.$refs.reliefAmount.clearValidate())},choose:function(e){},toMoreInfo:function(){var e=this.$util.encrypt(this.caseManageId.toString(),"moreInfo"),t=(window.location.origin?window.location.origin:"")+"/#/assignee_more_infomation?id="+e;window.open(t)},repiareCall:function(e){if(this.caseDisable)return this.preventAction(),!1;this.isStop=!1,this.repaireDisBtn=!0,this.callData.callName=e.name?e.name:"未知",this.callData.callPhone=e.phone,this.callData.contactRelation=e.relation,this.fixPhone=e.phone,this.fixName=e.name,this.phoneType=1,this.callData.source=e.source,this.callData.strongId=e.strongId,this.callData.isRelevancy=1,this.fixShow="visible",this.arrowBtn="el-icon-d-arrow-right fixedBtn",this.bg="bgShow",this.paddingBtm="content-show",this.getEncodePhone()},callPhone:function(e){if(this.caseDisable)return this.preventAction(),!1;this.callData.callName=e.name,this.callData.callPhone=e.phone,this.callData.contactRelation=e.relation,this.phoneType=0,this.fixShow="visible",this.arrowBtn="el-icon-d-arrow-right fixedBtn",this.bg="bgShow",this.paddingBtm="content-show",this.getEncodePhone()},cancelCall:function(){if(this.caseDisable)return this.preventAction(),!1;var e={event:"hangUp",extension:this.extension};this.SendJson(e)},smsSend:function(e){if(this.caseDisable)return this.preventAction(),!1;e.phone?(this.phoneInfo=e,this.smsVisible=!0):(this.$alert("请选择联系人进行操作","提示",{confirmButtonText:"确定",callback:function(e){}}),this.smsVisible=!1)},smsClose:function(){this.smsVisible=!1},smsSend2:function(e){if(this.caseDisable)return this.preventAction(),!1;this.phoneInfo2=e,this.smsVisible2=!0},smsClose2:function(){this.smsVisible2=!1},changePerson:function(e){var t=!0,a=!1,i=void 0;try{for(var o,n=d()(new s.a(this.caseObjArr.map(function(e,t){return[t,e]})));!(t=(o=n.next()).done);t=!0){var l=o.value,c=r()(l,2),m=c[0],u=c[1];if(u[0]==e){this.caseCode=u[0],this.caseId=u[1],this.caseManageId=u[2],this.caseIndex=m;break}}}catch(e){a=!0,i=e}finally{try{!t&&n.return&&n.return()}finally{if(a)throw i}}this.caseObjArr.length-this.caseIndex==1?this.isLast=!0:this.isLast=!1,this.assignData=p()({},this.callData),this.getList(),this.getLabel(),this.$refs.collectRecord.getList(this.caseCode,this.caseId,this.caseManageId),this.$refs.information.clearPhone()},submit:function(e){var t=this;if(this.caseDisable)return this.preventAction(),!1;var a=!1,i=document.getElementsByClassName("el-form-item__error");if(this.$refs.phoneStatus.validate(function(e){a=!e}),this.$refs.phoneLabel.validate(function(e){a=!e}),this.$refs.repaymentIntention.validate(function(e){a=!e}),this.$refs.contactAttitude.validate(function(e){a=!e}),this.$refs.collectionRemark.validate(function(e){a=!e}),i.length||a)return this.$message.error("表单验证错误"),!1;this.callData.promiseAmount?this.callData.promiseAmount=parseFloat(this.callData.promiseAmount):(delete this.callData.promiseAmount,delete this.callData.promiseRepaymentTime),this.callData.reliefAmount?this.callData.reliefAmount=parseFloat(this.callData.reliefAmount):delete this.callData.reliefAmount,this.$axios.post("/api/assignee/collectionMark/saveCollectionMark",this.callData).then(function(a){if(0!=a.data.code)return t.$util.failCallback(a.data,t),!1;t.$message({type:"success",message:"保存成功"});var i=t.callData.caseCode,o=t.callData.caseId,n=t.callData.caseManageId;if(t.callData=t.assignData,t.callData.caseLabel="",e){t.caseIndex+=1;var s=t.caseObjArr[t.caseIndex];t.caseCode=s[0],t.caseId=s[1],t.caseManageId=s[2],t.getList(),t.getLabel(),t.$refs.information.clearPhone()}else t.fixShow="hide",t.arrowBtn="el-icon-d-arrow-left fixedBtn",t.bg="bgHide",t.paddingBtm="content-hide",t.callData.caseCode=i,t.callData.caseId=o,t.callData.caseManageId=n;t.$refs.collectRecord.getList(t.caseCode,t.caseId,t.caseManageId),t.$refs.phoneStatus.resetFields(),t.$refs.phoneLabel.resetFields(),t.$refs.repaymentIntention.resetFields(),t.$refs.contactAttitude.resetFields(),t.$refs.collectionRemark.resetFields(),t.$refs.collectionTips.resetFields(),t.callData.promiseAmount&&t.$refs.promise.resetFields(),t.promiseInfoShow=!1,t.callData.addContact=[],a.data.data&&a.data.data.has&&1==a.data.data.has&&(t.$store.dispatch("timerChange",{interval:a.data.data.timeForRemind,_this:t}),t.$store.dispatch("newNotesChange",a.data.data.info)),t.callData.callPhone=t.userInfoBean.borrowerPhone,t.callData.callName=t.userInfoBean.borrowerName,t.callData.contactRelation="本人"}).catch(function(e){})},next:function(){if(2==this.caseObjArr.length-this.caseIndex&&(this.isLast="disabled"),this.caseIndex>this.caseObjArr.length-1)return!1;this.submit("show")},closeFix:function(){"hide"==this.fixShow?(this.fixShow="visible",this.arrowBtn="el-icon-d-arrow-right fixedBtn",this.bg="bgShow",this.paddingBtm="content-show"):(this.fixShow="hide",this.arrowBtn="el-icon-d-arrow-left fixedBtn",this.bg="bgHide",this.paddingBtm="content-hide")},deleteConcat:function(e){this.callData.addContact.splice(e,1)},onCall:function(){if(this.caseDisable)return this.preventAction(),!1;this.phoneType=0,this.getEncodePhone()},preventAction:function(){this.$message.warning("案件已结案，不能再进行操作")},getEncodePhone:function(){var e=this,t="";t=this.phoneType?{phone:this.callData.callPhone,phoneType:this.phoneType,relevancyId:this.callData.strongId,relevancySource:this.callData.source}:{phone:this.callData.callPhone,phoneType:this.phoneType},this.$axios.post("/api/assignee/call/getEncodePhone",t).then(function(t){0==t.data.code?(e.encodePhone=t.data.data,e.getLoginInfo()):e.$util.failCallback(t.data,e)}).catch(function(e){})},getLoginInfo:function(){var e={event:"onclickCall",extension:window.localStorage.getItem("extension"),strPhone:this.encodePhone};this.SendJson(e)},SendJson:function(e){var t=o()(e);window.frames[0].postMessage(t,"*")},intentionChange:function(e){var t=this;e.indexOf("承诺还款")>-1?this.$axios.post("/api/assignee/collectionApply/queryIsApplyDepreciation",{caseId:this.caseId}).then(function(e){0==e.data.code?e.data.data.apply?(t.$message.error("已存在减免审批"),t.promiseInfoShow=!1):t.promiseInfoShow=!0:t.$util.failCallback(e.data,t)}).catch(function(e){}):(this.promiseInfoShow=!1,this.callData.promiseAmount="",this.callData.promiseRepaymentTime="",this.callData.reliefAmount="")},addConcatInfo:function(){if(this.caseDisable)return this.preventAction(),!1;var e=p()({},this.addContact);this.callData.addContact.push(e)},changeTab:function(e){this.tabIndex=e.index,this.componentIndex=e.index,e.method&&e.method()},phoneStatusChange:function(e){"无效"==e?(this.callData.phoneLabel="设限",this.callData.repaymentIntention=["未知"],this.callData.contactAttitude=["未知"],this.callData.collectionRemark="未知"):this.callData.collectionRemark=""},complainClose:function(){this.complainVisible=!1},addComplain:function(){if(this.caseDisable)return this.preventAction(),!1;this.complainVisible=!0},addnote:function(){if(this.caseDisable)return this.preventAction(),!1;this.noteVisible=!0},noteClose:function(){this.noteVisible=!1},getapplyderateList:function(){var e=this;this.$axios.post("/api/assignee/collectionManage/queryDepreciationApply",{caseCode:this.caseCode,caseId:this.caseId,caseManageId:this.caseManageId}).then(function(t){0==t.data.code?e.applyderateTb=t.data.data:e.$util.failCallback(t.data,e)}).catch(function(e){})},getjusticeList:function(){var e=this;this.$axios.post("/api/assignee/collectionManage/queryJusticeApply",{caseCode:this.caseCode,caseId:this.caseId,caseManageId:this.caseManageId}).then(function(t){0==t.data.code?e.justiceTb=t.data.data:e.$util.failCallback(t.data,e)}).catch(function(e){})},getpoliceList:function(){var e=this;this.$axios.post("/api/assignee/collectionManage/queryPoliceApply",{caseCode:this.caseCode,caseId:this.caseId,caseManageId:this.caseManageId}).then(function(t){0==t.data.code?e.policeTb=t.data.data:e.$util.failCallback(t.data,e)}).catch(function(e){})},getaccountCheckingList:function(){var e=this;this.$axios.post("/api/assignee/collectionManage/queryCheckBillApply",{caseCode:this.caseCode,caseId:this.caseId,caseManageId:this.caseManageId}).then(function(t){0==t.data.code?e.accountCheckingTb=t.data.data:e.$util.failCallback(t.data,e)}).catch(function(e){})},getaccountLookingList:function(){var e=this;this.$axios.post("/api/assignee/collectionManage/queryLookBillApply",{caseCode:this.caseCode,caseId:this.caseId,caseManageId:this.caseManageId}).then(function(t){0==t.data.code?e.accountLookingTb=t.data.data:e.$util.failCallback(t.data,e)}).catch(function(e){})},getoutvisitList:function(){var e=this;this.$axios.post("/api/assignee/collectionManage/queryVisitApply",{caseCode:this.caseCode,caseId:this.caseId,caseManageId:this.caseManageId}).then(function(t){0==t.data.code?e.outvisitTb=t.data.data:e.$util.failCallback(t.data,e)}).catch(function(e){})},qqSend:function(e){var t=this;return this.caseDisable?(this.preventAction(),!1):!(!e||!e.code)&&(this.qqCode=e.code,void this.$axios.post("/api/assignee/sms/qq/checkIsFriend",{qqCode:e.code,phone:this.userInfoBean.borrowerPhone}).then(function(e){0==e.data.code?(t.isQQfriend=e.data.data.isFriend,t.myQQAccount=e.data.data.account,t.myQQAddAccount=e.data.data.addAccount,t.isQQfriend?(t.qqAddVisible=!1,t.qqSendVisible=!0):(t.qqAddVisible=!0,t.qqSendVisible=!1)):t.$util.failCallback(e.data,t)}).catch(function(e){}))},addQQclose:function(){this.qqAddVisible=!1},sendQQclose:function(){this.qqSendVisible=!1},wechatSend:function(e){var t=this;return this.caseDisable?(this.preventAction(),!1):!(!e||!e.code)&&(this.wechatCode=e.code,void this.$axios.post("/api/assignee/sms/weChat/checkIsFriend",{phone:this.onLineData.phone,qqCode:this.userInfoBean.qqCode,wechatCode:e.code}).then(function(e){0==e.data.code?(t.isWechatfriend=e.data.data.isFriend,t.mywechatAccount=e.data.data.account,t.mywechatAddAccount=e.data.data.addAccount,t.isWechatfriend?(t.wechatAddVisible=!1,t.wechatSendVisible=!0):(t.wechatAddVisible=!0,t.wechatSendVisible=!1)):t.$util.failCallback(e.data,t)}).catch(function(e){}))},addwechatclose:function(){this.wechatAddVisible=!1},sendwechatclose:function(){this.wechatSendVisible=!1},weChatLink:function(){this.addweChatShow=!0},getLabel:function(){var e=this;this.$axios.post("/api/assignee/collectionManage/queryLabels",{caseManageId:this.caseManageId}).then(function(t){0==t.data.code?e.labels=t.data.data:e.$util.failCallback(t.data,e)}).catch(function(e){})},chooseConcat:function(e){this.callData=this.assignData,this.callData.caseId=this.caseId,this.callData.caseCode=this.caseCode,this.callData.caseManageId=this.caseManageId,this.callData.callName=e.name,this.callData.callPhone=e.phone,this.callData.contactRelation=e.relation,this.isStop=e.isStop,this.disabledBtn=e.isStop,e.phone&&this.getPhoneAddress(e.phone)},inputPhone:function(e){if(e&&this.getPhoneAddress(e),this.repaireDisBtn=!1,this.fixPhone==e&&e)this.callData.callName=this.fixName;else{var t=!0,a=!1,i=void 0;try{for(var o,n=d()(this.userInfoBean.contactPhone);!(t=(o=n.next()).done);t=!0){var s=o.value;if(s.phone==e)return void(this.callData.callName=s.name)}}catch(e){a=!0,i=e}finally{try{!t&&n.return&&n.return()}finally{if(a)throw i}}this.callData.callName="未知",this.callData.contactRelation="其它"}},closeDialog:function(){this.addContactsVisible=!1}}}),Pe={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:e.paddingBtm,attrs:{"element-loading-text":"拼命加载中"}},[i("div",{staticClass:"content-body"},[i("div",{staticClass:"bd-top"},[i("div",{staticClass:"md clearfix"},[e._m(0),e._v(" "),i("div",{staticClass:"md-right"},[i("el-radio-group",{attrs:{size:"small"},on:{change:e.changePerson},model:{value:e.mapCaseCode,callback:function(t){e.mapCaseCode=t},expression:"mapCaseCode"}},e._l(e.dropdownData,function(t){return i("el-radio-button",{key:t.id,staticClass:"personRadioBtn",attrs:{label:t.caseCode}},[i("a",{attrs:{title:t.name}},[e._v(e._s(t.name))])])}))],1)])]),e._v(" "),i("div",{staticClass:"bd-main"},[i("div",{staticClass:"case-detail"},[i("el-row",[i("img",{staticClass:"borrower-avatar",attrs:{src:a("P/wp"),alt:"",width:"80px",height:"80px"}}),e._v(" "),i("div",{staticClass:"borrower-tags"},[e.labels.self?e._l(e.labels.self,function(t){return i("el-badge",{key:t.id,staticClass:"item",attrs:{value:"本人",round:""}},[i("el-tag",{attrs:{size:"mini"}},[e._v(e._s(t))])],1)}):e._e(),e._v(" "),e.labels.direct?e._l(e.labels.direct,function(t){return i("el-badge",{key:t.id,staticClass:"item",attrs:{value:"直系",round:""}},[i("el-tag",{attrs:{size:"mini"}},[e._v(e._s(t))])],1)}):e._e(),e._v(" "),e.labels.others?e._l(e.labels.others,function(t){return i("el-badge",{key:t.id,staticClass:"item",attrs:{value:"其它",round:""}},[i("el-tag",{attrs:{size:"mini"}},[e._v(e._s(t))])],1)}):e._e()],2)])],1),e._v(" "),i("information",{ref:"information",attrs:{debtInfoBeans:e.debtInfoBeans,caseInfoBeans:e.caseInfoBeans,userInfoBean:e.userInfoBean,moreInfo:e.moreInfo,disabledBtn:e.disabledBtn,qqUniqId:e.qqUniqId,wechatUniqId:e.wechatUniqId,phoneUniqId:e.phoneUniqId},on:{toMoreInfo:e.toMoreInfo,callPhone:e.callPhone,smsSend:e.smsSend,qqSend:e.qqSend,wechatSend:e.wechatSend,chooseConcat:e.chooseConcat}})],1)]),e._v(" "),i("div",{staticClass:"content-body"},[i("div",{staticClass:"bd-top",staticStyle:{border:"none"}},[i("div",{staticClass:"md clearfix"},[i("div",{},[i("h5",[e._v("更多操作")]),e._v(" "),i("my-tabs",{staticStyle:{"margin-bottom":"0"},attrs:{tabList:e.tabList,tabIndex:e.tabIndex},on:{changeTab:e.changeTab}},[i("keep-alive")],1)],1),e._v(" "),i("div",{staticClass:"md-right"})])]),e._v(" "),i("div",{staticClass:"bd-main"},[0==e.componentIndex?i("collectionRecord",{ref:"collectRecord",attrs:{caseCode:e.caseCode,caseManageId:e.caseManageId,caseId:e.caseId,caseDisable:e.caseDisable}}):e._e(),e._v(" "),1==e.componentIndex?i("repaireConnection",{attrs:{caseCode:e.caseCode,caseManageId:e.caseManageId,caseId:e.caseId,caseDisable:e.caseDisable},on:{smsSend:e.smsSend2,repiareCall:e.repiareCall}}):e._e(),e._v(" "),2==e.componentIndex?i("outVisit",{attrs:{caseCode:e.caseCode,caseManageId:e.caseManageId,caseId:e.caseId,caseDisable:e.caseDisable}}):e._e(),e._v(" "),3==e.componentIndex?i("applyDerate",{attrs:{applyderateTb:e.applyderateTb,caseCode:e.caseCode,caseManageId:e.caseManageId,caseId:e.caseId,caseDisable:e.caseDisable}}):e._e(),e._v(" "),4==e.componentIndex?i("justice",{attrs:{justiceTb:e.justiceTb,juscticeParam:e.params,caseDisable:e.caseDisable},on:{getjusticeList:e.getjusticeList}}):e._e(),e._v(" "),5==e.componentIndex?i("police",{attrs:{policeTb:e.policeTb,policeParam:e.params,caseDisable:e.caseDisable},on:{getpoliceList:e.getpoliceList}}):e._e(),e._v(" "),6==e.componentIndex?i("accountChecking",{attrs:{accountCheckingTb:e.accountCheckingTb,accountCheckingParam:e.params,caseDisable:e.caseDisable},on:{getaccountCheckingList:e.getaccountCheckingList}}):e._e(),e._v(" "),7==e.componentIndex?i("accountLooking",{attrs:{accountLookingTb:e.accountLookingTb,accountLookingParam:e.params,caseDisable:e.caseDisable},on:{getaccountLookingList:e.getaccountLookingList}}):e._e()],1),e._v(" "),e.wechatAddVisible?i("add-weChat",{attrs:{wechatAddVisible:e.wechatAddVisible,onLineData:e.onLineData,wechatCode:e.wechatCode,mywechatAccount:this.mywechatAccount},on:{addwechatclose:e.addwechatclose}}):e._e(),e._v(" "),e.wechatSendVisible?i("send-weChat",{attrs:{wechatSendVisible:e.wechatSendVisible,onLineData:e.onLineData,wechatCode:e.wechatCode,mywechatAccount:this.mywechatAccount,mywechatAddAccount:e.mywechatAddAccount},on:{sendwechatclose:e.sendwechatclose}}):e._e(),e._v(" "),e.qqAddVisible?i("qqAdd",{attrs:{qqAddVisible:e.qqAddVisible,onLineData:e.onLineData,qqCode:e.qqCode,myQQAccount:this.myQQAccount},on:{addQQclose:e.addQQclose}}):e._e(),e._v(" "),e.qqSendVisible?i("qqSend",{attrs:{qqSendVisible:e.qqSendVisible,onLineData:e.onLineData,qqCode:e.qqCode,myQQAccount:this.myQQAccount,myQQAddAccount:e.myQQAddAccount},on:{sendQQclose:e.sendQQclose}}):e._e(),e._v(" "),e.smsVisible?i("sms",{attrs:{smsVisible:e.smsVisible,onLineData:e.onLineData,phoneInfo:e.phoneInfo},on:{smsClose:e.smsClose}}):e._e(),e._v(" "),e.smsVisible2?i("sms2",{ref:"sms2",attrs:{smsVisible:e.smsVisible2,onLineData:e.onLineData,phoneInfo:e.phoneInfo2},on:{smsClose:e.smsClose2}}):e._e()],1),e._v(" "),i("div",{staticClass:"fixed-area"},[i("h6",{class:e.bg},[i("el-button",{class:e.arrowBtn,attrs:{size:"mini"},nativeOn:{click:function(t){return t.preventDefault(),e.closeFix(t)}}})],1),e._v(" "),i("div",{class:e.fixShow},[i("div",{staticClass:"infoLeft"},[i("el-form",{ref:"phoneStatus",staticClass:"condition-form",attrs:{inline:"","label-position":"right",model:e.callData}},[i("el-form-item",{attrs:{label:"联系人：","label-width":"80px"}},[i("span",[e._v(e._s(e.callData.callName))])]),e._v(" "),i("el-form-item",{attrs:{label:"电话："}},[i("span",[e._v(e._s(e.callData.callPhone))])]),e._v(" "),i("el-form-item",[i("span",[e._v(e._s(e.phoneCompany+" ")+e._s(e.phoneCity))])]),e._v(" "),i("el-form-item",{attrs:{label:"有效性：",prop:"phoneStatus",rules:[{required:!0,message:"有效性为必选项",trigger:"change"}]}},[i("el-radio-group",{attrs:{size:"mini"},on:{change:e.phoneStatusChange},model:{value:e.callData.phoneStatus,callback:function(t){e.$set(e.callData,"phoneStatus",t)},expression:"callData.phoneStatus"}},[i("el-radio-button",{attrs:{label:"有效"}}),e._v(" "),i("el-radio-button",{attrs:{label:"无效"}})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"呼叫电话：",prop:"callPhone",error:e.stopError}},[i("el-input",{attrs:{maxlength:11,placeholder:"请输入拨打号码",size:"mini",disabled:e.repaireDisBtn},on:{change:e.inputPhone},model:{value:e.callData.callPhone,callback:function(t){e.$set(e.callData,"callPhone",t)},expression:"callData.callPhone"}}),e._v(" "),e.isStop?i("div",{staticClass:"el-form-item__error"},[e._v("\n              此号码已停催\n            ")]):e._e()],1),e._v(" "),i("el-form-item",[i("el-button",{ref:"phone",staticClass:"el-icon-phone-outline mg-10",attrs:{size:"mini",disabled:e.disabledBtn,type:"primary"},on:{click:e.onCall}},[e._v("\n            "+e._s(e.phoneBtnText))]),e._v(" "),i("el-button",{staticClass:"el-icon-phone",staticStyle:{color:"#f00"},attrs:{size:"mini",disabled:e.cancelBtn},on:{click:e.cancelCall}},[e._v(" 挂断")])],1)],1),e._v(" "),i("el-form",{ref:"phoneLabel",staticClass:"condition-form",attrs:{inline:"","label-position":"right","label-width":"80px",model:e.callData}},[i("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"电话标注：",prop:"phoneLabel",rules:[{required:!0,message:"电话标注必选项",trigger:"change"}]}},[i("el-radio-group",{attrs:{size:"mini"},model:{value:e.callData.phoneLabel,callback:function(t){e.$set(e.callData,"phoneLabel",t)},expression:"callData.phoneLabel"}},[i("el-radio-button",{attrs:{label:"正常接听"}}),e._v(" "),i("el-radio-button",{attrs:{label:"正在通话"}}),e._v(" "),i("el-radio-button",{attrs:{label:"无人接听"}}),e._v(" "),i("el-radio-button",{attrs:{label:"拒绝接听"}}),e._v(" "),i("el-radio-button",{attrs:{label:"挂断"}}),e._v(" "),i("el-radio-button",{attrs:{label:"关机"}}),e._v(" "),i("el-radio-button",{attrs:{label:"不在服务区"}}),e._v(" "),i("el-radio-button",{attrs:{label:"停机空号"}}),e._v(" "),i("el-radio-button",{attrs:{label:"忙音"}}),e._v(" "),i("el-radio-button",{attrs:{label:"设限"}})],1)],1)],1),e._v(" "),i("el-form",{ref:"repaymentIntention",staticClass:" condition-form",attrs:{inline:"","label-position":"right","label-width":"80px",model:e.callData}},[i("el-form-item",{staticClass:"repayTension",staticStyle:{width:"100%"},attrs:{label:"还款意愿：",prop:"repaymentIntention",rules:[{required:!0,message:"还款意愿为必选项",trigger:"change"}]}},[i("el-checkbox-group",{attrs:{size:"mini"},on:{change:e.intentionChange},model:{value:e.callData.repaymentIntention,callback:function(t){e.$set(e.callData,"repaymentIntention",t)},expression:"callData.repaymentIntention"}},[i("el-checkbox-button",{attrs:{label:"承诺还款"}}),e._v(" "),i("el-checkbox-button",{attrs:{label:"有还款意愿"}}),e._v(" "),i("el-checkbox-button",{attrs:{label:"无意还款"}}),e._v(" "),i("el-checkbox-button",{attrs:{label:"无能力还款"}}),e._v(" "),i("el-checkbox-button",{attrs:{label:"部分还款"}}),e._v(" "),i("el-checkbox-button",{attrs:{label:"已还款"}}),e._v(" "),i("el-checkbox-button",{attrs:{label:"愿意代偿"}}),e._v(" "),i("el-checkbox-button",{attrs:{label:"金额有争议"}}),e._v(" "),i("el-checkbox-button",{attrs:{label:"要求减免"}}),e._v(" "),i("el-checkbox-button",{attrs:{label:"否认借款"}}),e._v(" "),i("el-checkbox-button",{attrs:{label:"承诺转告"}}),e._v(" "),i("el-checkbox-button",{attrs:{label:"不认识"}}),e._v(" "),i("el-checkbox-button",{attrs:{label:"打错了"}}),e._v(" "),i("el-checkbox-button",{attrs:{label:"未知"}})],1)],1)],1),e._v(" "),i("el-form",{ref:"contactAttitude",staticClass:"condition-form",attrs:{inline:"","label-position":"right","label-width":"80px",model:e.callData}},[i("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"态度：",prop:"contactAttitude",rules:[{required:!0,message:"态度为必选项",trigger:"change"}]}},[i("el-checkbox-group",{attrs:{size:"mini"},model:{value:e.callData.contactAttitude,callback:function(t){e.$set(e.callData,"contactAttitude",t)},expression:"callData.contactAttitude"}},[i("el-checkbox-button",{key:"态度好",attrs:{label:"态度好"}},[e._v("态度好")]),e._v(" "),i("el-checkbox-button",{key:"态度差",attrs:{label:"态度差"}},[e._v("态度差")]),e._v(" "),i("el-checkbox-button",{key:"骂人",attrs:{label:"骂人"}},[e._v("骂人")]),e._v(" "),i("el-checkbox-button",{key:"敷衍",attrs:{label:"敷衍"}},[e._v("敷衍")]),e._v(" "),i("el-checkbox-button",{key:"未知",attrs:{label:"未知"}},[e._v("未知")])],1)],1)],1),e._v(" "),i("el-form",{ref:"caseLabel",staticClass:"condition-form",attrs:{inline:"","label-position":"right","label-width":"80px",model:e.callData}},[i("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"案件标签："}},[i("el-select",{attrs:{size:"mini"},model:{value:e.callData.caseLabel,callback:function(t){e.$set(e.callData,"caseLabel",t)},expression:"callData.caseLabel"}},e._l(this.caseLabels,function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.code}})}))],1)],1)],1),e._v(" "),i("div",{staticClass:"infoRight"},[i("el-form",{ref:"collectionRemark",staticClass:"condition-form",attrs:{inline:"","label-position":"right",model:e.callData}},[i("el-form-item",{staticStyle:{width:"100%"},attrs:{prop:"collectionRemark",rules:[{required:!0,message:"催记详情为必填项",trigger:"blur"}]}},[i("el-input",{attrs:{type:"textarea",placeholder:"添加更多催记详情",rows:10},model:{value:e.callData.collectionRemark,callback:function(t){e.$set(e.callData,"collectionRemark",t)},expression:"callData.collectionRemark"}})],1)],1)],1),e._v(" "),i("div",[e.promiseInfoShow?i("div",{staticClass:"promiseInfo"},[i("el-form",{ref:"promise",staticClass:"condition-form",attrs:{inline:"","label-position":"right","label-width":"120",model:e.callData,rules:e.rules}},[i("el-form-item",{staticStyle:{width:"auto"},attrs:{label:"还款承诺："}}),e._v(" "),i("el-form-item",{ref:"promiseRepaymentTime",attrs:{label:"承诺还款时间：",prop:"promiseRepaymentTime"}},[i("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",format:"yyyy-MM-dd HH:mm",type:"datetime",size:"mini",clearable:""},on:{change:e.getTime},model:{value:e.callData.promiseRepaymentTime,callback:function(t){e.$set(e.callData,"promiseRepaymentTime",t)},expression:"callData.promiseRepaymentTime"}})],1),e._v(" "),i("el-form-item",{ref:"promiseAmount",attrs:{label:"承诺还款余额：",prop:"promiseAmount"}},[i("el-input",{attrs:{size:"mini",type:"number",clearable:""},model:{value:e.callData.promiseAmount,callback:function(t){e.$set(e.callData,"promiseAmount",t)},expression:"callData.promiseAmount"}})],1),e._v(" "),i("el-form-item",{ref:"reliefAmount",attrs:{label:"申请减免金额：",prop:"reliefAmount"}},[i("el-input",{attrs:{size:"mini",type:"number",clearable:""},model:{value:e.callData.reliefAmount,callback:function(t){e.$set(e.callData,"reliefAmount",t)},expression:"callData.reliefAmount"}})],1)],1)],1):e._e(),e._v(" "),i("div",{staticClass:"addArea"},e._l(e.callData.addContact,function(t,a){return i("el-form",{key:a,ref:"addPersonInfo",refInFor:!0,staticClass:"condition-form concatInfo",attrs:{inline:"","label-position":"right","label-width":"120",model:t}},[i("el-form-item",{attrs:{label:"关系：",prop:"contactRelation",rules:[{required:!0,message:"请选择",trigger:"blur,change"}]}},[i("el-radio-group",{attrs:{size:"mini",prop:"contactRelation",rules:[{required:!0,message:"关系为必选",trigger:"change"}]},model:{value:t.contactRelation,callback:function(a){e.$set(t,"contactRelation",a)},expression:"addPersonInfo.contactRelation"}},[i("el-radio-button",{attrs:{label:"本人"}}),e._v(" "),i("el-radio-button",{attrs:{label:"直系亲属"}}),e._v(" "),i("el-radio-button",{attrs:{label:"其他"}})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"姓名：",prop:"contactName",rules:[{required:!0,message:"请输入姓名",trigger:"blur,change"},{pattern:/^[\u4e00-\u9fa5a-zA-Z]{2,10}$/,message:"1至10位汉字或字母",trigger:"blur,change"}]}},[i("el-input",{attrs:{size:"mini",placeholder:"请输入",clearable:""},model:{value:t.contactName,callback:function(a){e.$set(t,"contactName",a)},expression:"addPersonInfo.contactName"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"手机号：",prop:"contactTel",rules:[{required:!0,message:"必填项",trigger:"blur,change"},{pattern:/^(13|14|15|18|17)[0-9]{9}$/,message:"手机格式错误",trigger:"blur,change"}]}},[i("el-input",{attrs:{size:"mini",placeholder:"请输入",clearable:""},model:{value:t.contactTel,callback:function(a){e.$set(t,"contactTel",a)},expression:"addPersonInfo.contactTel"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"微信：",prop:"contactWechatCode"}},[i("el-input",{attrs:{size:"mini",placeholder:"请输入",maxlength:40,clearable:""},model:{value:t.contactWechatCode,callback:function(a){e.$set(t,"contactWechatCode",a)},expression:"addPersonInfo.contactWechatCode"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"QQ：",prop:"contactQqCode",rules:[{pattern:/^[1-9][0-9]{4,14}$/,message:"QQ格式错误",trigger:"blur,change"}]}},[i("el-input",{attrs:{size:"mini",placeholder:"请输入",clearable:""},model:{value:t.contactQqCode,callback:function(a){e.$set(t,"contactQqCode",a)},expression:"addPersonInfo.contactQqCode"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"邮箱：",prop:"email",rules:[{pattern:/^[a-zA-Z0-9_.-]+@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*\.[a-zA-Z0-9]{2,6}$/,message:"邮箱格式错误",trigger:"blur"}]}},[i("el-input",{attrs:{size:"mini",placeholder:"请输入",maxlength:40,clearable:""},model:{value:t.email,callback:function(a){e.$set(t,"email",a)},expression:"addPersonInfo.email"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"身份证：",prop:"contactIdnumber",rules:[{pattern:/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/,message:"身份证格式错误",trigger:"blur,change"}]}},[i("el-input",{attrs:{size:"mini",placeholder:"请输入",clearable:""},model:{value:t.contactIdnumber,callback:function(a){e.$set(t,"contactIdnumber",a)},expression:"addPersonInfo.contactIdnumber"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"常用地址："}},[i("el-input",{attrs:{size:"mini",placeholder:"请输入",maxlength:40,clearable:""},model:{value:t.usualAddress,callback:function(a){e.$set(t,"usualAddress",a)},expression:"addPersonInfo.usualAddress"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"公司："}},[i("el-input",{attrs:{size:"mini",placeholder:"请输入",maxlength:40,clearable:""},model:{value:t.companyName,callback:function(a){e.$set(t,"companyName",a)},expression:"addPersonInfo.companyName"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"公司地址："}},[i("el-input",{attrs:{size:"mini",placeholder:"请输入",maxlength:40,clearable:""},model:{value:t.companyAddress,callback:function(a){e.$set(t,"companyAddress",a)},expression:"addPersonInfo.companyAddress"}})],1),e._v(" "),i("el-form-item",[i("a",{staticClass:"el-icon-delete mg-10",attrs:{href:"javascript:void(0);"},on:{click:function(t){e.deleteConcat(a)}}})])],1)})),e._v(" "),i("el-form",{staticClass:"form-detail condition-form addBtn",attrs:{inline:"","label-position":"right"}},[i("el-form-item",{staticStyle:{width:"40%"},attrs:{label:"添加联系人："}},[i("el-button",{staticClass:"el-icon-plus",attrs:{size:"mini",type:"success"},nativeOn:{click:function(t){return t.preventDefault(),e.addConcatInfo(t)}}},[e._v("添加联系人")]),e._v(" "),i("span",[e._v("    添加后系统会帮您找到更多信息")])],1),e._v(" "),i("el-form-item",{staticClass:"btnGroup"},[i("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(t){return t.preventDefault(),e.addComplain(t)}}},[e._v("投诉预警")]),e._v(" "),i("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(t){return t.preventDefault(),e.addnote(t)}}},[e._v("添加备忘")]),e._v(" "),i("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(t){t.preventDefault(),e.submit(!1)}}},[e._v("保存")]),e._v(" "),e.personLength>1?i("el-button",{attrs:{type:"primary",size:"mini",disabled:e.isLast},nativeOn:{click:function(t){return t.preventDefault(),e.next(t)}}},[e._v("下一个")]):e._e()],1)],1)],1)])]),e._v(" "),e.complainVisible?i("complain",{attrs:{complainVisible:e.complainVisible,onLineData:e.onLineData},on:{complainClose:e.complainClose}}):e._e(),e._v(" "),i("note",{attrs:{noteVisible:e.noteVisible,noteParam:e.params},on:{noteClose:e.noteClose}}),e._v(" "),i("addContacts",{attrs:{caseCode:e.caseCode,addContactsVisible:e.addContactsVisible},on:{closeDialog:e.closeDialog}})],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"md-left"},[t("h5",[this._v("案件详情")])])}]};var Qe=a("vSla")(Me,Pe,!1,function(e){a("1AiY")},"data-v-ce11aff6",null);t.default=Qe.exports},"k/7E":function(e,t,a){var i=a("WwGG"),o=a("kDTw"),n=a("V2W7"),s=a("93K8"),l=a("CFGK"),r=a("YW8S"),c={},d={};(t=e.exports=function(e,t,a,m,p){var u,f,h,b,v=p?function(){return e}:r(e),g=i(a,m,t?2:1),y=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(n(v)){for(u=l(e.length);u>y;y++)if((b=t?g(s(f=e[y])[0],f[1]):g(e[y]))===c||b===d)return b}else for(h=v.call(e);!(f=h.next()).done;)if((b=o(h,g,f.value,t))===c||b===d)return b}).BREAK=c,t.RETURN=d},kDTw:function(e,t,a){var i=a("93K8");e.exports=function(e,t,a,o){try{return o?t(i(a)[0],a[1]):t(a)}catch(t){var n=e.return;throw void 0!==n&&i(n.call(e)),t}}},lxIA:function(e,t){},mQtc:function(e,t){},mk6i:function(e,t){},nUkB:function(e,t){},rhx1:function(e,t){},stem:function(e,t,a){a("SMmX")("Map")},t8DS:function(e,t){e.exports=function(e,t,a,i){if(!(e instanceof t)||void 0!==i&&i in e)throw TypeError(a+": incorrect invocation!");return e}},uaKe:function(e,t){},uhis:function(e,t,a){"use strict";var i=a("MxwP"),o=a("27tL");e.exports=a("4HpA")("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=i.getEntry(o(this,"Map"),e);return t&&t.v},set:function(e,t){return i.def(o(this,"Map"),0===e?0:e,t)}},i,!0)},vhYp:function(e,t,a){var i=a("k/7E");e.exports=function(e,t){var a=[];return i(e,!1,a.push,a,t),a}},vyS5:function(e,t,a){"use strict";var i=a("FITv");e.exports=function(e){i(i.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},"w/oZ":function(e,t){},w3WQ:function(e,t){},z0b9:function(e,t){},zgf7:function(e,t){}});