webpackJsonp([45],{R7NZ:function(e,t){},"kv/f":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o("aA9S"),a=o.n(i),n=o("4OB+"),r=(o("6iV/"),o("9rMa"),[{key:"caseCode",label:"案件编号",width:"110",type:"0",id:"1"},{key:"batchCode",label:"批次号",width:"",type:"0",id:"2"},{key:"loanInstitution",label:"贷款机构",width:"auto",type:"0",id:"8"},{key:"repayPerson",label:"还款人",width:"auto",type:"0",id:"3"},{key:"repayTime",label:"还款时间",width:"auto",type:"0",id:"4",sortable:"custom"},{key:"repayMoney",label:"还款金额",width:"auto",type:"0",id:"5",align:"right",sortable:"custom"},{key:"reduceMoney",label:"减免金额",width:"auto",type:"0",id:"6",align:"right",sortable:"custom"},{key:"payWay",label:"还款方式",width:"auto",type:"0",id:"7"}]),c={components:{myTable:n.a},data:function(){var e=this;return{dropdownData:{},conditionForm:{caseId:"",reduceMoneyMax:"",repayMoneyMax:"",repayTimeMax:"",payWay:"",repayPerson:"",reduceMoneyMin:"",repayMoneyMin:"",repayTimeMin:"",currentPage:1,pageSize:15,loanInstitution:""},searchForm:{},hasSearch:!1,loading:!0,total:0,tb:{fields:r,data:[],selectionBtn:!1,height:460},rules:{batchCode:[this.$util.formRule.batchCode],caseCode:[this.$util.formRule.caseCode],repayMoneyMin:[{validator:function(t,o,i){o?/^[1-9][0-9]{0,9}([.][0-9]{0,2})?$/.test(o)?e.conditionForm.repayMoneyMax&&e.conditionForm.repayMoneyMax-0<e.conditionForm.repayMoneyMin-0?i(new Error("最小值不能大于最大值")):(e.$refs.repayMoneyMax.clearValidate(),i()):i(new Error("最多10位整数和2位小数")):i()},trigger:"blur",type:"number"}],repayMoneyMax:[{validator:function(t,o,i){o?/^[1-9][0-9]{0,9}([.][0-9]{0,2})?$/.test(o)?e.conditionForm.repayMoneyMin&&e.conditionForm.repayMoneyMax-0<e.conditionForm.repayMoneyMin-0?i(new Error("最小值不能大于最大值")):(e.$refs.repayMoneyMin.clearValidate(),i()):i(new Error("最多10位整数和2位小数")):i()},trigger:"blur",type:"number"}],reduceMoneyMin:[{validator:function(t,o,i){o?/^[1-9][0-9]{0,9}([.][0-9]{0,2})?$/.test(o)?e.conditionForm.reduceMoneyMax&&e.conditionForm.reduceMoneyMax-0<e.conditionForm.reduceMoneyMin-0?i(new Error("最小值不能大于最大值")):(e.$refs.reduceMoneyMax.clearValidate(),i()):i(new Error("最多10位整数和2位小数")):i()},trigger:"blur",type:"number"}],reduceMoneyMax:[{validator:function(t,o,i){o?/^[1-9][0-9]{0,9}([.][0-9]{0,2})?$/.test(o)?e.conditionForm.reduceMoneyMin&&e.conditionForm.reduceMoneyMax-0<e.conditionForm.reduceMoneyMin-0?i(new Error("最小值不能大于最大值")):(e.$refs.reduceMoneyMin.clearValidate(),i()):i(new Error("最多10位整数和2位小数")):i()},trigger:"blur",type:"number"}]}}},computed:{},methods:{getrepayDate:function(e){e?(this.conditionForm.repayTimeMin=e[0],this.conditionForm.repayTimeMax=e[1]):(this.conditionForm.repayTimeMin="",this.conditionForm.repayTimeMax="")},search:function(){var e=this;this.$refs.conditionForm.validate(function(t){t&&(e.searchForm=a()({},e.conditionForm),1==e.conditionForm.currentPage?e.getList(e.conditionForm):(e.conditionForm.currentPage=1,e.getList(e.conditionForm),e.hasSearch=!0))})},reset:function(){this.$refs.conditionForm.resetFields(),this.conditionForm.repayTimeMin="",this.conditionForm.repayTimeMax="",this.searchForm=a()({},this.conditionForm),1==this.conditionForm.currentPage?this.getList(this.conditionForm):(this.conditionForm.currentPage=1,this.getList(this.conditionForm),this.hasSearch=!0)},getList:function(e){var t,o=this;t=e||this.conditionForm,this.loading=!0,this.$axios.post("/api/assignee/repayManage/getRepayRecordList",t).then(function(e){0==e.data.code?(o.tb.data=e.data.data.items,o.total=e.data.data.totalNum,o.loading=!1):(o.$util.failCallback(e.data,o),o.loading=!1)}).catch(function(e){o.loading=!1})},changeSize:function(e){this.conditionForm.pageSize=e,this.searchForm.pageSize=e,1==this.conditionForm.currentPage?this.getList(this.conditionForm):(this.conditionForm.currentPage=1,this.getList(this.conditionForm))},getdropdownData:function(){var e=this;this.$axios.post("/api/assignee/repayManage/getRepayRecordSearchInfo",{}).then(function(t){0==t.data.code?(e.dropdownData=t.data.data,e.dropdownData.loanInstitution.unshift({name:"All",code:""}),e.dropdownData.payWay.unshift({name:"All",code:""})):e.$util.failCallback(t.data,e)}).catch(function(e){})},handleCurrentChange:function(e){this.searchForm.currentPage=e,this.hasSearch?(this.getList(this.conditionForm),this.hasSearch=!1):(this.conditionForm=a()({},this.searchForm),this.getList(this.searchForm))},goDetail:function(e){var t=this.$util.encrypt(e.row.caseId,"repay"),o=window.location.origin?window.location.origin:"#/assignee_repay_flow_case?caseId="+t;window.open(o)},sortChange:function(e){this.conditionForm.sortField=e.prop,this.conditionForm.sequence="ascending"===e.order?"ASC":"DESC",this.conditionForm.currentPage,this.getList(this.conditionForm)}},created:function(){this.$route.path.slice(1);var e=this.$route.query.caseId;e&&(caseIdDecode=this.$util.decrypt(e,"repay"),this.conditionForm.caseId=caseIdDecode),this.searchForm=a()({},this.conditionForm),this.getList(this.conditionForm),this.getdropdownData()}},s={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"content-body"},[e._m(0),e._v(" "),o("div",{staticClass:"bd-main"},[o("el-form",{ref:"conditionForm",staticClass:"condition-form",attrs:{model:e.conditionForm,"label-width":this.$util.LABEL_WIDTH,"label-position":"right",size:"mini"}},[o("div",{staticClass:"el-col fixed-width"},[o("el-form-item",{attrs:{label:"贷款机构",prop:"loanInstitution"}},[o("el-select",{attrs:{placeholder:"请选择贷款机构",clearable:""},model:{value:e.conditionForm.loanInstitution,callback:function(t){e.$set(e.conditionForm,"loanInstitution",t)},expression:"conditionForm.loanInstitution"}},e._l(e.dropdownData.loanInstitution,function(e){return o("el-option",{key:e.id,attrs:{label:e.name,value:e.code}})}))],1)],1),e._v(" "),o("div",{staticClass:"el-col fixed-width"},[o("el-form-item",{attrs:{label:"批次号",prop:"batchCode"}},[o("el-input",{attrs:{placeholder:"请输入批次号",clearable:""},model:{value:e.conditionForm.batchCode,callback:function(t){e.$set(e.conditionForm,"batchCode",t)},expression:"conditionForm.batchCode"}})],1)],1),e._v(" "),o("div",{staticClass:"el-col fixed-width"},[o("el-form-item",{attrs:{label:"案件号",prop:"caseCode"}},[o("el-input",{attrs:{placeholder:"请输入案件号",clearable:""},model:{value:e.conditionForm.caseCode,callback:function(t){e.$set(e.conditionForm,"caseCode",t)},expression:"conditionForm.caseCode"}})],1)],1),e._v(" "),o("div",{staticClass:"el-col fixed-width"},[o("el-form-item",{attrs:{label:"还款人",prop:"repayPerson"}},[o("el-input",{attrs:{clearable:"",placeholder:"请输入还款人"},model:{value:e.conditionForm.repayPerson,callback:function(t){e.$set(e.conditionForm,"repayPerson",t)},expression:"conditionForm.repayPerson"}})],1)],1),e._v(" "),o("div",{staticClass:"el-col fixed-width"},[o("el-form-item",{attrs:{label:"还款金额"}},[o("el-col",{attrs:{span:11}},[o("el-form-item",{ref:"repayMoneyMin",attrs:{label:"",prop:"repayMoneyMin"}},[o("el-input",{attrs:{clearable:"",placeholder:"最小值"},model:{value:e.conditionForm.repayMoneyMin,callback:function(t){e.$set(e.conditionForm,"repayMoneyMin",t)},expression:"conditionForm.repayMoneyMin"}})],1)],1),e._v(" "),o("el-col",{staticClass:"line",attrs:{span:2}},[e._v("-")]),e._v(" "),o("el-col",{attrs:{span:11}},[o("el-form-item",{ref:"repayMoneyMax",attrs:{label:"",prop:"repayMoneyMax"}},[o("el-input",{attrs:{clearable:"",placeholder:"最大值"},model:{value:e.conditionForm.repayMoneyMax,callback:function(t){e.$set(e.conditionForm,"repayMoneyMax",t)},expression:"conditionForm.repayMoneyMax"}})],1)],1)],1)],1),e._v(" "),o("div",{staticClass:"el-col fixed-width"},[o("el-form-item",{attrs:{label:"还款时间",prop:"repayDate"}},[o("el-date-picker",{attrs:{clearable:"",type:"daterange",format:"yyyy/MM/dd","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},on:{change:e.getrepayDate},model:{value:e.conditionForm.repayDate,callback:function(t){e.$set(e.conditionForm,"repayDate",t)},expression:"conditionForm.repayDate"}})],1)],1),e._v(" "),o("div",{staticClass:"el-col fixed-width"},[o("el-form-item",{attrs:{label:"减免金额"}},[o("el-col",{attrs:{span:11}},[o("el-form-item",{ref:"reduceMoneyMin",attrs:{label:"",prop:"reduceMoneyMin"}},[o("el-input",{attrs:{clearable:"",placeholder:"最小值"},model:{value:e.conditionForm.reduceMoneyMin,callback:function(t){e.$set(e.conditionForm,"reduceMoneyMin",t)},expression:"conditionForm.reduceMoneyMin"}})],1)],1),e._v(" "),o("el-col",{staticClass:"line",attrs:{span:2}},[e._v("-")]),e._v(" "),o("el-col",{attrs:{span:11}},[o("el-form-item",{ref:"reduceMoneyMax",attrs:{label:"",prop:"reduceMoneyMax"}},[o("el-input",{attrs:{clearable:"",placeholder:"最大值"},model:{value:e.conditionForm.reduceMoneyMax,callback:function(t){e.$set(e.conditionForm,"reduceMoneyMax",t)},expression:"conditionForm.reduceMoneyMax"}})],1)],1)],1)],1),e._v(" "),o("div",{staticClass:"el-col fixed-width"},[o("el-form-item",{attrs:{label:"还款方式",prop:"payWay"}},[o("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.conditionForm.payWay,callback:function(t){e.$set(e.conditionForm,"payWay",t)},expression:"conditionForm['payWay']"}},e._l(e.dropdownData.payWay,function(e){return o("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}))],1)],1),e._v(" "),o("div",{staticClass:"el-col fixed-width form-btns"},[o("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.search}},[e._v("搜索")]),e._v(" "),o("el-button",{attrs:{size:"mini"},on:{click:e.reset}},[e._v("重置")])],1)]),e._v(" "),o("my-table",{attrs:{tb:e.tb,loading:e.loading},on:{sortChange:e.sortChange}}),e._v(" "),o("el-pagination",{attrs:{small:"","current-page":e.conditionForm.currentPage,"page-size":e.conditionForm.pageSize,layout:"sizes,total, prev, pager, next,jumper","page-sizes":[15,50,100],total:e.total},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.$set(e.conditionForm,"currentPage",t)},"size-change":e.changeSize}})],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"bd-top"},[t("div",{staticClass:"md clearfix"},[t("div",{staticClass:"md-left"},[t("h5",[this._v("还款流水")])]),this._v(" "),t("div",{staticClass:"md-right"})])])}]};var l=o("vSla")(c,s,!1,function(e){o("R7NZ")},null,null);t.default=l.exports}});