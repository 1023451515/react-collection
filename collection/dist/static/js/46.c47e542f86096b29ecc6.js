webpackJsonp([46],{"5xTp":function(t,a){},"cuK/":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e("5YEj"),n=e.n(i),o={data:function(){return{batchTimes:[],receivableAge:[],btnClass:["","","",""],countDate:[],conditionForm:{countDateMin:"",countDateMax:"",batchTimes:"",receivableAge:""},repayMoneyChart:null,repayMoneyData:{xAxisData:[],seriesData:[[],[]]}}},created:function(){this.conditionForm.countDateMin=moment().format("YYYY-MM-DD"),this.conditionForm.countDateMax=moment().format("YYYY-MM-DD"),this.getbatchTimes(),this.getreceivableAge(),this.today()},mounted:function(){this.repayMoneyChart=n.a.init(this.$refs.repayMoneyChart),this.repayCountChart=n.a.init(this.$refs.repayCountChart),this.publicMethod()},methods:{getbatchTimes:function(){var t=this;this.$axios.post("/api/assignee/caseCollection/loanInstitution/getAllBatchTimes",{}).then(function(a){0==a.data.code?(t.batchTimes=a.data.data,t.batchTimes.unshift({code:"",name:"All"})):t.$util.failCallback(a.data,t)}).catch(function(t){})},getreceivableAge:function(){var t=this;this.$axios.post("/api/assignee/caseCollection/loanInstitution/getAllReceivableAge",{}).then(function(a){0==a.data.code?(t.receivableAge=a.data.data,t.receivableAge.unshift({code:"",name:"All"})):t.$util.failCallback(a.data,t)}).catch(function(t){})},drawChart:function(t,a,e,i){var n={title:{text:e,left:5},dataZoom:[{handleIcon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z",handleSize:"80%",handleStyle:{color:"#fff",shadowBlur:3,shadowColor:"rgba(0, 0, 0, 0.3)",shadowOffsetX:2,shadowOffsetY:2}}],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:i,top:"top",left:"center"},yAxis:{type:"value",boundaryGap:[0,.01]},xAxis:{type:"category",data:a.xAxisData},series:[{name:i[0],type:"bar",data:a.seriesData[0],itemStyle:{color:"#a9c4d5"}},{name:i[1],type:"bar",data:a.seriesData[1],itemStyle:{color:"#939ccd"}}]};t.setOption(n)},getchartData:function(t,a){var e=this;this.$axios.post("/api/assignee/caseCollection/loanInstitution/getAllBatchTimes",{}).then(function(t){0==t.data.code?e.batchTimes=t.data.data:e.$util.failCallback(t.data,e)}).catch(function(t){})},getrepayMoneyChartData:function(){var t=this;this.$axios.post("/api/assignee/caseCollection/loanInstitution/getMoneyData",this.conditionForm).then(function(a){if(0==a.data.code){var e={xAxisData:[],seriesData:[[],[]]};a.data.data.forEach(function(t){e.xAxisData.push(t.loanInstitution),e.seriesData[0].push(t.commitMoney),e.seriesData[1].push(t.repayMoney)},t),t.drawChart(t.repayMoneyChart,e,"案件回收金额分析",["委案金额","回收金额"])}else t.$util.failCallback(a.data,t)}).catch(function(t){})},getrepayCountChartData:function(){var t=this;this.$axios.post("/api/assignee/caseCollection/loanInstitution/getCountData",this.$util.encodePostBody(this.conditionForm)).then(function(a){if(0==a.data.code){var e={xAxisData:[],seriesData:[[],[]]};a.data.data.forEach(function(t){e.xAxisData.push(t.loanInstitution),e.seriesData[0].push(t.commitCount),e.seriesData[1].push(t.repayCount)},t),t.drawChart(t.repayCountChart,e,"案件回收数量分析",["委案数量","回收数量"])}else t.$util.failCallback(a.data,t)}).catch(function(t){})},today:function(){if(this.btnClass[0])return!1;this.btnClass=["el-button--primary","","",""],this.conditionForm.countDateMin=moment().format("YYYY-MM-DD"),this.conditionForm.countDateMax=moment().format("YYYY-MM-DD")},yesterday:function(){if(this.btnClass[1])return!1;this.btnClass=["","el-button--primary","",""],this.conditionForm.countDateMin=moment().subtract(1,"days").format("YYYY-MM-DD"),this.conditionForm.countDateMax=moment().subtract(1,"days").format("YYYY-MM-DD")},lastWeek:function(){if(this.btnClass[2])return!1;this.btnClass=["","","el-button--primary",""],this.conditionForm.countDateMin=moment().subtract(7,"days").format("YYYY-MM-DD"),this.conditionForm.countDateMax=moment().subtract(1,"days").format("YYYY-MM-DD")},lastMonth:function(){if(this.btnClass[3])return!1;this.btnClass=["","","","el-button--primary"],this.conditionForm.countDateMin=moment().subtract(30,"days").format("YYYY-MM-DD"),this.conditionForm.countDateMax=moment().subtract(1,"days").format("YYYY-MM-DD")},countDateChange:function(t){this.btnClass=["","","",""],t?(this.conditionForm.countDateMin=t[0],this.conditionForm.countDateMax=t[1]):(this.btnClass=["el-button--primary","","",""],this.conditionForm.countDateMin=moment().format("YYYY-MM-DD"),this.conditionForm.countDateMax=moment().format("YYYY-MM-DD"))},search:function(){this.publicMethod()},reset:function(){this.conditionForm.batchTimes="",this.conditionForm.receivableAge="",this.countDate=[],this.today(),this.publicMethod()},publicMethod:function(){this.getrepayMoneyChartData(),this.getrepayCountChartData()}}},s={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"content-body"},[t._m(0),t._v(" "),e("div",{staticClass:"bd-main"},[e("el-form",{staticClass:"condition-form",attrs:{inline:!0,size:"mini"}},[e("div",[e("el-form-item",{staticClass:"el-col fixed-width"},[e("el-button-group",{attrs:{size:"mini"}},[e("el-button",{class:t.btnClass[0],attrs:{size:"mini"},nativeOn:{click:function(a){return t.today(a)}}},[t._v("今天")]),t._v(" "),e("el-button",{class:t.btnClass[1],attrs:{size:"mini"},nativeOn:{click:function(a){return t.yesterday(a)}}},[t._v("昨天")]),t._v(" "),e("el-button",{class:t.btnClass[2],attrs:{size:"mini"},nativeOn:{click:function(a){return t.lastWeek(a)}}},[t._v("过去7天")]),t._v(" "),e("el-button",{class:t.btnClass[3],attrs:{size:"mini"},nativeOn:{click:function(a){return t.lastMonth(a)}}},[t._v("过去30天")])],1)],1),t._v(" "),e("el-form-item",{staticClass:"el-col fixed-width"},[e("el-date-picker",{attrs:{size:"mini","start-placeholder":"开始日期","end-placeholder":"结束日期",type:"daterange","value-format":"yyyy-MM-dd",format:"yyyy/MM/dd",placeholder:"选择日期",clearable:""},on:{change:t.countDateChange},model:{value:t.countDate,callback:function(a){t.countDate=a},expression:"countDate"}})],1),t._v(" "),e("el-form-item",{staticClass:"el-col fixed-width",attrs:{label:"账龄",prop:"receivableAge"}},[e("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:t.conditionForm.receivableAge,callback:function(a){t.$set(t.conditionForm,"receivableAge",a)},expression:"conditionForm.receivableAge"}},t._l(t.receivableAge,function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.code}})}))],1),t._v(" "),e("el-form-item",{staticClass:"el-col fixed-width",attrs:{label:"手别",prop:"batchTimes"}},[e("el-select",{attrs:{placeholder:"请选择手别",clearable:"",size:"mini"},model:{value:t.conditionForm.batchTimes,callback:function(a){t.$set(t.conditionForm,"batchTimes",a)},expression:"conditionForm.batchTimes"}},t._l(t.batchTimes,function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.code}})}))],1),t._v(" "),e("div",{staticClass:"el-col btnGroup"},[e("el-form-item",[e("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.search}},[t._v("\n              搜索\n            ")]),t._v(" "),e("el-button",{attrs:{size:"mini"},on:{click:t.reset}},[t._v("\n              重置\n            ")])],1)],1)],1),t._v(" "),e("div",{ref:"repayMoneyChart",staticStyle:{height:"380px"}}),t._v(" "),e("div",{ref:"repayCountChart",staticStyle:{height:"380px"}})])],1)])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"bd-top"},[a("div",{staticClass:"md clearfix"},[a("div",{staticClass:"md-left"},[a("h5",[this._v("贷款机构分析")])]),this._v(" "),a("div",{staticClass:"md-right"})])])}]};var c=e("vSla")(o,s,!1,function(t){e("5xTp")},"data-v-1df41cb0",null);a.default=c.exports}});