webpackJsonp([32],{DCgT:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("HzJ8"),o=a.n(i),n=a("aA9S"),l=a.n(n),s=[{key:"strategyNo",label:"策略编号",width:"200"},{key:"strategyName",label:"策略名称",width:"auto"},{key:"productTypeName",label:"产品类型",width:"auto"},{key:"strategyDesc",label:"描述",width:"auto"}],r={data:function(){return{dropdownData:{},operationBtns:[{name:"查看",identifier:"sponsor_position_search",isShow:!0},{name:"添加策略",identifier:"sponsor_position_create",dialog:{dialogFormVisible:!1,form:{productType:"",strategyDesc:"",strategyName:""},rule:{},formName:"createForm",url:"/api/assignee/setup/addAiStrategy",title:"添加策略"},isShow:!1},{name:"编辑",identifier:"sponsor_position_update",dialog:{dialogFormVisible:!1,form:{productType:"",strategyDesc:"",strategyName:"",id:""},rule:{},formName:"editForm",url:"/api/assignee/setup/editcAiStrategy",title:"策略编辑"},isShow:!0},{name:"删除策略",identifier:"sponsor_position_delete",form:{id:""},url:"/api/assignee/setup/deleteAiStrategy",isShow:!1},{name:"设置",identifier:"",url:"",isShow:!1}],hasSearch:!1,tb:{data:[],fields:s},loading:!1,rules:{},total:0,selected:[],conditionForm:{currentPage:1,pageSize:15}}},components:{pagination:a("XBA1").a},created:function(){this.getList(this.conditionForm),this.getdropdownData()},methods:{getdropdownData:function(){var t=this;this.$axios.post("/api/assignee/setup/initAddAiStrategy",{}).then(function(e){0==e.data.code?t.dropdownData=e.data.data:t.$util.failCallback(e.data,t)}).catch(function(t){})},goRulesSet:function(t,e){this.$router.push({path:"/assignee_ai_rule",query:{id:e.id,strategyNo:e.strategyNo,strategyName:e.strategyName,productTypeName:e.productTypeName}})},getList:function(t){var e,a=this;e=t||this.conditionForm,this.loading=!0,this.$axios.post("/api/assignee/setup/queryAiStrategyList",e).then(function(t){a.loading=!1,0==t.data.code?(a.tb.data=t.data.data.items,a.total=t.data.data.totalNum):a.$util.failCallback(t.data,a),a.loading=!1}).catch(function(t){a.loading=!1})},changeSize:function(t){this.conditionForm.pageSize=t,this.getList(this.conditionForm)},changePage:function(t){this.searchForm.currentPage=t,this.hasSearch?(this.getList(this.conditionForm),this.hasSearch=!1):(this.conditionForm=l()({},this.searchForm),this.getList(this.searchForm))},handleSelectionChange:function(t){this.selected=[];var e=!0,a=!1,i=void 0;try{for(var n,l=o()(t);!(e=(n=l.next()).done);e=!0){var s=n.value;this.selected.push(s.id)}}catch(t){a=!0,i=t}finally{try{!e&&l.return&&l.return()}finally{if(a)throw i}}},openCreateDialog:function(t){void 0!==this.$refs[t.dialog.formName]&&this.$refs[t.dialog.formName].resetFields(),t.dialog.dialogFormVisible=!0},dialogCloseHandle:function(t){t.dialog.dialogFormVisible=!1},openEditDialog:function(t,e){this.tempRow=l()({},e),t.dialog.dialogFormVisible=!0,t.dialog.form=this.tempRow},dialogSubmitHandle:function(t){var e=this;this.$refs[t.dialog.formName].validate(function(a){a&&e.$axios.post(t.dialog.url,t.dialog.form).then(function(a){0==a.data.code?(t.dialog.dialogFormVisible=!1,e.getList(e.conditionForm),e.$message({type:"success",message:a.data.msg})):e.$util.failCallback(a.data,e)}).catch(function(t){})})},deleteHandle:function(t){var e=this;this.selected.length>=1?this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$axios.post(t.url,{ids:e.selected}).then(function(t){0==t.data.code?(e.getList(e.conditionForm),e.$message({type:"success",message:t.data.msg})):e.$util.failCallback(t.data,e)},function(t){})}).catch(function(){}):this.$alert("请选择一条记录进行操作！","提示",{confirmButtonText:"确定"})}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-body"},[a("div",{staticClass:"bd-top"},[a("div",{staticClass:"md clearfix"},[t._m(0),t._v(" "),a("div",{staticClass:"md-right"},[a("el-button",{attrs:{size:"mini",type:"primary"},nativeOn:{click:function(e){e.preventDefault(),t.openCreateDialog(t.operationBtns[1])}}},[t._v(t._s(t.operationBtns[1].name))]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},nativeOn:{click:function(e){e.preventDefault(),t.deleteHandle(t.operationBtns[3])}}},[t._v(t._s(t.operationBtns[3].name))])],1)])]),t._v(" "),a("div",{staticClass:"bd-main"},[a("div",{staticClass:"table"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"multipleTable",attrs:{height:"700","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading",data:t.tb.data,"tooltip-effect":"dark","empty-text":"暂无数据"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"100",fixed:"left"}}),t._v(" "),t._l(t.tb.fields,function(t){return a("el-table-column",{key:t.id,attrs:{align:t.align||"left",prop:t.key,label:t.label,width:t.width}})}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},nativeOn:{click:function(a){a.preventDefault(),t.openEditDialog(t.operationBtns[2],e.row)}}},[t._v(t._s(t.operationBtns[2].name))]),t._v(" "),a("el-button",{staticStyle:{"margin-left":"5px"},attrs:{size:"mini"},nativeOn:{click:function(a){a.preventDefault(),t.goRulesSet(t.operationBtns[4],e.row)}}},[t._v(t._s(t.operationBtns[4].name))])]}}])})],2)],1)]),t._v(" "),a("pagination",{attrs:{total:t.total,pageSize:t.conditionForm.pageSize,"current-page":t.conditionForm.currentPage},on:{changePage:t.changePage,changeSize:t.changeSize}}),t._v(" "),a("el-dialog",{attrs:{title:t.operationBtns[1].dialog.title,visible:t.operationBtns[1].dialog.dialogFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){t.$set(t.operationBtns[1].dialog,"dialogFormVisible",e)}}},[a("el-form",{ref:t.operationBtns[1].dialog.formName,staticClass:"dialog-main",attrs:{model:t.operationBtns[1].dialog.form,"label-width":"100px",rules:t.operationBtns[1].dialog.rule,size:"small"}},[a("el-form-item",{attrs:{label:"策略名称",prop:"strategyName"}},[a("el-input",{attrs:{"auto-complete":"off",clearable:"",placeholder:"请输入策略名称"},model:{value:t.operationBtns[1].dialog.form.strategyName,callback:function(e){t.$set(t.operationBtns[1].dialog.form,"strategyName",e)},expression:"operationBtns[1].dialog.form.strategyName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"产品类型",prop:"productType"}},[a("el-select",{attrs:{placeholder:"请选择产品类型",clearable:""},model:{value:t.operationBtns[1].dialog.form.productType,callback:function(e){t.$set(t.operationBtns[1].dialog.form,"productType",e)},expression:"operationBtns[1].dialog.form.productType"}},t._l(t.dropdownData.productType,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.code}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"策略描述",prop:"strategyDesc",clearable:""}},[a("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入策略描述"},model:{value:t.operationBtns[1].dialog.form.strategyDesc,callback:function(e){t.$set(t.operationBtns[1].dialog.form,"strategyDesc",e)},expression:"operationBtns[1].dialog.form.strategyDesc"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog_submit"},[a("el-button",{attrs:{size:"small"},nativeOn:{click:function(e){e.preventDefault(),t.dialogCloseHandle(t.operationBtns[1])}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},nativeOn:{click:function(e){e.preventDefault(),t.dialogSubmitHandle(t.operationBtns[1])}}},[t._v("提 交")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:t.operationBtns[2].dialog.title,visible:t.operationBtns[2].dialog.dialogFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){t.$set(t.operationBtns[2].dialog,"dialogFormVisible",e)}}},[a("el-form",{ref:t.operationBtns[2].dialog.formName,staticClass:"dialog-main",attrs:{model:t.operationBtns[2].dialog.form,"label-width":"100px",rules:t.operationBtns[2].dialog.rule,size:"small"}},[a("el-form-item",{attrs:{label:"策略名称",prop:"strategyName"}},[a("el-input",{attrs:{"auto-complete":"off",clearable:"",placeholder:"请输入策略名称"},model:{value:t.operationBtns[2].dialog.form.strategyName,callback:function(e){t.$set(t.operationBtns[2].dialog.form,"strategyName",e)},expression:"operationBtns[2].dialog.form.strategyName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"产品类型",prop:"productType"}},[a("el-select",{attrs:{placeholder:"请选择产品类型",clearable:""},model:{value:t.operationBtns[2].dialog.form.productType,callback:function(e){t.$set(t.operationBtns[2].dialog.form,"productType",e)},expression:"operationBtns[2].dialog.form.productType"}},t._l(t.dropdownData.productType,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.code}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"策略描述",prop:"strategyDesc"}},[a("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入策略描述",clearable:""},model:{value:t.operationBtns[2].dialog.form.strategyDesc,callback:function(e){t.$set(t.operationBtns[2].dialog.form,"strategyDesc",e)},expression:"operationBtns[2].dialog.form.strategyDesc"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog_submit"},[a("el-button",{attrs:{size:"small"},nativeOn:{click:function(e){e.preventDefault(),t.dialogCloseHandle(t.operationBtns[2])}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},nativeOn:{click:function(e){e.preventDefault(),t.dialogSubmitHandle(t.operationBtns[2])}}},[t._v("提 交")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"md-left"},[e("h5",[this._v("智能催收策略设置")])])}]};var c=a("vSla")(r,d,!1,function(t){a("hPJT")},"data-v-7c7866b0",null);e.default=c.exports},hPJT:function(t,e){}});