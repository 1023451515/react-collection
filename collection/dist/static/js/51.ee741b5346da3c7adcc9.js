webpackJsonp([51],{kPnX:function(e,o){},zXLt:function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=t("aA9S"),a=t.n(i),n=t("a3Yh"),r=t.n(n),l=(t("6iV/"),t("XBA1")),s=t("4OB+"),c=[{key:"caseCode",label:"案件编号",width:"110",type:"0"},{key:"batchCode",label:"批次号",width:"",type:"0"},{key:"loanInstitution",label:"贷款机构",width:"",type:"0"},{key:"promisee",label:"承诺还款人",width:"100",type:"0"},{key:"planRepayTime",label:"承诺还款时间",width:"120",type:"0",sortable:"custom"},{key:"planRepayAmount",label:"承诺还款金额",width:"120",align:"right",type:"0",sortable:"custom"},{key:"reliefAmount",label:"申请减免金额",width:"120",align:"right",type:"0",sortable:"custom"},{key:"borrowerName",label:"姓名",width:"100",type:"0"},{key:"borrowerIdnumber",label:"身份证号",width:"150",type:"0"},{key:"borrowerPhone",label:"手机号",width:"100",type:"0"},{key:"caseArea",label:"案件地区",width:"100",type:"0"},{key:"registeredAddress",label:"户籍地",width:"100",type:"0"},{key:"overdueDay",label:"逾期天数",width:"auto",type:"0"},{key:"receivableAge",label:"账龄",width:"",type:"0"},{key:"bacthTimes",label:"手别",width:"",type:"0"},{key:"commitMoney",label:"委案金额",width:"100",align:"right",type:"0",sortable:"custom"},{key:"commitDate",label:"委案时间",width:"100",type:"0",sortable:"custom"},{key:"limitDate",label:"退案时间",width:"100",type:"0",sortable:"custom"}],m={name:"",components:{pagination:l.a,myTable:s.a},data:function(){var e,o=this;return r()({dropdownData:[],currentPage:1,pageSize:15,rules:{borrowerName:[this.$util.formRule.userName],borrowerIdnumber:[this.$util.formRule.ID],borrowerPhone:[this.$util.formRule.phone],batchCode:[this.$util.formRule.batchCode],caseCode:[this.$util.formRule.caseCode],promiseRepayMoneyMin:[{validator:function(e,t,i){t?/^[1-9][0-9]{0,9}([.][0-9]{0,2})?$/.test(t)?o.conditionForm.promiseRepayMoneyMax&&o.conditionForm.promiseRepayMoneyMax-0<o.conditionForm.promiseRepayMoneyMin-0?i(new Error("最小值不能大于最大值")):(o.$refs.promiseRepayMoneyMax.clearValidate(),i()):i(new Error("最多10位整数和2位小数")):i()},trigger:"blur"}],promiseRepayMoneyMax:[{validator:function(e,t,i){t?/^[1-9][0-9]{0,9}([.][0-9]{0,2})?$/.test(t)?o.conditionForm.promiseRepayMoneyMin&&o.conditionForm.promiseRepayMoneyMax-0<o.conditionForm.promiseRepayMoneyMin-0?i(new Error("最小值不能大于最大值")):(o.$refs.promiseRepayMoneyMin.clearValidate(),i()):i(new Error("最多10位整数和2位小数")):i()},trigger:"blur"}],commitMoneyMin:[{validator:function(e,t,i){t?/^[1-9][0-9]{0,9}([.][0-9]{0,2})?$/.test(t)?o.conditionForm.commitMoneyMax&&o.conditionForm.commitMoneyMax-0<o.conditionForm.commitMoneyMin-0?i(new Error("最小值不能大于最大值")):(o.$refs.commitMoneyMax.clearValidate(),i()):i(new Error("最多10位整数和2位小数")):i()},trigger:"blur"}],commitMoneyMax:[{validator:function(e,t,i){t?/^[1-9][0-9]{0,9}([.][0-9]{0,2})?$/.test(t)?o.conditionForm.commitMoneyMin&&o.conditionForm.commitMoneyMax-0<o.conditionForm.commitMoneyMin-0?i(new Error("最小值不能大于最大值")):(o.$refs.commitMoneyMin.clearValidate(),i()):i(new Error("最多10位整数和2位小数")):i()},trigger:"blur"}],overdueDayMin:[{validator:function(e,t,i){t?/^[1-9][0-9]{0,5}$/.test(t)?o.conditionForm.overdueDayMax&&o.conditionForm.overdueDayMax-0<o.conditionForm.overdueDayMin-0?i(new Error("最小值不能大于最大值")):(o.$refs.overdueDayMax.clearValidate(),i()):i(new Error("最多6位整数")):i()},trigger:"blur"}],overdueDayMax:[{validator:function(e,t,i){t?/^[1-9][0-9]{0,5}$/.test(t)?o.conditionForm.overdueDayMin&&o.conditionForm.overdueDayMax-0<o.conditionForm.overdueDayMin-0?i(new Error("最小值不能大于最大值")):(o.$refs.overdueDayMin.clearValidate(),i()):i(new Error("最多6位整数")):i()},trigger:"blur"}],reliefAmountMin:[{validator:function(e,t,i){t?/^[1-9][0-9]{0,9}([.][0-9]{0,2})?$/.test(t)?o.conditionForm.reliefAmountMax&&o.conditionForm.reliefAmountMax-0<o.conditionForm.reliefAmountMin-0?i(new Error("最小值不能大于最大值")):(o.$refs.reliefAmountMax.clearValidate(),i()):i(new Error("最多10位整数和2位小数")):i()},trigger:"blur"}],reliefAmountMax:[{validator:function(e,t,i){t?/^[1-9][0-9]{0,9}([.][0-9]{0,2})?$/.test(t)?o.conditionForm.reliefAmountMin&&o.conditionForm.reliefAmountMax-0<o.conditionForm.reliefAmountMin-0?i(new Error("最小值不能大于最大值")):(o.$refs.reliefAmountMin.clearValidate(),i()):i(new Error("最多10位整数和2位小数")):i()},trigger:"blur"}]},loading:!0,pickerOptions2:{onPick:function(e,o){}},conditionForm:(e={bacthTimes:"",batchCode:"",borrowerIdnumber:"",borrowerName:"",borrowerPhone:"",caseArea:"",caseCode:"",loanInstitution:"",receivableAge:"",registeredAddress:"",promiseRepayMoneyMin:"",promiseRepayMoneyMax:"",commitMoneyMin:"",overdueDayMin:"",overdueDayMax:""},r()(e,"commitMoneyMin",""),r()(e,"commitMoneyMax",""),r()(e,"reliefAmountMin",""),r()(e,"reliefAmountMax",""),r()(e,"currentPage",1),r()(e,"pageSize",15),r()(e,"promiseRepayTime",[]),r()(e,"commitDate",[]),r()(e,"limitDate",[]),e),searchForm:{},hasSearch:!1,total:0,operationBtns:[{name:"查看",identifier:"sponsor_position_search",isShow:!0}],tb:{fields:c,data:[],selectionBtn:!0,height:460}},"hasSearch",!1)},computed:{basicParams:function(){return{currentPage:this.currentPage,pageSize:15}}},created:function(){this.$route.path.slice(1);this.getDownList(),this.searchForm=a()({},this.conditionForm),this.getList(this.conditionForm)},methods:{getDownList:function(){var e=this;this.$axios.post("/api/assignee/repayManage/getPromisRepaySearchInfo",{}).then(function(o){0==o.data.code?(e.dropdownData=o.data.data,e.dropdownData.loanInstitution.unshift({name:"All",code:""}),e.dropdownData.caseArea.unshift({name:"All",code:""}),e.dropdownData.registeredAddress.unshift({name:"All",code:""}),e.dropdownData.bacthTimes.unshift({name:"All",code:""}),e.dropdownData.receivableAge.unshift({name:"All",code:""})):e.$util.failCallback(o.data,e)},function(o){e.treeLoading=!1})},promiseRepayTimeChange:function(e){if(null==e)return this.conditionForm.promiseRepayTimeMin="",void(this.conditionForm.promiseRepayTimeMax="");this.conditionForm.promiseRepayTimeMin=e[0],this.conditionForm.promiseRepayTimeMax=e[1]},commitDataChange:function(e){if(null==e)return this.conditionForm.commitDateMin="",void(this.conditionForm.commitDateMax="");this.conditionForm.commitDateMin=e[0],this.conditionForm.commitDateMax=e[1]},limitDateChange:function(e){if(null==e)return this.conditionForm.limitDateMin="",void(this.conditionForm.limitDateMax="");this.conditionForm.limitDateMin=e[0],this.conditionForm.limitDateMax=e[1]},search:function(){var e=this;this.$refs.conditionForm.validate(function(o){o&&(e.searchForm=a()({},e.conditionForm),1==e.conditionForm.currentPage?e.getList(e.conditionForm):(e.conditionForm.currentPage=1,e.getList(e.conditionForm),e.hasSearch=!0))})},resetForm:function(e){this.$refs.conditionForm.resetFields(),this.conditionForm.commitDateMin="",this.conditionForm.commitDateMax="",this.conditionForm.limitDateMin="",this.conditionForm.limitDateMax="",this.conditionForm.promiseRepayTimeMin="",this.conditionForm.promiseRepayTimeMax="",this.searchForm=a()({},this.conditionForm),1==this.conditionForm.currentPage?this.getList(this.conditionForm):(this.conditionForm.currentPage=1,this.getList(this.conditionForm),this.hasSearch=!0)},getList:function(e){var o,t=this;o=e||this.conditionForm,this.loading=!0,this.$axios.post("/api/assignee/repayManage/getPromisRepayList",o).then(function(e){0==e.data.code?(t.tb.data=e.data.data.items,t.total=e.data.data.totalNum):t.$util.failCallback(e.data,t),t.loading=!1}).catch(function(e){t.loading=!1})},changeSize:function(e){this.conditionForm.pageSize=e,this.searchForm.pageSize=e,1==this.conditionForm.currentPage?this.getList(this.conditionForm):(this.conditionForm.currentPage=1,this.getList(this.conditionForm))},changePage:function(e){this.searchForm.currentPage=e,this.hasSearch?(this.getList(this.conditionForm),this.hasSearch=!1):(this.conditionForm=a()({},this.searchForm),this.getList(this.searchForm))},sortChange:function(e){this.conditionForm.sortField=e.prop,this.conditionForm.sequence="ascending"===e.order?"ASC":"DESC",this.conditionForm.currentPage,this.getList(this.conditionForm)}}},d={render:function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",[t("div",{staticClass:"content-body"},[e._m(0),e._v(" "),t("div",{staticClass:"bd-main"},[t("el-form",{ref:"conditionForm",staticClass:"condition-form",attrs:{model:e.conditionForm,"label-width":this.$util.LABEL_WIDTH,"label-position":"right",size:"mini"}},[t("div",{staticClass:"el-col fixed-width"},[t("el-form-item",{attrs:{label:"姓名",prop:"borrowerName"}},[t("el-input",{attrs:{clearable:""},model:{value:e.conditionForm.borrowerName,callback:function(o){e.$set(e.conditionForm,"borrowerName",o)},expression:"conditionForm.borrowerName"}})],1)],1),e._v(" "),t("div",{staticClass:"el-col fixed-width"},[t("el-form-item",{attrs:{label:"身份证",prop:"borrowerIdnumber"}},[t("el-input",{attrs:{clearable:""},model:{value:e.conditionForm.borrowerIdnumber,callback:function(o){e.$set(e.conditionForm,"borrowerIdnumber",o)},expression:"conditionForm.borrowerIdnumber"}})],1)],1),e._v(" "),t("div",{staticClass:"el-col fixed-width"},[t("el-form-item",{attrs:{label:"手机号",prop:"borrowerPhone"}},[t("el-input",{attrs:{clearable:""},model:{value:e.conditionForm.borrowerPhone,callback:function(o){e.$set(e.conditionForm,"borrowerPhone",o)},expression:"conditionForm.borrowerPhone"}})],1)],1),e._v(" "),t("div",{staticClass:"el-col fixed-width"},[t("el-form-item",{attrs:{label:"贷款机构",prop:"loanInstitution"}},[t("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.conditionForm.loanInstitution,callback:function(o){e.$set(e.conditionForm,"loanInstitution",o)},expression:"conditionForm.loanInstitution"}},e._l(e.dropdownData.loanInstitution,function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.code}})}))],1)],1),e._v(" "),t("div",{staticClass:"el-col fixed-width"},[t("el-form-item",{attrs:{label:"批次号",prop:"batchCode"}},[t("el-input",{attrs:{placeholder:"",clearable:""},model:{value:e.conditionForm.batchCode,callback:function(o){e.$set(e.conditionForm,"batchCode",o)},expression:"conditionForm.batchCode"}})],1)],1),e._v(" "),t("div",{staticClass:"el-col fixed-width"},[t("el-form-item",{attrs:{label:"案件编号",prop:"caseCode"}},[t("el-input",{attrs:{clearable:""},model:{value:e.conditionForm.caseCode,callback:function(o){e.$set(e.conditionForm,"caseCode",o)},expression:"conditionForm.caseCode"}})],1)],1),e._v(" "),t("div",{staticClass:"el-col fixed-width"},[t("el-form-item",{attrs:{label:"案件地区",prop:"caseArea"}},[t("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.conditionForm.caseArea,callback:function(o){e.$set(e.conditionForm,"caseArea",o)},expression:"conditionForm.caseArea"}},e._l(e.dropdownData.caseArea,function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.code}})}))],1)],1),e._v(" "),t("div",{staticClass:"el-col fixed-width"},[t("el-form-item",{attrs:{label:"承诺还款金额"}},[t("el-col",{attrs:{span:11}},[t("el-form-item",{ref:"promiseRepayMoneyMin",attrs:{label:"",prop:"promiseRepayMoneyMin"}},[t("el-input",{attrs:{clearable:""},model:{value:e.conditionForm.promiseRepayMoneyMin,callback:function(o){e.$set(e.conditionForm,"promiseRepayMoneyMin",o)},expression:"conditionForm.promiseRepayMoneyMin"}})],1)],1),e._v(" "),t("el-col",{staticClass:"line",attrs:{span:2}},[e._v("-")]),e._v(" "),t("el-col",{attrs:{span:11}},[t("el-form-item",{ref:"promiseRepayMoneyMax",attrs:{label:"",prop:"promiseRepayMoneyMax"}},[t("el-input",{attrs:{clearable:""},model:{value:e.conditionForm.promiseRepayMoneyMax,callback:function(o){e.$set(e.conditionForm,"promiseRepayMoneyMax",o)},expression:"conditionForm.promiseRepayMoneyMax"}})],1)],1)],1)],1),e._v(" "),t("div",{staticClass:"el-col fixed-width"},[t("el-form-item",{attrs:{label:"承诺还款时间",prop:"promiseRepayTime"}},[t("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",format:"yyyy/MM/dd",type:"daterange","start-placeholder":"开始日期","end-placeholder":"结束日期",clearable:""},on:{change:e.promiseRepayTimeChange},model:{value:e.conditionForm.promiseRepayTime,callback:function(o){e.$set(e.conditionForm,"promiseRepayTime",o)},expression:"conditionForm.promiseRepayTime"}})],1)],1),e._v(" "),t("div",{staticClass:"el-col fixed-width"},[t("el-form-item",{attrs:{label:"申请减免金额"}},[t("el-col",{attrs:{span:11}},[t("el-form-item",{ref:"reliefAmountMin",attrs:{label:"",prop:"reliefAmountMin"}},[t("el-input",{attrs:{clearable:""},model:{value:e.conditionForm.reliefAmountMin,callback:function(o){e.$set(e.conditionForm,"reliefAmountMin",o)},expression:"conditionForm.reliefAmountMin"}})],1)],1),e._v(" "),t("el-col",{staticClass:"line",attrs:{span:2}},[e._v("-")]),e._v(" "),t("el-col",{attrs:{span:11}},[t("el-form-item",{ref:"reliefAmountMax",attrs:{label:"",prop:"reliefAmountMax"}},[t("el-input",{attrs:{clearable:""},model:{value:e.conditionForm.reliefAmountMax,callback:function(o){e.$set(e.conditionForm,"reliefAmountMax",o)},expression:"conditionForm.reliefAmountMax"}})],1)],1)],1)],1),e._v(" "),t("div",{staticClass:"el-col fixed-width"},[t("el-form-item",{attrs:{label:"户籍地",prop:"registeredAddress"}},[t("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.conditionForm.registeredAddress,callback:function(o){e.$set(e.conditionForm,"registeredAddress",o)},expression:"conditionForm.registeredAddress"}},e._l(e.dropdownData.registeredAddress,function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.code}})}))],1)],1),e._v(" "),t("div",{staticClass:"el-col fixed-width"},[t("el-form-item",{attrs:{label:"账龄",prop:"receivableAge"}},[t("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.conditionForm.receivableAge,callback:function(o){e.$set(e.conditionForm,"receivableAge",o)},expression:"conditionForm.receivableAge"}},e._l(e.dropdownData.receivableAge,function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.code}})}))],1)],1),e._v(" "),t("div",{staticClass:"el-col fixed-width"},[t("el-form-item",{attrs:{label:"逾期天数"}},[t("el-col",{attrs:{span:11}},[t("el-form-item",{ref:"overdueDayMin",attrs:{label:"",prop:"overdueDayMin"}},[t("el-input",{attrs:{clearable:""},model:{value:e.conditionForm.overdueDayMin,callback:function(o){e.$set(e.conditionForm,"overdueDayMin",o)},expression:"conditionForm.overdueDayMin"}})],1)],1),e._v(" "),t("el-col",{staticClass:"line",attrs:{span:2}},[e._v("-")]),e._v(" "),t("el-col",{attrs:{span:11}},[t("el-form-item",{ref:"overdueDayMax",attrs:{label:"",prop:"overdueDayMax"}},[t("el-input",{attrs:{clearable:""},model:{value:e.conditionForm.overdueDayMax,callback:function(o){e.$set(e.conditionForm,"overdueDayMax",o)},expression:"conditionForm.overdueDayMax"}})],1)],1)],1)],1),e._v(" "),t("div",{staticClass:"el-col fixed-width"},[t("el-form-item",{attrs:{label:"手别",prop:"bacthTimes"}},[t("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.conditionForm.bacthTimes,callback:function(o){e.$set(e.conditionForm,"bacthTimes",o)},expression:"conditionForm.bacthTimes"}},e._l(e.dropdownData.bacthTimes,function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.code}})}))],1)],1),e._v(" "),t("div",{staticClass:"el-col fixed-width"},[t("el-form-item",{attrs:{label:"委案金额",prop:"commitMoney"}},[t("el-col",{attrs:{span:11}},[t("el-form-item",{ref:"commitMoneyMin",attrs:{label:"",prop:"commitMoneyMin"}},[t("el-input",{attrs:{clearable:""},model:{value:e.conditionForm.commitMoneyMin,callback:function(o){e.$set(e.conditionForm,"commitMoneyMin",o)},expression:"conditionForm.commitMoneyMin"}})],1)],1),e._v(" "),t("el-col",{staticClass:"line",attrs:{span:2}},[e._v("-")]),e._v(" "),t("el-col",{attrs:{span:11}},[t("el-form-item",{ref:"commitMoneyMax",attrs:{label:"",prop:"commitMoneyMax"}},[t("el-input",{attrs:{clearable:""},model:{value:e.conditionForm.commitMoneyMax,callback:function(o){e.$set(e.conditionForm,"commitMoneyMax",o)},expression:"conditionForm.commitMoneyMax"}})],1)],1)],1)],1),e._v(" "),t("div",{staticClass:"el-col fixed-width"},[t("el-form-item",{attrs:{label:"委案时间",prop:"commitDate"}},[t("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",format:"yyyy/MM/dd",type:"daterange","start-placeholder":"开始日期","end-placeholder":"结束日期",clearable:""},on:{change:e.commitDataChange},model:{value:e.conditionForm.commitDate,callback:function(o){e.$set(e.conditionForm,"commitDate",o)},expression:"conditionForm.commitDate"}})],1)],1),e._v(" "),t("div",{staticClass:"el-col fixed-width"},[t("el-form-item",{attrs:{label:"退案时间",prop:"limitDate"}},[t("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",format:"yyyy/MM/dd",type:"daterange","start-placeholder":"开始日期","end-placeholder":"结束日期",clearable:""},on:{change:e.limitDateChange},model:{value:e.conditionForm.limitDate,callback:function(o){e.$set(e.conditionForm,"limitDate",o)},expression:"conditionForm.limitDate"}})],1)],1),e._v(" "),t("div",{staticClass:"el-col fixed-width form-btns"},[t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.search}},[e._v("搜索")]),e._v(" "),t("el-button",{attrs:{size:"mini"},on:{click:function(o){e.resetForm("conditionForm")}}},[e._v("重置")])],1)]),e._v(" "),t("my-table",{attrs:{tb:e.tb,loading:e.loading},on:{sortChange:e.sortChange}}),e._v(" "),t("pagination",{attrs:{total:e.total,pageSize:e.conditionForm.pageSize,"current-page":e.conditionForm.currentPage},on:{changePage:e.changePage,changeSize:e.changeSize}})],1)])])},staticRenderFns:[function(){var e=this.$createElement,o=this._self._c||e;return o("div",{staticClass:"bd-top"},[o("div",{staticClass:"md clearfix"},[o("div",{staticClass:"md-left"},[o("h5",[this._v("承诺还款列表")])]),this._v(" "),o("div",{staticClass:"md-right"})])])}]};var p=t("vSla")(m,d,!1,function(e){t("kPnX")},null,null);o.default=p.exports}});