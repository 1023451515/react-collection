webpackJsonp([26],{"6BzL":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("azh2"),i=e("XBA1"),n=[{key:"applyTime",label:"提交时间",width:"150"},{key:"approverName",label:"审批人",width:"80"},{key:"gtasksTypeName",label:"类型",width:"100"},{key:"approveStatusName",label:"状态",width:"80"}],o={components:{MyTabs:s.a,pagination:i.a},data:function(){return{statusList:[{code:"0",name:"全部待办",count:0},{code:"1",name:"未完成",count:0},{code:"2",name:"已完成",count:0}],tabIndex:0,tabList:[{index:0,name:"全部类型",type:0},{index:1,name:"申请外访",type:1},{index:2,name:"申请函件",type:2},{index:3,name:"申请公安协催",type:3},{index:4,name:"申请对账",type:4}],comTb:[],tb:{data:[],fields:n},loading:!1,total:0}},computed:{queryParams:function(){return{currentPage:1,pageSize:15,searchType:0,gtasksType:0}}},created:function(){this.getList(this.queryParams),this.comTb=this.tb},methods:{changeTab:function(t){this.tabIndex=t.index,this.queryParams.gtasksType=t.type,this.getList(this.queryParams)},getNumberList:function(){var t=this;this.$axios.post("/api/assignee/gtasks/getGtasksCountsApplicant",{}).then(function(a){0==a.data.code?(t.statusList[0].count=a.data.data.total,t.statusList[1].count=a.data.data.unfinished,t.statusList[2].count=a.data.data.finished):t.$util.failCallback(a.data,t)}).catch(function(a){t.loading=!1})},getList:function(t){var a=this;this.getNumberList(),this.loading=!0,this.$axios.post("/api/assignee/gtasks/getGtasksListApplicant",t).then(function(t){a.loading=!1,0==t.data.code?(a.tb.data=t.data.data.items,a.total=t.data.data.totalNum):a.$util.failCallback(t.data,a)}).catch(function(t){a.loading=!1})},changeSize:function(t){this.queryParams.pageSize=t,this.getList(this.queryParams)},statusChange:function(t){this.queryParams.searchType=t.code,this.getList(this.queryParams)},goDetail:function(t){var a=this.$util.encrypt(t.caseCode+"_"+t.caseId.toString()+"_"+t.caseManageId.toString(),"caseDetail"),e=(window.location.origin?window.location.origin:"")+"/#/worker_case_detail?id="+a;window.open(e)},tbOperate:function(t,a){var e=this;this.$axios.post("/api/assignee/gtasks/disposeGtasks",{gtasksType:row.gtasksType,id:row.id,operatorType:a.key}).then(function(t){0==t.data.code?e.$message.success(a.name+"成功"):e.$util.failCallback(t.data,e)}).catch(function(t){})},handleCurrentChange:function(t){this.queryParams.currentPage=t,this.getList(this.queryParams)}}},l={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("el-row",{staticStyle:{height:"100%"}},[e("el-col",{staticClass:"apply-aside",attrs:{span:3}},[e("p",{staticClass:"aside-title"},[t._v("待办-我的申请")]),t._v(" "),e("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"0"}},t._l(t.statusList,function(a){return e("el-menu-item",{key:a.id,attrs:{index:a.code},on:{click:function(e){t.statusChange(a)}}},[e("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(a.name)+"\n              "),a.count?e("span",[t._v(t._s("("+a.count+")"))]):t._e()])])}))],1),t._v(" "),e("el-col",{attrs:{span:21}},[e("div",{staticClass:"content-body"},[e("div",{staticClass:"bd-top"},[e("div",{staticClass:"md clearfix"},[e("div",{staticClass:"md-left"},[e("h5",[t._v("待办-我的申请")])]),t._v(" "),e("div",{staticClass:"md-right"})])]),t._v(" "),e("div",{staticClass:"bd-main"},[e("my-tabs",{attrs:{tabList:t.tabList,tabIndex:t.tabIndex},on:{changeTab:t.changeTab}},[e("keep-alive",[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"multipleTable",attrs:{height:"460",data:t.comTb.data,"tooltip-effect":"dark","empty-text":"暂无数据"}},[e("el-table-column",{attrs:{type:"index",width:"40"}}),t._v(" "),e("el-table-column",{attrs:{label:"标题内容"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v("\n                            "+t._s(a.row.applyContent)+"，案件编号\n                            "),e("a",{staticClass:"el-button--text el-button--small",staticStyle:{"text-decoration":"underline"},attrs:{href:"javascript:void(0)"},on:{click:function(e){t.goDetail(a.row)}}},[t._v("\n                              "+t._s(a.row.caseCode)+"\n                            ")])]}}])}),t._v(" "),t._l(t.comTb.fields,function(t){return e("el-table-column",{key:t.id,attrs:{align:"left",prop:t.key,label:t.label,width:t.width}})})],2)],1)],1),t._v(" "),e("pagination",{attrs:{total:t.total,pageSize:t.queryParams.pageSize,currentPage:t.queryParams.currentPage},on:{changePage:t.handleCurrentChange,changeSize:t.changeSize}})],1)])])],1)},staticRenderFns:[]};var c=e("vSla")(o,l,!1,function(t){e("UaAq")},"data-v-9f81feae",null);a.default=c.exports},UaAq:function(t,a){}});